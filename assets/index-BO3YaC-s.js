var PW=Object.defineProperty;var L_=e=>{throw TypeError(e)};var EW=(e,t,n)=>t in e?PW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var le=(e,t,n)=>EW(e,typeof t!="symbol"?t+"":t,n),V2=(e,t,n)=>t.has(e)||L_("Cannot "+n);var he=(e,t,n)=>(V2(e,t,"read from private field"),n?n.call(e):t.get(e)),St=(e,t,n)=>t.has(e)?L_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ut=(e,t,n,r)=>(V2(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),en=(e,t,n)=>(V2(e,t,"access private method"),n);var Vx=(e,t,n,r)=>({set _(s){ut(e,t,s,n)},get _(){return he(e,t,r)}});function TW(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oI={exports:{}},V1={},lI={exports:{}},ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=Symbol.for("react.element"),MW=Symbol.for("react.portal"),LW=Symbol.for("react.fragment"),IW=Symbol.for("react.strict_mode"),DW=Symbol.for("react.profiler"),RW=Symbol.for("react.provider"),OW=Symbol.for("react.context"),FW=Symbol.for("react.forward_ref"),zW=Symbol.for("react.suspense"),BW=Symbol.for("react.memo"),$W=Symbol.for("react.lazy"),I_=Symbol.iterator;function UW(e){return e===null||typeof e!="object"?null:(e=I_&&e[I_]||e["@@iterator"],typeof e=="function"?e:null)}var cI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uI=Object.assign,dI={};function ep(e,t,n){this.props=e,this.context=t,this.refs=dI,this.updater=n||cI}ep.prototype.isReactComponent={};ep.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ep.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hI(){}hI.prototype=ep.prototype;function sS(e,t,n){this.props=e,this.context=t,this.refs=dI,this.updater=n||cI}var iS=sS.prototype=new hI;iS.constructor=sS;uI(iS,ep.prototype);iS.isPureReactComponent=!0;var D_=Array.isArray,fI=Object.prototype.hasOwnProperty,aS={current:null},pI={key:!0,ref:!0,__self:!0,__source:!0};function mI(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)fI.call(t,r)&&!pI.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:f0,type:e,key:i,ref:a,props:s,_owner:aS.current}}function VW(e,t){return{$$typeof:f0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oS(e){return typeof e=="object"&&e!==null&&e.$$typeof===f0}function qW(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var R_=/\/+/g;function q2(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qW(""+e.key):t.toString(36)}function qy(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case f0:case MW:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+q2(a,0):r,D_(s)?(n="",e!=null&&(n=e.replace(R_,"$&/")+"/"),qy(s,t,n,"",function(u){return u})):s!=null&&(oS(s)&&(s=VW(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(R_,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",D_(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+q2(i,l);a+=qy(i,t,n,c,s)}else if(c=UW(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+q2(i,l++),a+=qy(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function qx(e,t,n){if(e==null)return e;var r=[],s=0;return qy(e,r,"","",function(i){return t.call(n,i,s++)}),r}function WW(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ti={current:null},Wy={transition:null},HW={ReactCurrentDispatcher:ti,ReactCurrentBatchConfig:Wy,ReactCurrentOwner:aS};function gI(){throw Error("act(...) is not supported in production builds of React.")}ln.Children={map:qx,forEach:function(e,t,n){qx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qx(e,function(){t++}),t},toArray:function(e){return qx(e,function(t){return t})||[]},only:function(e){if(!oS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ln.Component=ep;ln.Fragment=LW;ln.Profiler=DW;ln.PureComponent=sS;ln.StrictMode=IW;ln.Suspense=zW;ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HW;ln.act=gI;ln.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uI({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=aS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)fI.call(t,c)&&!pI.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:f0,type:e.type,key:s,ref:i,props:r,_owner:a}};ln.createContext=function(e){return e={$$typeof:OW,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RW,_context:e},e.Consumer=e};ln.createElement=mI;ln.createFactory=function(e){var t=mI.bind(null,e);return t.type=e,t};ln.createRef=function(){return{current:null}};ln.forwardRef=function(e){return{$$typeof:FW,render:e}};ln.isValidElement=oS;ln.lazy=function(e){return{$$typeof:$W,_payload:{_status:-1,_result:e},_init:WW}};ln.memo=function(e,t){return{$$typeof:BW,type:e,compare:t===void 0?null:t}};ln.startTransition=function(e){var t=Wy.transition;Wy.transition={};try{e()}finally{Wy.transition=t}};ln.unstable_act=gI;ln.useCallback=function(e,t){return ti.current.useCallback(e,t)};ln.useContext=function(e){return ti.current.useContext(e)};ln.useDebugValue=function(){};ln.useDeferredValue=function(e){return ti.current.useDeferredValue(e)};ln.useEffect=function(e,t){return ti.current.useEffect(e,t)};ln.useId=function(){return ti.current.useId()};ln.useImperativeHandle=function(e,t,n){return ti.current.useImperativeHandle(e,t,n)};ln.useInsertionEffect=function(e,t){return ti.current.useInsertionEffect(e,t)};ln.useLayoutEffect=function(e,t){return ti.current.useLayoutEffect(e,t)};ln.useMemo=function(e,t){return ti.current.useMemo(e,t)};ln.useReducer=function(e,t,n){return ti.current.useReducer(e,t,n)};ln.useRef=function(e){return ti.current.useRef(e)};ln.useState=function(e){return ti.current.useState(e)};ln.useSyncExternalStore=function(e,t,n){return ti.current.useSyncExternalStore(e,t,n)};ln.useTransition=function(){return ti.current.useTransition()};ln.version="18.3.1";lI.exports=ln;var N=lI.exports;const it=h0(N),xI=TW({__proto__:null,default:it},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YW=N,GW=Symbol.for("react.element"),KW=Symbol.for("react.fragment"),QW=Object.prototype.hasOwnProperty,XW=YW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JW={key:!0,ref:!0,__self:!0,__source:!0};function yI(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)QW.call(t,r)&&!JW.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:GW,type:e,key:i,ref:a,props:s,_owner:XW.current}}V1.Fragment=KW;V1.jsx=yI;V1.jsxs=yI;oI.exports=V1;var o=oI.exports,vI={exports:{}},Zi={},bI={exports:{}},wI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,G){var M=R.length;R.push(G);e:for(;0<M;){var ae=M-1>>>1,z=R[ae];if(0<s(z,G))R[ae]=G,R[M]=z,M=ae;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var G=R[0],M=R.pop();if(M!==G){R[0]=M;e:for(var ae=0,z=R.length,I=z>>>1;ae<I;){var J=2*(ae+1)-1,se=R[J],re=J+1,oe=R[re];if(0>s(se,M))re<z&&0>s(oe,se)?(R[ae]=oe,R[re]=M,ae=re):(R[ae]=se,R[J]=M,ae=J);else if(re<z&&0>s(oe,M))R[ae]=oe,R[re]=M,ae=re;else break e}}return G}function s(R,G){var M=R.sortIndex-G.sortIndex;return M!==0?M:R.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=R)r(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(u)}}function _(R){if(x=!1,w(R),!g)if(n(c)!==null)g=!0,W(C);else{var G=n(u);G!==null&&H(_,G.startTime-R)}}function C(R,G){g=!1,x&&(x=!1,v(T),T=-1),p=!0;var M=f;try{for(w(G),h=n(c);h!==null&&(!(h.expirationTime>G)||R&&!L());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var z=ae(h.expirationTime<=G);G=e.unstable_now(),typeof z=="function"?h.callback=z:h===n(c)&&r(c),w(G)}else r(c);h=n(c)}if(h!==null)var I=!0;else{var J=n(u);J!==null&&H(_,J.startTime-G),I=!1}return I}finally{h=null,f=M,p=!1}}var E=!1,O=null,T=-1,$=5,B=-1;function L(){return!(e.unstable_now()-B<$)}function P(){if(O!==null){var R=e.unstable_now();B=R;var G=!0;try{G=O(!0,R)}finally{G?D():(E=!1,O=null)}}else E=!1}var D;if(typeof y=="function")D=function(){y(P)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,U=F.port2;F.port1.onmessage=P,D=function(){U.postMessage(null)}}else D=function(){b(P,0)};function W(R){O=R,E||(E=!0,D())}function H(R,G){T=b(function(){R(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,W(C))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var M=f;f=G;try{return R()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var M=f;f=R;try{return G()}finally{f=M}},e.unstable_scheduleCallback=function(R,G,M){var ae=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ae+M:ae):M=ae,R){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=M+z,R={id:d++,callback:G,priorityLevel:R,startTime:M,expirationTime:z,sortIndex:-1},M>ae?(R.sortIndex=M,t(u,R),n(c)===null&&R===n(u)&&(x?(v(T),T=-1):x=!0,H(_,M-ae))):(R.sortIndex=z,t(c,R),g||p||(g=!0,W(C))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var G=f;return function(){var M=f;f=G;try{return R.apply(this,arguments)}finally{f=M}}}})(wI);bI.exports=wI;var ZW=bI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eH=N,Qi=ZW;function qe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jI=new Set,ig={};function Dd(e,t){Pf(e,t),Pf(e+"Capture",t)}function Pf(e,t){for(ig[e]=t,e=0;e<t.length;e++)jI.add(t[e])}var Il=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M5=Object.prototype.hasOwnProperty,tH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O_={},F_={};function nH(e){return M5.call(F_,e)?!0:M5.call(O_,e)?!1:tH.test(e)?F_[e]=!0:(O_[e]=!0,!1)}function rH(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sH(e,t,n,r){if(t===null||typeof t>"u"||rH(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ni(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var xs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xs[e]=new ni(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xs[t]=new ni(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xs[e]=new ni(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xs[e]=new ni(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xs[e]=new ni(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xs[e]=new ni(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xs[e]=new ni(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xs[e]=new ni(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xs[e]=new ni(e,5,!1,e.toLowerCase(),null,!1,!1)});var lS=/[\-:]([a-z])/g;function cS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lS,cS);xs[t]=new ni(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lS,cS);xs[t]=new ni(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lS,cS);xs[t]=new ni(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xs[e]=new ni(e,1,!1,e.toLowerCase(),null,!1,!1)});xs.xlinkHref=new ni("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xs[e]=new ni(e,1,!1,e.toLowerCase(),null,!0,!0)});function uS(e,t,n,r){var s=xs.hasOwnProperty(t)?xs[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sH(t,n,s,r)&&(n=null),r||s===null?nH(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wl=eH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wx=Symbol.for("react.element"),Ih=Symbol.for("react.portal"),Dh=Symbol.for("react.fragment"),dS=Symbol.for("react.strict_mode"),L5=Symbol.for("react.profiler"),NI=Symbol.for("react.provider"),SI=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),I5=Symbol.for("react.suspense"),D5=Symbol.for("react.suspense_list"),fS=Symbol.for("react.memo"),yc=Symbol.for("react.lazy"),kI=Symbol.for("react.offscreen"),z_=Symbol.iterator;function Vp(e){return e===null||typeof e!="object"?null:(e=z_&&e[z_]||e["@@iterator"],typeof e=="function"?e:null)}var ur=Object.assign,W2;function mm(e){if(W2===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W2=t&&t[1]||""}return`
`+W2+e}var H2=!1;function Y2(e,t){if(!e||H2)return"";H2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{H2=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mm(e):""}function iH(e){switch(e.tag){case 5:return mm(e.type);case 16:return mm("Lazy");case 13:return mm("Suspense");case 19:return mm("SuspenseList");case 0:case 2:case 15:return e=Y2(e.type,!1),e;case 11:return e=Y2(e.type.render,!1),e;case 1:return e=Y2(e.type,!0),e;default:return""}}function R5(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dh:return"Fragment";case Ih:return"Portal";case L5:return"Profiler";case dS:return"StrictMode";case I5:return"Suspense";case D5:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case SI:return(e.displayName||"Context")+".Consumer";case NI:return(e._context.displayName||"Context")+".Provider";case hS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fS:return t=e.displayName||null,t!==null?t:R5(e.type)||"Memo";case yc:t=e._payload,e=e._init;try{return R5(e(t))}catch{}}return null}function aH(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R5(t);case 8:return t===dS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _I(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oH(e){var t=_I(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hx(e){e._valueTracker||(e._valueTracker=oH(e))}function CI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_I(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function O5(e,t){var n=t.checked;return ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function B_(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tu(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function AI(e,t){t=t.checked,t!=null&&uS(e,"checked",t,!1)}function F5(e,t){AI(e,t);var n=tu(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?z5(e,t.type,n):t.hasOwnProperty("defaultValue")&&z5(e,t.type,tu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $_(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function z5(e,t,n){(t!=="number"||bv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gm=Array.isArray;function Kh(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tu(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function B5(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(qe(91));return ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function U_(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(qe(92));if(gm(n)){if(1<n.length)throw Error(qe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tu(n)}}function PI(e,t){var n=tu(t.value),r=tu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function V_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function EI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $5(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?EI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yx,TI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yx=Yx||document.createElement("div"),Yx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ag(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Am={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lH=["Webkit","ms","Moz","O"];Object.keys(Am).forEach(function(e){lH.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Am[t]=Am[e]})});function MI(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Am.hasOwnProperty(e)&&Am[e]?(""+t).trim():t+"px"}function LI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=MI(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var cH=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U5(e,t){if(t){if(cH[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(qe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(qe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(qe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(qe(62))}}function V5(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q5=null;function pS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var W5=null,Qh=null,Xh=null;function q_(e){if(e=g0(e)){if(typeof W5!="function")throw Error(qe(280));var t=e.stateNode;t&&(t=G1(t),W5(e.stateNode,e.type,t))}}function II(e){Qh?Xh?Xh.push(e):Xh=[e]:Qh=e}function DI(){if(Qh){var e=Qh,t=Xh;if(Xh=Qh=null,q_(e),t)for(e=0;e<t.length;e++)q_(t[e])}}function RI(e,t){return e(t)}function OI(){}var G2=!1;function FI(e,t,n){if(G2)return e(t,n);G2=!0;try{return RI(e,t,n)}finally{G2=!1,(Qh!==null||Xh!==null)&&(OI(),DI())}}function og(e,t){var n=e.stateNode;if(n===null)return null;var r=G1(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(qe(231,t,typeof n));return n}var H5=!1;if(Il)try{var qp={};Object.defineProperty(qp,"passive",{get:function(){H5=!0}}),window.addEventListener("test",qp,qp),window.removeEventListener("test",qp,qp)}catch{H5=!1}function uH(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Pm=!1,wv=null,jv=!1,Y5=null,dH={onError:function(e){Pm=!0,wv=e}};function hH(e,t,n,r,s,i,a,l,c){Pm=!1,wv=null,uH.apply(dH,arguments)}function fH(e,t,n,r,s,i,a,l,c){if(hH.apply(this,arguments),Pm){if(Pm){var u=wv;Pm=!1,wv=null}else throw Error(qe(198));jv||(jv=!0,Y5=u)}}function Rd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function W_(e){if(Rd(e)!==e)throw Error(qe(188))}function pH(e){var t=e.alternate;if(!t){if(t=Rd(e),t===null)throw Error(qe(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return W_(s),e;if(i===r)return W_(s),t;i=i.sibling}throw Error(qe(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(qe(189))}}if(n.alternate!==r)throw Error(qe(190))}if(n.tag!==3)throw Error(qe(188));return n.stateNode.current===n?e:t}function BI(e){return e=pH(e),e!==null?$I(e):null}function $I(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$I(e);if(t!==null)return t;e=e.sibling}return null}var UI=Qi.unstable_scheduleCallback,H_=Qi.unstable_cancelCallback,mH=Qi.unstable_shouldYield,gH=Qi.unstable_requestPaint,Cr=Qi.unstable_now,xH=Qi.unstable_getCurrentPriorityLevel,mS=Qi.unstable_ImmediatePriority,VI=Qi.unstable_UserBlockingPriority,Nv=Qi.unstable_NormalPriority,yH=Qi.unstable_LowPriority,qI=Qi.unstable_IdlePriority,q1=null,Fo=null;function vH(e){if(Fo&&typeof Fo.onCommitFiberRoot=="function")try{Fo.onCommitFiberRoot(q1,e,void 0,(e.current.flags&128)===128)}catch{}}var Ka=Math.clz32?Math.clz32:jH,bH=Math.log,wH=Math.LN2;function jH(e){return e>>>=0,e===0?32:31-(bH(e)/wH|0)|0}var Gx=64,Kx=4194304;function xm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=xm(l):(i&=a,i!==0&&(r=xm(i)))}else a=n&~s,a!==0?r=xm(a):i!==0&&(r=xm(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ka(t),s=1<<n,r|=e[n],t&=~s;return r}function NH(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SH(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ka(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=NH(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function G5(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function WI(){var e=Gx;return Gx<<=1,!(Gx&4194240)&&(Gx=64),e}function K2(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function p0(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ka(t),e[t]=n}function kH(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ka(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function gS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ka(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Tn=0;function HI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var YI,xS,GI,KI,QI,K5=!1,Qx=[],$c=null,Uc=null,Vc=null,lg=new Map,cg=new Map,wc=[],_H="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y_(e,t){switch(e){case"focusin":case"focusout":$c=null;break;case"dragenter":case"dragleave":Uc=null;break;case"mouseover":case"mouseout":Vc=null;break;case"pointerover":case"pointerout":lg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cg.delete(t.pointerId)}}function Wp(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=g0(t),t!==null&&xS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function CH(e,t,n,r,s){switch(t){case"focusin":return $c=Wp($c,e,t,n,r,s),!0;case"dragenter":return Uc=Wp(Uc,e,t,n,r,s),!0;case"mouseover":return Vc=Wp(Vc,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return lg.set(i,Wp(lg.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,cg.set(i,Wp(cg.get(i)||null,e,t,n,r,s)),!0}return!1}function XI(e){var t=Ku(e.target);if(t!==null){var n=Rd(t);if(n!==null){if(t=n.tag,t===13){if(t=zI(n),t!==null){e.blockedOn=t,QI(e.priority,function(){GI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Q5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);q5=r,n.target.dispatchEvent(r),q5=null}else return t=g0(n),t!==null&&xS(t),e.blockedOn=n,!1;t.shift()}return!0}function G_(e,t,n){Hy(e)&&n.delete(t)}function AH(){K5=!1,$c!==null&&Hy($c)&&($c=null),Uc!==null&&Hy(Uc)&&(Uc=null),Vc!==null&&Hy(Vc)&&(Vc=null),lg.forEach(G_),cg.forEach(G_)}function Hp(e,t){e.blockedOn===t&&(e.blockedOn=null,K5||(K5=!0,Qi.unstable_scheduleCallback(Qi.unstable_NormalPriority,AH)))}function ug(e){function t(s){return Hp(s,e)}if(0<Qx.length){Hp(Qx[0],e);for(var n=1;n<Qx.length;n++){var r=Qx[n];r.blockedOn===e&&(r.blockedOn=null)}}for($c!==null&&Hp($c,e),Uc!==null&&Hp(Uc,e),Vc!==null&&Hp(Vc,e),lg.forEach(t),cg.forEach(t),n=0;n<wc.length;n++)r=wc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wc.length&&(n=wc[0],n.blockedOn===null);)XI(n),n.blockedOn===null&&wc.shift()}var Jh=Wl.ReactCurrentBatchConfig,kv=!0;function PH(e,t,n,r){var s=Tn,i=Jh.transition;Jh.transition=null;try{Tn=1,yS(e,t,n,r)}finally{Tn=s,Jh.transition=i}}function EH(e,t,n,r){var s=Tn,i=Jh.transition;Jh.transition=null;try{Tn=4,yS(e,t,n,r)}finally{Tn=s,Jh.transition=i}}function yS(e,t,n,r){if(kv){var s=Q5(e,t,n,r);if(s===null)iw(e,t,r,_v,n),Y_(e,r);else if(CH(s,e,t,n,r))r.stopPropagation();else if(Y_(e,r),t&4&&-1<_H.indexOf(e)){for(;s!==null;){var i=g0(s);if(i!==null&&YI(i),i=Q5(e,t,n,r),i===null&&iw(e,t,r,_v,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else iw(e,t,r,null,n)}}var _v=null;function Q5(e,t,n,r){if(_v=null,e=pS(r),e=Ku(e),e!==null)if(t=Rd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _v=e,null}function JI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xH()){case mS:return 1;case VI:return 4;case Nv:case yH:return 16;case qI:return 536870912;default:return 16}default:return 16}}var Dc=null,vS=null,Yy=null;function ZI(){if(Yy)return Yy;var e,t=vS,n=t.length,r,s="value"in Dc?Dc.value:Dc.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Yy=s.slice(e,1<r?1-r:void 0)}function Gy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xx(){return!0}function K_(){return!1}function ea(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xx:K_,this.isPropagationStopped=K_,this}return ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xx)},persist:function(){},isPersistent:Xx}),t}var tp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bS=ea(tp),m0=ur({},tp,{view:0,detail:0}),TH=ea(m0),Q2,X2,Yp,W1=ur({},m0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yp&&(Yp&&e.type==="mousemove"?(Q2=e.screenX-Yp.screenX,X2=e.screenY-Yp.screenY):X2=Q2=0,Yp=e),Q2)},movementY:function(e){return"movementY"in e?e.movementY:X2}}),Q_=ea(W1),MH=ur({},W1,{dataTransfer:0}),LH=ea(MH),IH=ur({},m0,{relatedTarget:0}),J2=ea(IH),DH=ur({},tp,{animationName:0,elapsedTime:0,pseudoElement:0}),RH=ea(DH),OH=ur({},tp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FH=ea(OH),zH=ur({},tp,{data:0}),X_=ea(zH),BH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$H={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UH[e])?!!t[e]:!1}function wS(){return VH}var qH=ur({},m0,{key:function(e){if(e.key){var t=BH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$H[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wS,charCode:function(e){return e.type==="keypress"?Gy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),WH=ea(qH),HH=ur({},W1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J_=ea(HH),YH=ur({},m0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wS}),GH=ea(YH),KH=ur({},tp,{propertyName:0,elapsedTime:0,pseudoElement:0}),QH=ea(KH),XH=ur({},W1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JH=ea(XH),ZH=[9,13,27,32],jS=Il&&"CompositionEvent"in window,Em=null;Il&&"documentMode"in document&&(Em=document.documentMode);var eY=Il&&"TextEvent"in window&&!Em,eD=Il&&(!jS||Em&&8<Em&&11>=Em),Z_=" ",e3=!1;function tD(e,t){switch(e){case"keyup":return ZH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rh=!1;function tY(e,t){switch(e){case"compositionend":return nD(t);case"keypress":return t.which!==32?null:(e3=!0,Z_);case"textInput":return e=t.data,e===Z_&&e3?null:e;default:return null}}function nY(e,t){if(Rh)return e==="compositionend"||!jS&&tD(e,t)?(e=ZI(),Yy=vS=Dc=null,Rh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eD&&t.locale!=="ko"?null:t.data;default:return null}}var rY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rY[e.type]:t==="textarea"}function rD(e,t,n,r){II(r),t=Cv(t,"onChange"),0<t.length&&(n=new bS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Tm=null,dg=null;function sY(e){pD(e,0)}function H1(e){var t=zh(e);if(CI(t))return e}function iY(e,t){if(e==="change")return t}var sD=!1;if(Il){var Z2;if(Il){var ew="oninput"in document;if(!ew){var n3=document.createElement("div");n3.setAttribute("oninput","return;"),ew=typeof n3.oninput=="function"}Z2=ew}else Z2=!1;sD=Z2&&(!document.documentMode||9<document.documentMode)}function r3(){Tm&&(Tm.detachEvent("onpropertychange",iD),dg=Tm=null)}function iD(e){if(e.propertyName==="value"&&H1(dg)){var t=[];rD(t,dg,e,pS(e)),FI(sY,t)}}function aY(e,t,n){e==="focusin"?(r3(),Tm=t,dg=n,Tm.attachEvent("onpropertychange",iD)):e==="focusout"&&r3()}function oY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return H1(dg)}function lY(e,t){if(e==="click")return H1(t)}function cY(e,t){if(e==="input"||e==="change")return H1(t)}function uY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var to=typeof Object.is=="function"?Object.is:uY;function hg(e,t){if(to(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!M5.call(t,s)||!to(e[s],t[s]))return!1}return!0}function s3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i3(e,t){var n=s3(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s3(n)}}function aD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oD(){for(var e=window,t=bv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bv(e.document)}return t}function NS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dY(e){var t=oD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&aD(n.ownerDocument.documentElement,n)){if(r!==null&&NS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=i3(n,i);var a=i3(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hY=Il&&"documentMode"in document&&11>=document.documentMode,Oh=null,X5=null,Mm=null,J5=!1;function a3(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;J5||Oh==null||Oh!==bv(r)||(r=Oh,"selectionStart"in r&&NS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mm&&hg(Mm,r)||(Mm=r,r=Cv(X5,"onSelect"),0<r.length&&(t=new bS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Oh)))}function Jx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fh={animationend:Jx("Animation","AnimationEnd"),animationiteration:Jx("Animation","AnimationIteration"),animationstart:Jx("Animation","AnimationStart"),transitionend:Jx("Transition","TransitionEnd")},tw={},lD={};Il&&(lD=document.createElement("div").style,"AnimationEvent"in window||(delete Fh.animationend.animation,delete Fh.animationiteration.animation,delete Fh.animationstart.animation),"TransitionEvent"in window||delete Fh.transitionend.transition);function Y1(e){if(tw[e])return tw[e];if(!Fh[e])return e;var t=Fh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lD)return tw[e]=t[n];return e}var cD=Y1("animationend"),uD=Y1("animationiteration"),dD=Y1("animationstart"),hD=Y1("transitionend"),fD=new Map,o3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pu(e,t){fD.set(e,t),Dd(t,[e])}for(var nw=0;nw<o3.length;nw++){var rw=o3[nw],fY=rw.toLowerCase(),pY=rw[0].toUpperCase()+rw.slice(1);pu(fY,"on"+pY)}pu(cD,"onAnimationEnd");pu(uD,"onAnimationIteration");pu(dD,"onAnimationStart");pu("dblclick","onDoubleClick");pu("focusin","onFocus");pu("focusout","onBlur");pu(hD,"onTransitionEnd");Pf("onMouseEnter",["mouseout","mouseover"]);Pf("onMouseLeave",["mouseout","mouseover"]);Pf("onPointerEnter",["pointerout","pointerover"]);Pf("onPointerLeave",["pointerout","pointerover"]);Dd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ym="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mY=new Set("cancel close invalid load scroll toggle".split(" ").concat(ym));function l3(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,fH(r,t,void 0,e),e.currentTarget=null}function pD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;l3(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;l3(s,l,u),i=c}}}if(jv)throw e=Y5,jv=!1,Y5=null,e}function Wn(e,t){var n=t[rj];n===void 0&&(n=t[rj]=new Set);var r=e+"__bubble";n.has(r)||(mD(t,e,2,!1),n.add(r))}function sw(e,t,n){var r=0;t&&(r|=4),mD(n,e,r,t)}var Zx="_reactListening"+Math.random().toString(36).slice(2);function fg(e){if(!e[Zx]){e[Zx]=!0,jI.forEach(function(n){n!=="selectionchange"&&(mY.has(n)||sw(n,!1,e),sw(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zx]||(t[Zx]=!0,sw("selectionchange",!1,t))}}function mD(e,t,n,r){switch(JI(t)){case 1:var s=PH;break;case 4:s=EH;break;default:s=yS}n=s.bind(null,t,n,e),s=void 0,!H5||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function iw(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ku(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}FI(function(){var u=i,d=pS(n),h=[];e:{var f=fD.get(e);if(f!==void 0){var p=bS,g=e;switch(e){case"keypress":if(Gy(n)===0)break e;case"keydown":case"keyup":p=WH;break;case"focusin":g="focus",p=J2;break;case"focusout":g="blur",p=J2;break;case"beforeblur":case"afterblur":p=J2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Q_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=GH;break;case cD:case uD:case dD:p=RH;break;case hD:p=QH;break;case"scroll":p=TH;break;case"wheel":p=JH;break;case"copy":case"cut":case"paste":p=FH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=J_}var x=(t&4)!==0,b=!x&&e==="scroll",v=x?f!==null?f+"Capture":null:f;x=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,v!==null&&(_=og(y,v),_!=null&&x.push(pg(y,_,w)))),b)break;y=y.return}0<x.length&&(f=new p(f,g,null,n,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==q5&&(g=n.relatedTarget||n.fromElement)&&(Ku(g)||g[Dl]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Ku(g):null,g!==null&&(b=Rd(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(x=Q_,_="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=J_,_="onPointerLeave",v="onPointerEnter",y="pointer"),b=p==null?f:zh(p),w=g==null?f:zh(g),f=new x(_,y+"leave",p,n,d),f.target=b,f.relatedTarget=w,_=null,Ku(d)===u&&(x=new x(v,y+"enter",g,n,d),x.target=w,x.relatedTarget=b,_=x),b=_,p&&g)t:{for(x=p,v=g,y=0,w=x;w;w=vh(w))y++;for(w=0,_=v;_;_=vh(_))w++;for(;0<y-w;)x=vh(x),y--;for(;0<w-y;)v=vh(v),w--;for(;y--;){if(x===v||v!==null&&x===v.alternate)break t;x=vh(x),v=vh(v)}x=null}else x=null;p!==null&&c3(h,f,p,x,!1),g!==null&&b!==null&&c3(h,b,g,x,!0)}}e:{if(f=u?zh(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=iY;else if(t3(f))if(sD)C=cY;else{C=oY;var E=aY}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=lY);if(C&&(C=C(e,u))){rD(h,C,n,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&z5(f,"number",f.value)}switch(E=u?zh(u):window,e){case"focusin":(t3(E)||E.contentEditable==="true")&&(Oh=E,X5=u,Mm=null);break;case"focusout":Mm=X5=Oh=null;break;case"mousedown":J5=!0;break;case"contextmenu":case"mouseup":case"dragend":J5=!1,a3(h,n,d);break;case"selectionchange":if(hY)break;case"keydown":case"keyup":a3(h,n,d)}var O;if(jS)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Rh?tD(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(eD&&n.locale!=="ko"&&(Rh||T!=="onCompositionStart"?T==="onCompositionEnd"&&Rh&&(O=ZI()):(Dc=d,vS="value"in Dc?Dc.value:Dc.textContent,Rh=!0)),E=Cv(u,T),0<E.length&&(T=new X_(T,e,null,n,d),h.push({event:T,listeners:E}),O?T.data=O:(O=nD(n),O!==null&&(T.data=O)))),(O=eY?tY(e,n):nY(e,n))&&(u=Cv(u,"onBeforeInput"),0<u.length&&(d=new X_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=O))}pD(h,t)})}function pg(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cv(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=og(e,n),i!=null&&r.unshift(pg(e,i,s)),i=og(e,t),i!=null&&r.push(pg(e,i,s))),e=e.return}return r}function vh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function c3(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=og(n,i),c!=null&&a.unshift(pg(n,c,l))):s||(c=og(n,i),c!=null&&a.push(pg(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var gY=/\r\n?/g,xY=/\u0000|\uFFFD/g;function u3(e){return(typeof e=="string"?e:""+e).replace(gY,`
`).replace(xY,"")}function ey(e,t,n){if(t=u3(t),u3(e)!==t&&n)throw Error(qe(425))}function Av(){}var Z5=null,ej=null;function tj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nj=typeof setTimeout=="function"?setTimeout:void 0,yY=typeof clearTimeout=="function"?clearTimeout:void 0,d3=typeof Promise=="function"?Promise:void 0,vY=typeof queueMicrotask=="function"?queueMicrotask:typeof d3<"u"?function(e){return d3.resolve(null).then(e).catch(bY)}:nj;function bY(e){setTimeout(function(){throw e})}function aw(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ug(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ug(t)}function qc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function h3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var np=Math.random().toString(36).slice(2),Lo="__reactFiber$"+np,mg="__reactProps$"+np,Dl="__reactContainer$"+np,rj="__reactEvents$"+np,wY="__reactListeners$"+np,jY="__reactHandles$"+np;function Ku(e){var t=e[Lo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dl]||n[Lo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=h3(e);e!==null;){if(n=e[Lo])return n;e=h3(e)}return t}e=n,n=e.parentNode}return null}function g0(e){return e=e[Lo]||e[Dl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(qe(33))}function G1(e){return e[mg]||null}var sj=[],Bh=-1;function mu(e){return{current:e}}function Gn(e){0>Bh||(e.current=sj[Bh],sj[Bh]=null,Bh--)}function Un(e,t){Bh++,sj[Bh]=e.current,e.current=t}var nu={},Os=mu(nu),vi=mu(!1),vd=nu;function Ef(e,t){var n=e.type.contextTypes;if(!n)return nu;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function bi(e){return e=e.childContextTypes,e!=null}function Pv(){Gn(vi),Gn(Os)}function f3(e,t,n){if(Os.current!==nu)throw Error(qe(168));Un(Os,t),Un(vi,n)}function gD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(qe(108,aH(e)||"Unknown",s));return ur({},n,r)}function Ev(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nu,vd=Os.current,Un(Os,e),Un(vi,vi.current),!0}function p3(e,t,n){var r=e.stateNode;if(!r)throw Error(qe(169));n?(e=gD(e,t,vd),r.__reactInternalMemoizedMergedChildContext=e,Gn(vi),Gn(Os),Un(Os,e)):Gn(vi),Un(vi,n)}var Nl=null,K1=!1,ow=!1;function xD(e){Nl===null?Nl=[e]:Nl.push(e)}function NY(e){K1=!0,xD(e)}function gu(){if(!ow&&Nl!==null){ow=!0;var e=0,t=Tn;try{var n=Nl;for(Tn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nl=null,K1=!1}catch(s){throw Nl!==null&&(Nl=Nl.slice(e+1)),UI(mS,gu),s}finally{Tn=t,ow=!1}}return null}var $h=[],Uh=0,Tv=null,Mv=0,fa=[],pa=0,bd=null,Al=1,Pl="";function $u(e,t){$h[Uh++]=Mv,$h[Uh++]=Tv,Tv=e,Mv=t}function yD(e,t,n){fa[pa++]=Al,fa[pa++]=Pl,fa[pa++]=bd,bd=e;var r=Al;e=Pl;var s=32-Ka(r)-1;r&=~(1<<s),n+=1;var i=32-Ka(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Al=1<<32-Ka(t)+s|n<<s|r,Pl=i+e}else Al=1<<i|n<<s|r,Pl=e}function SS(e){e.return!==null&&($u(e,1),yD(e,1,0))}function kS(e){for(;e===Tv;)Tv=$h[--Uh],$h[Uh]=null,Mv=$h[--Uh],$h[Uh]=null;for(;e===bd;)bd=fa[--pa],fa[pa]=null,Pl=fa[--pa],fa[pa]=null,Al=fa[--pa],fa[pa]=null}var Hi=null,Ui=null,Qn=!1,Va=null;function vD(e,t){var n=ga(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function m3(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Hi=e,Ui=qc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Hi=e,Ui=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bd!==null?{id:Al,overflow:Pl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ga(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Hi=e,Ui=null,!0):!1;default:return!1}}function ij(e){return(e.mode&1)!==0&&(e.flags&128)===0}function aj(e){if(Qn){var t=Ui;if(t){var n=t;if(!m3(e,t)){if(ij(e))throw Error(qe(418));t=qc(n.nextSibling);var r=Hi;t&&m3(e,t)?vD(r,n):(e.flags=e.flags&-4097|2,Qn=!1,Hi=e)}}else{if(ij(e))throw Error(qe(418));e.flags=e.flags&-4097|2,Qn=!1,Hi=e}}}function g3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Hi=e}function ty(e){if(e!==Hi)return!1;if(!Qn)return g3(e),Qn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tj(e.type,e.memoizedProps)),t&&(t=Ui)){if(ij(e))throw bD(),Error(qe(418));for(;t;)vD(e,t),t=qc(t.nextSibling)}if(g3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(qe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ui=qc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ui=null}}else Ui=Hi?qc(e.stateNode.nextSibling):null;return!0}function bD(){for(var e=Ui;e;)e=qc(e.nextSibling)}function Tf(){Ui=Hi=null,Qn=!1}function _S(e){Va===null?Va=[e]:Va.push(e)}var SY=Wl.ReactCurrentBatchConfig;function Gp(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(qe(309));var r=n.stateNode}if(!r)throw Error(qe(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(qe(284));if(!n._owner)throw Error(qe(290,e))}return e}function ny(e,t){throw e=Object.prototype.toString.call(t),Error(qe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function x3(e){var t=e._init;return t(e._payload)}function wD(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Gc(v,y),v.index=0,v.sibling=null,v}function i(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,w,_){return y===null||y.tag!==6?(y=pw(w,v.mode,_),y.return=v,y):(y=s(y,w),y.return=v,y)}function c(v,y,w,_){var C=w.type;return C===Dh?d(v,y,w.props.children,_,w.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yc&&x3(C)===y.type)?(_=s(y,w.props),_.ref=Gp(v,y,w),_.return=v,_):(_=tv(w.type,w.key,w.props,null,v.mode,_),_.ref=Gp(v,y,w),_.return=v,_)}function u(v,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=mw(w,v.mode,_),y.return=v,y):(y=s(y,w.children||[]),y.return=v,y)}function d(v,y,w,_,C){return y===null||y.tag!==7?(y=hd(w,v.mode,_,C),y.return=v,y):(y=s(y,w),y.return=v,y)}function h(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pw(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wx:return w=tv(y.type,y.key,y.props,null,v.mode,w),w.ref=Gp(v,null,y),w.return=v,w;case Ih:return y=mw(y,v.mode,w),y.return=v,y;case yc:var _=y._init;return h(v,_(y._payload),w)}if(gm(y)||Vp(y))return y=hd(y,v.mode,w,null),y.return=v,y;ny(v,y)}return null}function f(v,y,w,_){var C=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:l(v,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wx:return w.key===C?c(v,y,w,_):null;case Ih:return w.key===C?u(v,y,w,_):null;case yc:return C=w._init,f(v,y,C(w._payload),_)}if(gm(w)||Vp(w))return C!==null?null:d(v,y,w,_,null);ny(v,w)}return null}function p(v,y,w,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(w)||null,l(y,v,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wx:return v=v.get(_.key===null?w:_.key)||null,c(y,v,_,C);case Ih:return v=v.get(_.key===null?w:_.key)||null,u(y,v,_,C);case yc:var E=_._init;return p(v,y,w,E(_._payload),C)}if(gm(_)||Vp(_))return v=v.get(w)||null,d(y,v,_,C,null);ny(y,_)}return null}function g(v,y,w,_){for(var C=null,E=null,O=y,T=y=0,$=null;O!==null&&T<w.length;T++){O.index>T?($=O,O=null):$=O.sibling;var B=f(v,O,w[T],_);if(B===null){O===null&&(O=$);break}e&&O&&B.alternate===null&&t(v,O),y=i(B,y,T),E===null?C=B:E.sibling=B,E=B,O=$}if(T===w.length)return n(v,O),Qn&&$u(v,T),C;if(O===null){for(;T<w.length;T++)O=h(v,w[T],_),O!==null&&(y=i(O,y,T),E===null?C=O:E.sibling=O,E=O);return Qn&&$u(v,T),C}for(O=r(v,O);T<w.length;T++)$=p(O,v,T,w[T],_),$!==null&&(e&&$.alternate!==null&&O.delete($.key===null?T:$.key),y=i($,y,T),E===null?C=$:E.sibling=$,E=$);return e&&O.forEach(function(L){return t(v,L)}),Qn&&$u(v,T),C}function x(v,y,w,_){var C=Vp(w);if(typeof C!="function")throw Error(qe(150));if(w=C.call(w),w==null)throw Error(qe(151));for(var E=C=null,O=y,T=y=0,$=null,B=w.next();O!==null&&!B.done;T++,B=w.next()){O.index>T?($=O,O=null):$=O.sibling;var L=f(v,O,B.value,_);if(L===null){O===null&&(O=$);break}e&&O&&L.alternate===null&&t(v,O),y=i(L,y,T),E===null?C=L:E.sibling=L,E=L,O=$}if(B.done)return n(v,O),Qn&&$u(v,T),C;if(O===null){for(;!B.done;T++,B=w.next())B=h(v,B.value,_),B!==null&&(y=i(B,y,T),E===null?C=B:E.sibling=B,E=B);return Qn&&$u(v,T),C}for(O=r(v,O);!B.done;T++,B=w.next())B=p(O,v,T,B.value,_),B!==null&&(e&&B.alternate!==null&&O.delete(B.key===null?T:B.key),y=i(B,y,T),E===null?C=B:E.sibling=B,E=B);return e&&O.forEach(function(P){return t(v,P)}),Qn&&$u(v,T),C}function b(v,y,w,_){if(typeof w=="object"&&w!==null&&w.type===Dh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wx:e:{for(var C=w.key,E=y;E!==null;){if(E.key===C){if(C=w.type,C===Dh){if(E.tag===7){n(v,E.sibling),y=s(E,w.props.children),y.return=v,v=y;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yc&&x3(C)===E.type){n(v,E.sibling),y=s(E,w.props),y.ref=Gp(v,E,w),y.return=v,v=y;break e}n(v,E);break}else t(v,E);E=E.sibling}w.type===Dh?(y=hd(w.props.children,v.mode,_,w.key),y.return=v,v=y):(_=tv(w.type,w.key,w.props,null,v.mode,_),_.ref=Gp(v,y,w),_.return=v,v=_)}return a(v);case Ih:e:{for(E=w.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=s(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=mw(w,v.mode,_),y.return=v,v=y}return a(v);case yc:return E=w._init,b(v,y,E(w._payload),_)}if(gm(w))return g(v,y,w,_);if(Vp(w))return x(v,y,w,_);ny(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,w),y.return=v,v=y):(n(v,y),y=pw(w,v.mode,_),y.return=v,v=y),a(v)):n(v,y)}return b}var Mf=wD(!0),jD=wD(!1),Lv=mu(null),Iv=null,Vh=null,CS=null;function AS(){CS=Vh=Iv=null}function PS(e){var t=Lv.current;Gn(Lv),e._currentValue=t}function oj(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zh(e,t){Iv=e,CS=Vh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gi=!0),e.firstContext=null)}function ba(e){var t=e._currentValue;if(CS!==e)if(e={context:e,memoizedValue:t,next:null},Vh===null){if(Iv===null)throw Error(qe(308));Vh=e,Iv.dependencies={lanes:0,firstContext:e}}else Vh=Vh.next=e;return t}var Qu=null;function ES(e){Qu===null?Qu=[e]:Qu.push(e)}function ND(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ES(t)):(n.next=s.next,s.next=n),t.interleaved=n,Rl(e,r)}function Rl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vc=!1;function TS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,yn&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Rl(e,n)}return s=r.interleaved,s===null?(t.next=t,ES(r)):(t.next=s.next,s.next=t),r.interleaved=t,Rl(e,n)}function Ky(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gS(e,n)}}function y3(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dv(e,t,n,r){var s=e.updateQueue;vc=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(f=t,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=ur({},h,f);break e;case 2:vc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);jd|=a,e.lanes=a,e.memoizedState=h}}function v3(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(qe(191,s));s.call(r)}}}var x0={},zo=mu(x0),gg=mu(x0),xg=mu(x0);function Xu(e){if(e===x0)throw Error(qe(174));return e}function MS(e,t){switch(Un(xg,t),Un(gg,e),Un(zo,x0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$5(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$5(t,e)}Gn(zo),Un(zo,t)}function Lf(){Gn(zo),Gn(gg),Gn(xg)}function kD(e){Xu(xg.current);var t=Xu(zo.current),n=$5(t,e.type);t!==n&&(Un(gg,e),Un(zo,n))}function LS(e){gg.current===e&&(Gn(zo),Gn(gg))}var nr=mu(0);function Rv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lw=[];function IS(){for(var e=0;e<lw.length;e++)lw[e]._workInProgressVersionPrimary=null;lw.length=0}var Qy=Wl.ReactCurrentDispatcher,cw=Wl.ReactCurrentBatchConfig,wd=0,cr=null,Hr=null,ns=null,Ov=!1,Lm=!1,yg=0,kY=0;function js(){throw Error(qe(321))}function DS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!to(e[n],t[n]))return!1;return!0}function RS(e,t,n,r,s,i){if(wd=i,cr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qy.current=e===null||e.memoizedState===null?PY:EY,e=n(r,s),Lm){i=0;do{if(Lm=!1,yg=0,25<=i)throw Error(qe(301));i+=1,ns=Hr=null,t.updateQueue=null,Qy.current=TY,e=n(r,s)}while(Lm)}if(Qy.current=Fv,t=Hr!==null&&Hr.next!==null,wd=0,ns=Hr=cr=null,Ov=!1,t)throw Error(qe(300));return e}function OS(){var e=yg!==0;return yg=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ns===null?cr.memoizedState=ns=e:ns=ns.next=e,ns}function wa(){if(Hr===null){var e=cr.alternate;e=e!==null?e.memoizedState:null}else e=Hr.next;var t=ns===null?cr.memoizedState:ns.next;if(t!==null)ns=t,Hr=e;else{if(e===null)throw Error(qe(310));Hr=e,e={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},ns===null?cr.memoizedState=ns=e:ns=ns.next=e}return ns}function vg(e,t){return typeof t=="function"?t(e):t}function uw(e){var t=wa(),n=t.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=e;var r=Hr,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((wd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,cr.lanes|=d,jd|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,to(r,t.memoizedState)||(gi=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,cr.lanes|=i,jd|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dw(e){var t=wa(),n=t.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);to(i,t.memoizedState)||(gi=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function _D(){}function CD(e,t){var n=cr,r=wa(),s=t(),i=!to(r.memoizedState,s);if(i&&(r.memoizedState=s,gi=!0),r=r.queue,FS(ED.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ns!==null&&ns.memoizedState.tag&1){if(n.flags|=2048,bg(9,PD.bind(null,n,r,s,t),void 0,null),ss===null)throw Error(qe(349));wd&30||AD(n,t,s)}return s}function AD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=cr.updateQueue,t===null?(t={lastEffect:null,stores:null},cr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function PD(e,t,n,r){t.value=n,t.getSnapshot=r,TD(t)&&MD(e)}function ED(e,t,n){return n(function(){TD(t)&&MD(e)})}function TD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!to(e,n)}catch{return!0}}function MD(e){var t=Rl(e,1);t!==null&&Qa(t,e,1,-1)}function b3(e){var t=So();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:e},t.queue=e,e=e.dispatch=AY.bind(null,cr,e),[t.memoizedState,e]}function bg(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=cr.updateQueue,t===null?(t={lastEffect:null,stores:null},cr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function LD(){return wa().memoizedState}function Xy(e,t,n,r){var s=So();cr.flags|=e,s.memoizedState=bg(1|t,n,void 0,r===void 0?null:r)}function Q1(e,t,n,r){var s=wa();r=r===void 0?null:r;var i=void 0;if(Hr!==null){var a=Hr.memoizedState;if(i=a.destroy,r!==null&&DS(r,a.deps)){s.memoizedState=bg(t,n,i,r);return}}cr.flags|=e,s.memoizedState=bg(1|t,n,i,r)}function w3(e,t){return Xy(8390656,8,e,t)}function FS(e,t){return Q1(2048,8,e,t)}function ID(e,t){return Q1(4,2,e,t)}function DD(e,t){return Q1(4,4,e,t)}function RD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function OD(e,t,n){return n=n!=null?n.concat([e]):null,Q1(4,4,RD.bind(null,t,e),n)}function zS(){}function FD(e,t){var n=wa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&DS(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zD(e,t){var n=wa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&DS(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function BD(e,t,n){return wd&21?(to(n,t)||(n=WI(),cr.lanes|=n,jd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gi=!0),e.memoizedState=n)}function _Y(e,t){var n=Tn;Tn=n!==0&&4>n?n:4,e(!0);var r=cw.transition;cw.transition={};try{e(!1),t()}finally{Tn=n,cw.transition=r}}function $D(){return wa().memoizedState}function CY(e,t,n){var r=Yc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UD(e))VD(t,n);else if(n=ND(e,t,n,r),n!==null){var s=Zs();Qa(n,e,r,s),qD(n,t,r)}}function AY(e,t,n){var r=Yc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UD(e))VD(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,to(l,a)){var c=t.interleaved;c===null?(s.next=s,ES(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=ND(e,t,s,r),n!==null&&(s=Zs(),Qa(n,e,r,s),qD(n,t,r))}}function UD(e){var t=e.alternate;return e===cr||t!==null&&t===cr}function VD(e,t){Lm=Ov=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gS(e,n)}}var Fv={readContext:ba,useCallback:js,useContext:js,useEffect:js,useImperativeHandle:js,useInsertionEffect:js,useLayoutEffect:js,useMemo:js,useReducer:js,useRef:js,useState:js,useDebugValue:js,useDeferredValue:js,useTransition:js,useMutableSource:js,useSyncExternalStore:js,useId:js,unstable_isNewReconciler:!1},PY={readContext:ba,useCallback:function(e,t){return So().memoizedState=[e,t===void 0?null:t],e},useContext:ba,useEffect:w3,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xy(4194308,4,RD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xy(4,2,e,t)},useMemo:function(e,t){var n=So();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=CY.bind(null,cr,e),[r.memoizedState,e]},useRef:function(e){var t=So();return e={current:e},t.memoizedState=e},useState:b3,useDebugValue:zS,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=b3(!1),t=e[0];return e=_Y.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=cr,s=So();if(Qn){if(n===void 0)throw Error(qe(407));n=n()}else{if(n=t(),ss===null)throw Error(qe(349));wd&30||AD(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,w3(ED.bind(null,r,i,e),[e]),r.flags|=2048,bg(9,PD.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=So(),t=ss.identifierPrefix;if(Qn){var n=Pl,r=Al;n=(r&~(1<<32-Ka(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yg++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kY++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},EY={readContext:ba,useCallback:FD,useContext:ba,useEffect:FS,useImperativeHandle:OD,useInsertionEffect:ID,useLayoutEffect:DD,useMemo:zD,useReducer:uw,useRef:LD,useState:function(){return uw(vg)},useDebugValue:zS,useDeferredValue:function(e){var t=wa();return BD(t,Hr.memoizedState,e)},useTransition:function(){var e=uw(vg)[0],t=wa().memoizedState;return[e,t]},useMutableSource:_D,useSyncExternalStore:CD,useId:$D,unstable_isNewReconciler:!1},TY={readContext:ba,useCallback:FD,useContext:ba,useEffect:FS,useImperativeHandle:OD,useInsertionEffect:ID,useLayoutEffect:DD,useMemo:zD,useReducer:dw,useRef:LD,useState:function(){return dw(vg)},useDebugValue:zS,useDeferredValue:function(e){var t=wa();return Hr===null?t.memoizedState=e:BD(t,Hr.memoizedState,e)},useTransition:function(){var e=dw(vg)[0],t=wa().memoizedState;return[e,t]},useMutableSource:_D,useSyncExternalStore:CD,useId:$D,unstable_isNewReconciler:!1};function za(e,t){if(e&&e.defaultProps){t=ur({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function lj(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ur({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var X1={isMounted:function(e){return(e=e._reactInternals)?Rd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zs(),s=Yc(e),i=Tl(r,s);i.payload=t,n!=null&&(i.callback=n),t=Wc(e,i,s),t!==null&&(Qa(t,e,s,r),Ky(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zs(),s=Yc(e),i=Tl(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Wc(e,i,s),t!==null&&(Qa(t,e,s,r),Ky(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zs(),r=Yc(e),s=Tl(n,r);s.tag=2,t!=null&&(s.callback=t),t=Wc(e,s,r),t!==null&&(Qa(t,e,r,n),Ky(t,e,r))}};function j3(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!hg(n,r)||!hg(s,i):!0}function WD(e,t,n){var r=!1,s=nu,i=t.contextType;return typeof i=="object"&&i!==null?i=ba(i):(s=bi(t)?vd:Os.current,r=t.contextTypes,i=(r=r!=null)?Ef(e,s):nu),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=X1,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function N3(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&X1.enqueueReplaceState(t,t.state,null)}function cj(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},TS(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ba(i):(i=bi(t)?vd:Os.current,s.context=Ef(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(lj(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&X1.enqueueReplaceState(s,s.state,null),Dv(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function If(e,t){try{var n="",r=t;do n+=iH(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function hw(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function uj(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var MY=typeof WeakMap=="function"?WeakMap:Map;function HD(e,t,n){n=Tl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bv||(Bv=!0,bj=r),uj(e,t)},n}function YD(e,t,n){n=Tl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){uj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){uj(e,t),typeof r!="function"&&(Hc===null?Hc=new Set([this]):Hc.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function S3(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new MY;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=HY.bind(null,e,t,n),t.then(e,e))}function k3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _3(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tl(-1,1),t.tag=2,Wc(n,t,1))),n.lanes|=1),e)}var LY=Wl.ReactCurrentOwner,gi=!1;function Ks(e,t,n,r){t.child=e===null?jD(t,null,n,r):Mf(t,e.child,n,r)}function C3(e,t,n,r,s){n=n.render;var i=t.ref;return Zh(t,s),r=RS(e,t,n,r,i,s),n=OS(),e!==null&&!gi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ol(e,t,s)):(Qn&&n&&SS(t),t.flags|=1,Ks(e,t,r,s),t.child)}function A3(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!YS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,GD(e,t,i,r,s)):(e=tv(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:hg,n(a,r)&&e.ref===t.ref)return Ol(e,t,s)}return t.flags|=1,e=Gc(i,r),e.ref=t.ref,e.return=t,t.child=e}function GD(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(hg(i,r)&&e.ref===t.ref)if(gi=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(gi=!0);else return t.lanes=e.lanes,Ol(e,t,s)}return dj(e,t,n,r,s)}function KD(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(Wh,Di),Di|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Un(Wh,Di),Di|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Un(Wh,Di),Di|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Un(Wh,Di),Di|=r;return Ks(e,t,s,n),t.child}function QD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function dj(e,t,n,r,s){var i=bi(n)?vd:Os.current;return i=Ef(t,i),Zh(t,s),n=RS(e,t,n,r,i,s),r=OS(),e!==null&&!gi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ol(e,t,s)):(Qn&&r&&SS(t),t.flags|=1,Ks(e,t,n,s),t.child)}function P3(e,t,n,r,s){if(bi(n)){var i=!0;Ev(t)}else i=!1;if(Zh(t,s),t.stateNode===null)Jy(e,t),WD(t,n,r),cj(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ba(u):(u=bi(n)?vd:Os.current,u=Ef(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&N3(t,a,r,u),vc=!1;var f=t.memoizedState;a.state=f,Dv(t,r,a,s),c=t.memoizedState,l!==r||f!==c||vi.current||vc?(typeof d=="function"&&(lj(t,n,d,r),c=t.memoizedState),(l=vc||j3(t,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,SD(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:za(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ba(c):(c=bi(n)?vd:Os.current,c=Ef(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&N3(t,a,r,c),vc=!1,f=t.memoizedState,a.state=f,Dv(t,r,a,s);var g=t.memoizedState;l!==h||f!==g||vi.current||vc?(typeof p=="function"&&(lj(t,n,p,r),g=t.memoizedState),(u=vc||j3(t,n,u,r,f,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return hj(e,t,n,r,i,s)}function hj(e,t,n,r,s,i){QD(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&p3(t,n,!1),Ol(e,t,i);r=t.stateNode,LY.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Mf(t,e.child,null,i),t.child=Mf(t,null,l,i)):Ks(e,t,l,i),t.memoizedState=r.state,s&&p3(t,n,!0),t.child}function XD(e){var t=e.stateNode;t.pendingContext?f3(e,t.pendingContext,t.pendingContext!==t.context):t.context&&f3(e,t.context,!1),MS(e,t.containerInfo)}function E3(e,t,n,r,s){return Tf(),_S(s),t.flags|=256,Ks(e,t,n,r),t.child}var fj={dehydrated:null,treeContext:null,retryLane:0};function pj(e){return{baseLanes:e,cachePool:null,transitions:null}}function JD(e,t,n){var r=t.pendingProps,s=nr.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Un(nr,s&1),e===null)return aj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=eb(a,r,0,null),e=hd(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=pj(n),t.memoizedState=fj,e):BS(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return IY(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Gc(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Gc(l,i):(i=hd(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?pj(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=fj,r}return i=e.child,e=i.sibling,r=Gc(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function BS(e,t){return t=eb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ry(e,t,n,r){return r!==null&&_S(r),Mf(t,e.child,null,n),e=BS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IY(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=hw(Error(qe(422))),ry(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=eb({mode:"visible",children:r.children},s,0,null),i=hd(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Mf(t,e.child,null,a),t.child.memoizedState=pj(a),t.memoizedState=fj,i);if(!(t.mode&1))return ry(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(qe(419)),r=hw(i,r,void 0),ry(e,t,a,r)}if(l=(a&e.childLanes)!==0,gi||l){if(r=ss,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rl(e,s),Qa(r,e,s,-1))}return HS(),r=hw(Error(qe(421))),ry(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=YY.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ui=qc(s.nextSibling),Hi=t,Qn=!0,Va=null,e!==null&&(fa[pa++]=Al,fa[pa++]=Pl,fa[pa++]=bd,Al=e.id,Pl=e.overflow,bd=t),t=BS(t,r.children),t.flags|=4096,t)}function T3(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oj(e.return,t,n)}function fw(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ZD(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ks(e,t,r.children,n),r=nr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&T3(e,n,t);else if(e.tag===19)T3(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Un(nr,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Rv(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fw(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Rv(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fw(t,!0,n,null,i);break;case"together":fw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ol(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(qe(153));if(t.child!==null){for(e=t.child,n=Gc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DY(e,t,n){switch(t.tag){case 3:XD(t),Tf();break;case 5:kD(t);break;case 1:bi(t.type)&&Ev(t);break;case 4:MS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Un(Lv,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Un(nr,nr.current&1),t.flags|=128,null):n&t.child.childLanes?JD(e,t,n):(Un(nr,nr.current&1),e=Ol(e,t,n),e!==null?e.sibling:null);Un(nr,nr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ZD(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Un(nr,nr.current),r)break;return null;case 22:case 23:return t.lanes=0,KD(e,t,n)}return Ol(e,t,n)}var e8,mj,t8,n8;e8=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mj=function(){};t8=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Xu(zo.current);var i=null;switch(n){case"input":s=O5(e,s),r=O5(e,r),i=[];break;case"select":s=ur({},s,{value:void 0}),r=ur({},r,{value:void 0}),i=[];break;case"textarea":s=B5(e,s),r=B5(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Av)}U5(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ig.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ig.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Wn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};n8=function(e,t,n,r){n!==r&&(t.flags|=4)};function Kp(e,t){if(!Qn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ns(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function RY(e,t,n){var r=t.pendingProps;switch(kS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ns(t),null;case 1:return bi(t.type)&&Pv(),Ns(t),null;case 3:return r=t.stateNode,Lf(),Gn(vi),Gn(Os),IS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ty(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Va!==null&&(Nj(Va),Va=null))),mj(e,t),Ns(t),null;case 5:LS(t);var s=Xu(xg.current);if(n=t.type,e!==null&&t.stateNode!=null)t8(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(qe(166));return Ns(t),null}if(e=Xu(zo.current),ty(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Lo]=t,r[mg]=i,e=(t.mode&1)!==0,n){case"dialog":Wn("cancel",r),Wn("close",r);break;case"iframe":case"object":case"embed":Wn("load",r);break;case"video":case"audio":for(s=0;s<ym.length;s++)Wn(ym[s],r);break;case"source":Wn("error",r);break;case"img":case"image":case"link":Wn("error",r),Wn("load",r);break;case"details":Wn("toggle",r);break;case"input":B_(r,i),Wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Wn("invalid",r);break;case"textarea":U_(r,i),Wn("invalid",r)}U5(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ey(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ey(r.textContent,l,e),s=["children",""+l]):ig.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Wn("scroll",r)}switch(n){case"input":Hx(r),$_(r,i,!0);break;case"textarea":Hx(r),V_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Av)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=EI(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Lo]=t,e[mg]=r,e8(e,t,!1,!1),t.stateNode=e;e:{switch(a=V5(n,r),n){case"dialog":Wn("cancel",e),Wn("close",e),s=r;break;case"iframe":case"object":case"embed":Wn("load",e),s=r;break;case"video":case"audio":for(s=0;s<ym.length;s++)Wn(ym[s],e);s=r;break;case"source":Wn("error",e),s=r;break;case"img":case"image":case"link":Wn("error",e),Wn("load",e),s=r;break;case"details":Wn("toggle",e),s=r;break;case"input":B_(e,r),s=O5(e,r),Wn("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ur({},r,{value:void 0}),Wn("invalid",e);break;case"textarea":U_(e,r),s=B5(e,r),Wn("invalid",e);break;default:s=r}U5(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?LI(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&TI(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ag(e,c):typeof c=="number"&&ag(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ig.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Wn("scroll",e):c!=null&&uS(e,i,c,a))}switch(n){case"input":Hx(e),$_(e,r,!1);break;case"textarea":Hx(e),V_(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tu(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Kh(e,!!r.multiple,i,!1):r.defaultValue!=null&&Kh(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Av)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ns(t),null;case 6:if(e&&t.stateNode!=null)n8(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(qe(166));if(n=Xu(xg.current),Xu(zo.current),ty(t)){if(r=t.stateNode,n=t.memoizedProps,r[Lo]=t,(i=r.nodeValue!==n)&&(e=Hi,e!==null))switch(e.tag){case 3:ey(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ey(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lo]=t,t.stateNode=r}return Ns(t),null;case 13:if(Gn(nr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qn&&Ui!==null&&t.mode&1&&!(t.flags&128))bD(),Tf(),t.flags|=98560,i=!1;else if(i=ty(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(qe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(qe(317));i[Lo]=t}else Tf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ns(t),i=!1}else Va!==null&&(Nj(Va),Va=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||nr.current&1?Qr===0&&(Qr=3):HS())),t.updateQueue!==null&&(t.flags|=4),Ns(t),null);case 4:return Lf(),mj(e,t),e===null&&fg(t.stateNode.containerInfo),Ns(t),null;case 10:return PS(t.type._context),Ns(t),null;case 17:return bi(t.type)&&Pv(),Ns(t),null;case 19:if(Gn(nr),i=t.memoizedState,i===null)return Ns(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Kp(i,!1);else{if(Qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Rv(e),a!==null){for(t.flags|=128,Kp(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Un(nr,nr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Cr()>Df&&(t.flags|=128,r=!0,Kp(i,!1),t.lanes=4194304)}else{if(!r)if(e=Rv(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Kp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Qn)return Ns(t),null}else 2*Cr()-i.renderingStartTime>Df&&n!==1073741824&&(t.flags|=128,r=!0,Kp(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Cr(),t.sibling=null,n=nr.current,Un(nr,r?n&1|2:n&1),t):(Ns(t),null);case 22:case 23:return WS(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Di&1073741824&&(Ns(t),t.subtreeFlags&6&&(t.flags|=8192)):Ns(t),null;case 24:return null;case 25:return null}throw Error(qe(156,t.tag))}function OY(e,t){switch(kS(t),t.tag){case 1:return bi(t.type)&&Pv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lf(),Gn(vi),Gn(Os),IS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return LS(t),null;case 13:if(Gn(nr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(qe(340));Tf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gn(nr),null;case 4:return Lf(),null;case 10:return PS(t.type._context),null;case 22:case 23:return WS(),null;case 24:return null;default:return null}}var sy=!1,Ts=!1,FY=typeof WeakSet=="function"?WeakSet:Set,ht=null;function qh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gr(e,t,r)}else n.current=null}function gj(e,t,n){try{n()}catch(r){gr(e,t,r)}}var M3=!1;function zY(e,t){if(Z5=kv,e=oD(),NS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ej={focusedElem:e,selectionRange:n},kv=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){t=ht;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,b=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:za(t.type,x),b);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(_){gr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}return g=M3,M3=!1,g}function Im(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&gj(t,n,i)}s=s.next}while(s!==r)}}function J1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xj(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function r8(e){var t=e.alternate;t!==null&&(e.alternate=null,r8(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lo],delete t[mg],delete t[rj],delete t[wY],delete t[jY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function s8(e){return e.tag===5||e.tag===3||e.tag===4}function L3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||s8(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yj(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Av));else if(r!==4&&(e=e.child,e!==null))for(yj(e,t,n),e=e.sibling;e!==null;)yj(e,t,n),e=e.sibling}function vj(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vj(e,t,n),e=e.sibling;e!==null;)vj(e,t,n),e=e.sibling}var hs=null,Ua=!1;function lc(e,t,n){for(n=n.child;n!==null;)i8(e,t,n),n=n.sibling}function i8(e,t,n){if(Fo&&typeof Fo.onCommitFiberUnmount=="function")try{Fo.onCommitFiberUnmount(q1,n)}catch{}switch(n.tag){case 5:Ts||qh(n,t);case 6:var r=hs,s=Ua;hs=null,lc(e,t,n),hs=r,Ua=s,hs!==null&&(Ua?(e=hs,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):hs.removeChild(n.stateNode));break;case 18:hs!==null&&(Ua?(e=hs,n=n.stateNode,e.nodeType===8?aw(e.parentNode,n):e.nodeType===1&&aw(e,n),ug(e)):aw(hs,n.stateNode));break;case 4:r=hs,s=Ua,hs=n.stateNode.containerInfo,Ua=!0,lc(e,t,n),hs=r,Ua=s;break;case 0:case 11:case 14:case 15:if(!Ts&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&gj(n,t,a),s=s.next}while(s!==r)}lc(e,t,n);break;case 1:if(!Ts&&(qh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){gr(n,t,l)}lc(e,t,n);break;case 21:lc(e,t,n);break;case 22:n.mode&1?(Ts=(r=Ts)||n.memoizedState!==null,lc(e,t,n),Ts=r):lc(e,t,n);break;default:lc(e,t,n)}}function I3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new FY),t.forEach(function(r){var s=GY.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Da(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:hs=l.stateNode,Ua=!1;break e;case 3:hs=l.stateNode.containerInfo,Ua=!0;break e;case 4:hs=l.stateNode.containerInfo,Ua=!0;break e}l=l.return}if(hs===null)throw Error(qe(160));i8(i,a,s),hs=null,Ua=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){gr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)a8(t,e),t=t.sibling}function a8(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Da(t,e),bo(e),r&4){try{Im(3,e,e.return),J1(3,e)}catch(x){gr(e,e.return,x)}try{Im(5,e,e.return)}catch(x){gr(e,e.return,x)}}break;case 1:Da(t,e),bo(e),r&512&&n!==null&&qh(n,n.return);break;case 5:if(Da(t,e),bo(e),r&512&&n!==null&&qh(n,n.return),e.flags&32){var s=e.stateNode;try{ag(s,"")}catch(x){gr(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&AI(s,i),V5(l,a);var u=V5(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?LI(s,h):d==="dangerouslySetInnerHTML"?TI(s,h):d==="children"?ag(s,h):uS(s,d,h,u)}switch(l){case"input":F5(s,i);break;case"textarea":PI(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Kh(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Kh(s,!!i.multiple,i.defaultValue,!0):Kh(s,!!i.multiple,i.multiple?[]:"",!1))}s[mg]=i}catch(x){gr(e,e.return,x)}}break;case 6:if(Da(t,e),bo(e),r&4){if(e.stateNode===null)throw Error(qe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){gr(e,e.return,x)}}break;case 3:if(Da(t,e),bo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ug(t.containerInfo)}catch(x){gr(e,e.return,x)}break;case 4:Da(t,e),bo(e);break;case 13:Da(t,e),bo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(VS=Cr())),r&4&&I3(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ts=(u=Ts)||d,Da(t,e),Ts=u):Da(t,e),bo(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ht=e,d=e.child;d!==null;){for(h=ht=d;ht!==null;){switch(f=ht,p=f.child,f.tag){case 0:case 11:case 14:case 15:Im(4,f,f.return);break;case 1:qh(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){gr(r,n,x)}}break;case 5:qh(f,f.return);break;case 22:if(f.memoizedState!==null){R3(h);continue}}p!==null?(p.return=f,ht=p):R3(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=MI("display",a))}catch(x){gr(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){gr(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Da(t,e),bo(e),r&4&&I3(e);break;case 21:break;default:Da(t,e),bo(e)}}function bo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(s8(n)){var r=n;break e}n=n.return}throw Error(qe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ag(s,""),r.flags&=-33);var i=L3(e);vj(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=L3(e);yj(e,l,a);break;default:throw Error(qe(161))}}catch(c){gr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BY(e,t,n){ht=e,o8(e)}function o8(e,t,n){for(var r=(e.mode&1)!==0;ht!==null;){var s=ht,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||sy;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ts;l=sy;var u=Ts;if(sy=a,(Ts=c)&&!u)for(ht=s;ht!==null;)a=ht,c=a.child,a.tag===22&&a.memoizedState!==null?O3(s):c!==null?(c.return=a,ht=c):O3(s);for(;i!==null;)ht=i,o8(i),i=i.sibling;ht=s,sy=l,Ts=u}D3(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ht=i):D3(e)}}function D3(e){for(;ht!==null;){var t=ht;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ts||J1(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ts)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:za(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&v3(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}v3(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ug(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}Ts||t.flags&512&&xj(t)}catch(f){gr(t,t.return,f)}}if(t===e){ht=null;break}if(n=t.sibling,n!==null){n.return=t.return,ht=n;break}ht=t.return}}function R3(e){for(;ht!==null;){var t=ht;if(t===e){ht=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ht=n;break}ht=t.return}}function O3(e){for(;ht!==null;){var t=ht;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{J1(4,t)}catch(c){gr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){gr(t,s,c)}}var i=t.return;try{xj(t)}catch(c){gr(t,i,c)}break;case 5:var a=t.return;try{xj(t)}catch(c){gr(t,a,c)}}}catch(c){gr(t,t.return,c)}if(t===e){ht=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ht=l;break}ht=t.return}}var $Y=Math.ceil,zv=Wl.ReactCurrentDispatcher,$S=Wl.ReactCurrentOwner,ya=Wl.ReactCurrentBatchConfig,yn=0,ss=null,$r=null,ms=0,Di=0,Wh=mu(0),Qr=0,wg=null,jd=0,Z1=0,US=0,Dm=null,pi=null,VS=0,Df=1/0,jl=null,Bv=!1,bj=null,Hc=null,iy=!1,Rc=null,$v=0,Rm=0,wj=null,Zy=-1,ev=0;function Zs(){return yn&6?Cr():Zy!==-1?Zy:Zy=Cr()}function Yc(e){return e.mode&1?yn&2&&ms!==0?ms&-ms:SY.transition!==null?(ev===0&&(ev=WI()),ev):(e=Tn,e!==0||(e=window.event,e=e===void 0?16:JI(e.type)),e):1}function Qa(e,t,n,r){if(50<Rm)throw Rm=0,wj=null,Error(qe(185));p0(e,n,r),(!(yn&2)||e!==ss)&&(e===ss&&(!(yn&2)&&(Z1|=n),Qr===4&&jc(e,ms)),wi(e,r),n===1&&yn===0&&!(t.mode&1)&&(Df=Cr()+500,K1&&gu()))}function wi(e,t){var n=e.callbackNode;SH(e,t);var r=Sv(e,e===ss?ms:0);if(r===0)n!==null&&H_(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&H_(n),t===1)e.tag===0?NY(F3.bind(null,e)):xD(F3.bind(null,e)),vY(function(){!(yn&6)&&gu()}),n=null;else{switch(HI(r)){case 1:n=mS;break;case 4:n=VI;break;case 16:n=Nv;break;case 536870912:n=qI;break;default:n=Nv}n=m8(n,l8.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function l8(e,t){if(Zy=-1,ev=0,yn&6)throw Error(qe(327));var n=e.callbackNode;if(ef()&&e.callbackNode!==n)return null;var r=Sv(e,e===ss?ms:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Uv(e,r);else{t=r;var s=yn;yn|=2;var i=u8();(ss!==e||ms!==t)&&(jl=null,Df=Cr()+500,dd(e,t));do try{qY();break}catch(l){c8(e,l)}while(!0);AS(),zv.current=i,yn=s,$r!==null?t=0:(ss=null,ms=0,t=Qr)}if(t!==0){if(t===2&&(s=G5(e),s!==0&&(r=s,t=jj(e,s))),t===1)throw n=wg,dd(e,0),jc(e,r),wi(e,Cr()),n;if(t===6)jc(e,r);else{if(s=e.current.alternate,!(r&30)&&!UY(s)&&(t=Uv(e,r),t===2&&(i=G5(e),i!==0&&(r=i,t=jj(e,i))),t===1))throw n=wg,dd(e,0),jc(e,r),wi(e,Cr()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(qe(345));case 2:Uu(e,pi,jl);break;case 3:if(jc(e,r),(r&130023424)===r&&(t=VS+500-Cr(),10<t)){if(Sv(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Zs(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=nj(Uu.bind(null,e,pi,jl),t);break}Uu(e,pi,jl);break;case 4:if(jc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Ka(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Cr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$Y(r/1960))-r,10<r){e.timeoutHandle=nj(Uu.bind(null,e,pi,jl),r);break}Uu(e,pi,jl);break;case 5:Uu(e,pi,jl);break;default:throw Error(qe(329))}}}return wi(e,Cr()),e.callbackNode===n?l8.bind(null,e):null}function jj(e,t){var n=Dm;return e.current.memoizedState.isDehydrated&&(dd(e,t).flags|=256),e=Uv(e,t),e!==2&&(t=pi,pi=n,t!==null&&Nj(t)),e}function Nj(e){pi===null?pi=e:pi.push.apply(pi,e)}function UY(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!to(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jc(e,t){for(t&=~US,t&=~Z1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ka(t),r=1<<n;e[n]=-1,t&=~r}}function F3(e){if(yn&6)throw Error(qe(327));ef();var t=Sv(e,0);if(!(t&1))return wi(e,Cr()),null;var n=Uv(e,t);if(e.tag!==0&&n===2){var r=G5(e);r!==0&&(t=r,n=jj(e,r))}if(n===1)throw n=wg,dd(e,0),jc(e,t),wi(e,Cr()),n;if(n===6)throw Error(qe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Uu(e,pi,jl),wi(e,Cr()),null}function qS(e,t){var n=yn;yn|=1;try{return e(t)}finally{yn=n,yn===0&&(Df=Cr()+500,K1&&gu())}}function Nd(e){Rc!==null&&Rc.tag===0&&!(yn&6)&&ef();var t=yn;yn|=1;var n=ya.transition,r=Tn;try{if(ya.transition=null,Tn=1,e)return e()}finally{Tn=r,ya.transition=n,yn=t,!(yn&6)&&gu()}}function WS(){Di=Wh.current,Gn(Wh)}function dd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yY(n)),$r!==null)for(n=$r.return;n!==null;){var r=n;switch(kS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pv();break;case 3:Lf(),Gn(vi),Gn(Os),IS();break;case 5:LS(r);break;case 4:Lf();break;case 13:Gn(nr);break;case 19:Gn(nr);break;case 10:PS(r.type._context);break;case 22:case 23:WS()}n=n.return}if(ss=e,$r=e=Gc(e.current,null),ms=Di=t,Qr=0,wg=null,US=Z1=jd=0,pi=Dm=null,Qu!==null){for(t=0;t<Qu.length;t++)if(n=Qu[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Qu=null}return e}function c8(e,t){do{var n=$r;try{if(AS(),Qy.current=Fv,Ov){for(var r=cr.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ov=!1}if(wd=0,ns=Hr=cr=null,Lm=!1,yg=0,$S.current=null,n===null||n.return===null){Qr=1,wg=t,$r=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=ms,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=k3(a);if(p!==null){p.flags&=-257,_3(p,a,l,i,t),p.mode&1&&S3(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){S3(i,u,t),HS();break e}c=Error(qe(426))}}else if(Qn&&l.mode&1){var b=k3(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),_3(b,a,l,i,t),_S(If(c,l));break e}}i=c=If(c,l),Qr!==4&&(Qr=2),Dm===null?Dm=[i]:Dm.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=HD(i,c,t);y3(i,v);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Hc===null||!Hc.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=YD(i,l,t);y3(i,_);break e}}i=i.return}while(i!==null)}h8(n)}catch(C){t=C,$r===n&&n!==null&&($r=n=n.return);continue}break}while(!0)}function u8(){var e=zv.current;return zv.current=Fv,e===null?Fv:e}function HS(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),ss===null||!(jd&268435455)&&!(Z1&268435455)||jc(ss,ms)}function Uv(e,t){var n=yn;yn|=2;var r=u8();(ss!==e||ms!==t)&&(jl=null,dd(e,t));do try{VY();break}catch(s){c8(e,s)}while(!0);if(AS(),yn=n,zv.current=r,$r!==null)throw Error(qe(261));return ss=null,ms=0,Qr}function VY(){for(;$r!==null;)d8($r)}function qY(){for(;$r!==null&&!mH();)d8($r)}function d8(e){var t=p8(e.alternate,e,Di);e.memoizedProps=e.pendingProps,t===null?h8(e):$r=t,$S.current=null}function h8(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=OY(n,t),n!==null){n.flags&=32767,$r=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qr=6,$r=null;return}}else if(n=RY(n,t,Di),n!==null){$r=n;return}if(t=t.sibling,t!==null){$r=t;return}$r=t=e}while(t!==null);Qr===0&&(Qr=5)}function Uu(e,t,n){var r=Tn,s=ya.transition;try{ya.transition=null,Tn=1,WY(e,t,n,r)}finally{ya.transition=s,Tn=r}return null}function WY(e,t,n,r){do ef();while(Rc!==null);if(yn&6)throw Error(qe(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(qe(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(kH(e,i),e===ss&&($r=ss=null,ms=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iy||(iy=!0,m8(Nv,function(){return ef(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ya.transition,ya.transition=null;var a=Tn;Tn=1;var l=yn;yn|=4,$S.current=null,zY(e,n),a8(n,e),dY(ej),kv=!!Z5,ej=Z5=null,e.current=n,BY(n),gH(),yn=l,Tn=a,ya.transition=i}else e.current=n;if(iy&&(iy=!1,Rc=e,$v=s),i=e.pendingLanes,i===0&&(Hc=null),vH(n.stateNode),wi(e,Cr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bv)throw Bv=!1,e=bj,bj=null,e;return $v&1&&e.tag!==0&&ef(),i=e.pendingLanes,i&1?e===wj?Rm++:(Rm=0,wj=e):Rm=0,gu(),null}function ef(){if(Rc!==null){var e=HI($v),t=ya.transition,n=Tn;try{if(ya.transition=null,Tn=16>e?16:e,Rc===null)var r=!1;else{if(e=Rc,Rc=null,$v=0,yn&6)throw Error(qe(331));var s=yn;for(yn|=4,ht=e.current;ht!==null;){var i=ht,a=i.child;if(ht.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ht=u;ht!==null;){var d=ht;switch(d.tag){case 0:case 11:case 15:Im(8,d,i)}var h=d.child;if(h!==null)h.return=d,ht=h;else for(;ht!==null;){d=ht;var f=d.sibling,p=d.return;if(r8(d),d===u){ht=null;break}if(f!==null){f.return=p,ht=f;break}ht=p}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}ht=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ht=a;else e:for(;ht!==null;){if(i=ht,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Im(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ht=v;break e}ht=i.return}}var y=e.current;for(ht=y;ht!==null;){a=ht;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ht=w;else e:for(a=y;ht!==null;){if(l=ht,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:J1(9,l)}}catch(C){gr(l,l.return,C)}if(l===a){ht=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ht=_;break e}ht=l.return}}if(yn=s,gu(),Fo&&typeof Fo.onPostCommitFiberRoot=="function")try{Fo.onPostCommitFiberRoot(q1,e)}catch{}r=!0}return r}finally{Tn=n,ya.transition=t}}return!1}function z3(e,t,n){t=If(n,t),t=HD(e,t,1),e=Wc(e,t,1),t=Zs(),e!==null&&(p0(e,1,t),wi(e,t))}function gr(e,t,n){if(e.tag===3)z3(e,e,n);else for(;t!==null;){if(t.tag===3){z3(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hc===null||!Hc.has(r))){e=If(n,e),e=YD(t,e,1),t=Wc(t,e,1),e=Zs(),t!==null&&(p0(t,1,e),wi(t,e));break}}t=t.return}}function HY(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zs(),e.pingedLanes|=e.suspendedLanes&n,ss===e&&(ms&n)===n&&(Qr===4||Qr===3&&(ms&130023424)===ms&&500>Cr()-VS?dd(e,0):US|=n),wi(e,t)}function f8(e,t){t===0&&(e.mode&1?(t=Kx,Kx<<=1,!(Kx&130023424)&&(Kx=4194304)):t=1);var n=Zs();e=Rl(e,t),e!==null&&(p0(e,t,n),wi(e,n))}function YY(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),f8(e,n)}function GY(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(qe(314))}r!==null&&r.delete(t),f8(e,n)}var p8;p8=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vi.current)gi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gi=!1,DY(e,t,n);gi=!!(e.flags&131072)}else gi=!1,Qn&&t.flags&1048576&&yD(t,Mv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jy(e,t),e=t.pendingProps;var s=Ef(t,Os.current);Zh(t,n),s=RS(null,t,r,e,s,n);var i=OS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bi(r)?(i=!0,Ev(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,TS(t),s.updater=X1,t.stateNode=s,s._reactInternals=t,cj(t,r,e,n),t=hj(null,t,r,!0,i,n)):(t.tag=0,Qn&&i&&SS(t),Ks(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jy(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=QY(r),e=za(r,e),s){case 0:t=dj(null,t,r,e,n);break e;case 1:t=P3(null,t,r,e,n);break e;case 11:t=C3(null,t,r,e,n);break e;case 14:t=A3(null,t,r,za(r.type,e),n);break e}throw Error(qe(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:za(r,s),dj(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:za(r,s),P3(e,t,r,s,n);case 3:e:{if(XD(t),e===null)throw Error(qe(387));r=t.pendingProps,i=t.memoizedState,s=i.element,SD(e,t),Dv(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=If(Error(qe(423)),t),t=E3(e,t,r,n,s);break e}else if(r!==s){s=If(Error(qe(424)),t),t=E3(e,t,r,n,s);break e}else for(Ui=qc(t.stateNode.containerInfo.firstChild),Hi=t,Qn=!0,Va=null,n=jD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tf(),r===s){t=Ol(e,t,n);break e}Ks(e,t,r,n)}t=t.child}return t;case 5:return kD(t),e===null&&aj(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,tj(r,s)?a=null:i!==null&&tj(r,i)&&(t.flags|=32),QD(e,t),Ks(e,t,a,n),t.child;case 6:return e===null&&aj(t),null;case 13:return JD(e,t,n);case 4:return MS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mf(t,null,r,n):Ks(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:za(r,s),C3(e,t,r,s,n);case 7:return Ks(e,t,t.pendingProps,n),t.child;case 8:return Ks(e,t,t.pendingProps.children,n),t.child;case 12:return Ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Un(Lv,r._currentValue),r._currentValue=a,i!==null)if(to(i.value,a)){if(i.children===s.children&&!vi.current){t=Ol(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Tl(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),oj(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(qe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),oj(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ks(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Zh(t,n),s=ba(s),r=r(s),t.flags|=1,Ks(e,t,r,n),t.child;case 14:return r=t.type,s=za(r,t.pendingProps),s=za(r.type,s),A3(e,t,r,s,n);case 15:return GD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:za(r,s),Jy(e,t),t.tag=1,bi(r)?(e=!0,Ev(t)):e=!1,Zh(t,n),WD(t,r,s),cj(t,r,s,n),hj(null,t,r,!0,e,n);case 19:return ZD(e,t,n);case 22:return KD(e,t,n)}throw Error(qe(156,t.tag))};function m8(e,t){return UI(e,t)}function KY(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ga(e,t,n,r){return new KY(e,t,n,r)}function YS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QY(e){if(typeof e=="function")return YS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hS)return 11;if(e===fS)return 14}return 2}function Gc(e,t){var n=e.alternate;return n===null?(n=ga(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tv(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")YS(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Dh:return hd(n.children,s,i,t);case dS:a=8,s|=8;break;case L5:return e=ga(12,n,t,s|2),e.elementType=L5,e.lanes=i,e;case I5:return e=ga(13,n,t,s),e.elementType=I5,e.lanes=i,e;case D5:return e=ga(19,n,t,s),e.elementType=D5,e.lanes=i,e;case kI:return eb(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NI:a=10;break e;case SI:a=9;break e;case hS:a=11;break e;case fS:a=14;break e;case yc:a=16,r=null;break e}throw Error(qe(130,e==null?e:typeof e,""))}return t=ga(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function hd(e,t,n,r){return e=ga(7,e,r,t),e.lanes=n,e}function eb(e,t,n,r){return e=ga(22,e,r,t),e.elementType=kI,e.lanes=n,e.stateNode={isHidden:!1},e}function pw(e,t,n){return e=ga(6,e,null,t),e.lanes=n,e}function mw(e,t,n){return t=ga(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XY(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=K2(0),this.expirationTimes=K2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K2(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function GS(e,t,n,r,s,i,a,l,c){return e=new XY(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ga(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},TS(i),e}function JY(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ih,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function g8(e){if(!e)return nu;e=e._reactInternals;e:{if(Rd(e)!==e||e.tag!==1)throw Error(qe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(qe(171))}if(e.tag===1){var n=e.type;if(bi(n))return gD(e,n,t)}return t}function x8(e,t,n,r,s,i,a,l,c){return e=GS(n,r,!0,e,s,i,a,l,c),e.context=g8(null),n=e.current,r=Zs(),s=Yc(n),i=Tl(r,s),i.callback=t??null,Wc(n,i,s),e.current.lanes=s,p0(e,s,r),wi(e,r),e}function tb(e,t,n,r){var s=t.current,i=Zs(),a=Yc(s);return n=g8(n),t.context===null?t.context=n:t.pendingContext=n,t=Tl(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wc(s,t,a),e!==null&&(Qa(e,s,a,i),Ky(e,s,a)),a}function Vv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function B3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function KS(e,t){B3(e,t),(e=e.alternate)&&B3(e,t)}function ZY(){return null}var y8=typeof reportError=="function"?reportError:function(e){console.error(e)};function QS(e){this._internalRoot=e}nb.prototype.render=QS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(qe(409));tb(e,t,null,null)};nb.prototype.unmount=QS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nd(function(){tb(null,e,null,null)}),t[Dl]=null}};function nb(e){this._internalRoot=e}nb.prototype.unstable_scheduleHydration=function(e){if(e){var t=KI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wc.length&&t!==0&&t<wc[n].priority;n++);wc.splice(n,0,e),n===0&&XI(e)}};function XS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $3(){}function eG(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Vv(a);i.call(u)}}var a=x8(t,r,e,0,null,!1,!1,"",$3);return e._reactRootContainer=a,e[Dl]=a.current,fg(e.nodeType===8?e.parentNode:e),Nd(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Vv(c);l.call(u)}}var c=GS(e,0,!1,null,null,!1,!1,"",$3);return e._reactRootContainer=c,e[Dl]=c.current,fg(e.nodeType===8?e.parentNode:e),Nd(function(){tb(t,c,n,r)}),c}function sb(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Vv(a);l.call(c)}}tb(t,a,e,s)}else a=eG(n,t,e,s,r);return Vv(a)}YI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xm(t.pendingLanes);n!==0&&(gS(t,n|1),wi(t,Cr()),!(yn&6)&&(Df=Cr()+500,gu()))}break;case 13:Nd(function(){var r=Rl(e,1);if(r!==null){var s=Zs();Qa(r,e,1,s)}}),KS(e,1)}};xS=function(e){if(e.tag===13){var t=Rl(e,134217728);if(t!==null){var n=Zs();Qa(t,e,134217728,n)}KS(e,134217728)}};GI=function(e){if(e.tag===13){var t=Yc(e),n=Rl(e,t);if(n!==null){var r=Zs();Qa(n,e,t,r)}KS(e,t)}};KI=function(){return Tn};QI=function(e,t){var n=Tn;try{return Tn=e,t()}finally{Tn=n}};W5=function(e,t,n){switch(t){case"input":if(F5(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=G1(r);if(!s)throw Error(qe(90));CI(r),F5(r,s)}}}break;case"textarea":PI(e,n);break;case"select":t=n.value,t!=null&&Kh(e,!!n.multiple,t,!1)}};RI=qS;OI=Nd;var tG={usingClientEntryPoint:!1,Events:[g0,zh,G1,II,DI,qS]},Qp={findFiberByHostInstance:Ku,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nG={bundleType:Qp.bundleType,version:Qp.version,rendererPackageName:Qp.rendererPackageName,rendererConfig:Qp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=BI(e),e===null?null:e.stateNode},findFiberByHostInstance:Qp.findFiberByHostInstance||ZY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ay=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ay.isDisabled&&ay.supportsFiber)try{q1=ay.inject(nG),Fo=ay}catch{}}Zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tG;Zi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XS(t))throw Error(qe(200));return JY(e,t,null,n)};Zi.createRoot=function(e,t){if(!XS(e))throw Error(qe(299));var n=!1,r="",s=y8;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=GS(e,1,!1,null,null,n,!1,r,s),e[Dl]=t.current,fg(e.nodeType===8?e.parentNode:e),new QS(t)};Zi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(qe(188)):(e=Object.keys(e).join(","),Error(qe(268,e)));return e=BI(t),e=e===null?null:e.stateNode,e};Zi.flushSync=function(e){return Nd(e)};Zi.hydrate=function(e,t,n){if(!rb(t))throw Error(qe(200));return sb(null,e,t,!0,n)};Zi.hydrateRoot=function(e,t,n){if(!XS(e))throw Error(qe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=y8;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=x8(t,null,e,1,n??null,s,!1,i,a),e[Dl]=t.current,fg(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new nb(t)};Zi.render=function(e,t,n){if(!rb(t))throw Error(qe(200));return sb(null,e,t,!1,n)};Zi.unmountComponentAtNode=function(e){if(!rb(e))throw Error(qe(40));return e._reactRootContainer?(Nd(function(){sb(null,null,e,!1,function(){e._reactRootContainer=null,e[Dl]=null})}),!0):!1};Zi.unstable_batchedUpdates=qS;Zi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rb(n))throw Error(qe(200));if(e==null||e._reactInternals===void 0)throw Error(qe(38));return sb(e,t,n,!1,r)};Zi.version="18.3.1-next-f1338f8080-20240426";function v8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v8)}catch(e){console.error(e)}}v8(),vI.exports=Zi;var Od=vI.exports;const rG=h0(Od);var b8,U3=Od;b8=U3.createRoot,U3.hydrateRoot;function sG(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,i,a=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(a.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~r?r:~i?i:s.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:a,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var w8={exports:{}},j8={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=N;function iG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aG=typeof Object.is=="function"?Object.is:iG,oG=Rf.useState,lG=Rf.useEffect,cG=Rf.useLayoutEffect,uG=Rf.useDebugValue;function dG(e,t){var n=t(),r=oG({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return cG(function(){s.value=n,s.getSnapshot=t,gw(s)&&i({inst:s})},[e,n,t]),lG(function(){return gw(s)&&i({inst:s}),e(function(){gw(s)&&i({inst:s})})},[e]),uG(n),n}function gw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!aG(e,n)}catch{return!0}}function hG(e,t){return t()}var fG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hG:dG;j8.useSyncExternalStore=Rf.useSyncExternalStore!==void 0?Rf.useSyncExternalStore:fG;w8.exports=j8;var pG=w8.exports;const mG=xI.useInsertionEffect,gG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xG=gG?N.useLayoutEffect:N.useEffect,yG=mG||xG,N8=e=>{const t=N.useRef([e,(...n)=>t[0](...n)]).current;return yG(()=>{t[0]=e}),t[1]},vG="popstate",JS="pushState",ZS="replaceState",bG="hashchange",V3=[vG,JS,ZS,bG],wG=e=>{for(const t of V3)addEventListener(t,e);return()=>{for(const t of V3)removeEventListener(t,e)}},S8=(e,t)=>pG.useSyncExternalStore(wG,e,t),jG=()=>location.search,NG=({ssrSearch:e=""}={})=>S8(jG,()=>e),q3=()=>location.pathname,SG=({ssrPath:e}={})=>S8(q3,e?()=>e:q3),kG=(e,{replace:t=!1,state:n=null}={})=>history[t?ZS:JS](n,"",e),_G=(e={})=>[SG(e),kG],W3=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[W3]>"u"){for(const e of[JS,ZS]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,W3,{value:!0})}const CG=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",k8=(e="")=>e==="/"?"":e,AG=(e,t)=>e[0]==="~"?e.slice(1):k8(t)+e,PG=(e="",t)=>CG(H3(k8(e)),H3(t)),H3=e=>{try{return decodeURI(e)}catch{return e}},_8={hook:_G,searchHook:NG,parser:sG,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},C8=N.createContext(_8),y0=()=>N.useContext(C8),A8={},P8=N.createContext(A8),EG=()=>N.useContext(P8),ib=e=>{const[t,n]=e.hook(e);return[PG(e.base,t),N8((r,s)=>n(AG(r,e.base),s))]},v0=()=>ib(y0()),E8=(e,t,n,r)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=s.exec(n)||[],[l,...c]=a;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((h,f)=>[h,c[f]])):a.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[l]:[]]:[!1,null]},TG=({children:e,...t})=>{var d,h;const n=y0(),r=t.hook?_8:n;let s=r;const[i,a]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];a&&(t.ssrSearch=a,t.ssrPath=i),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let l=N.useRef({}),c=l.current,u=c;for(let f in r){const p=f==="base"?r[f]+(t[f]||""):t[f]||r[f];c===u&&p!==u[f]&&(l.current=u={...u}),u[f]=p,p!==r[f]&&(s=u)}return N.createElement(C8.Provider,{value:s,children:e})},Y3=({children:e,component:t},n)=>t?N.createElement(t,{params:n}):typeof e=="function"?e(n):e,MG=e=>{let t=N.useRef(A8),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Ti=({path:e,nest:t,match:n,...r})=>{const s=y0(),[i]=ib(s),[a,l,c]=n??E8(s.parser,e,i,t),u=MG({...EG(),...l});if(!a)return null;const d=c?N.createElement(TG,{base:c},Y3(r,u)):Y3(r,u);return N.createElement(P8.Provider,{value:u,children:d})},Nn=N.forwardRef((e,t)=>{const n=y0(),[r,s]=ib(n),{to:i="",href:a=i,onClick:l,asChild:c,children:u,className:d,replace:h,state:f,...p}=e,g=N8(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),s(a,e)))}),x=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&N.isValidElement(u)?N.cloneElement(u,{onClick:g,href:x}):N.createElement("a",{...p,onClick:g,href:x,className:d!=null&&d.call?d(r===a):d,children:u,ref:t})}),T8=e=>Array.isArray(e)?e.flatMap(t=>T8(t&&t.type===N.Fragment?t.props.children:t)):[e],LG=({children:e,location:t})=>{const n=y0(),[r]=ib(n);for(const s of T8(e)){let i=0;if(N.isValidElement(s)&&(i=E8(n.parser,s.props.path,t||r,s.props.nest))[0])return N.cloneElement(s,{match:i})}return null};var rp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sd=typeof window>"u"||"Deno"in globalThis;function da(){}function IG(e,t){return typeof e=="function"?e(t):e}function Sj(e){return typeof e=="number"&&e>=0&&e!==1/0}function M8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tf(e,t){return typeof e=="function"?e(t):e}function qa(e,t){return typeof e=="function"?e(t):e}function G3(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==ek(a,t.options))return!1}else if(!jg(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function K3(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(kd(t.options.mutationKey)!==kd(i))return!1}else if(!jg(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function ek(e,t){return((t==null?void 0:t.queryKeyHashFn)||kd)(e)}function kd(e){return JSON.stringify(e,(t,n)=>kj(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function jg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!jg(e[n],t[n])):!1}function L8(e,t){if(e===t)return e;const n=Q3(e)&&Q3(t);if(n||kj(e)&&kj(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,l=n?[]:{};let c=0;for(let u=0;u<a;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=L8(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function qv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Q3(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kj(e){if(!X3(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!X3(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function X3(e){return Object.prototype.toString.call(e)==="[object Object]"}function DG(e){return new Promise(t=>{setTimeout(t,e)})}function _j(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?L8(e,t):t}function RG(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function OG(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var tk=Symbol();function I8(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var sd,_c,gf,mE,FG=(mE=class extends rp{constructor(){super();St(this,sd);St(this,_c);St(this,gf);ut(this,gf,t=>{if(!Sd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){he(this,_c)||this.setEventListener(he(this,gf))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,_c))==null||t.call(this),ut(this,_c,void 0))}setEventListener(t){var n;ut(this,gf,t),(n=he(this,_c))==null||n.call(this),ut(this,_c,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){he(this,sd)!==t&&(ut(this,sd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof he(this,sd)=="boolean"?he(this,sd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},sd=new WeakMap,_c=new WeakMap,gf=new WeakMap,mE),nk=new FG,xf,Cc,yf,gE,zG=(gE=class extends rp{constructor(){super();St(this,xf,!0);St(this,Cc);St(this,yf);ut(this,yf,t=>{if(!Sd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){he(this,Cc)||this.setEventListener(he(this,yf))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,Cc))==null||t.call(this),ut(this,Cc,void 0))}setEventListener(t){var n;ut(this,yf,t),(n=he(this,Cc))==null||n.call(this),ut(this,Cc,t(this.setOnline.bind(this)))}setOnline(t){he(this,xf)!==t&&(ut(this,xf,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return he(this,xf)}},xf=new WeakMap,Cc=new WeakMap,yf=new WeakMap,gE),Wv=new zG;function Cj(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function BG(e){return Math.min(1e3*2**e,3e4)}function D8(e){return(e??"online")==="online"?Wv.isOnline():!0}var R8=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function xw(e){return e instanceof R8}function O8(e){let t=!1,n=0,r=!1,s;const i=Cj(),a=x=>{var b;r||(f(new R8(x)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>nk.isFocused()&&(e.networkMode==="always"||Wv.isOnline())&&e.canRun(),d=()=>D8(e.networkMode)&&e.canRun(),h=x=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,x),s==null||s(),i.resolve(x))},f=x=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,x),s==null||s(),i.reject(x))},p=()=>new Promise(x=>{var b;s=v=>{(r||u())&&x(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;s=void 0,r||(x=e.onContinue)==null||x.call(e)}),g=()=>{if(r)return;let x;const b=n===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(h).catch(v=>{var E;if(r)return;const y=e.retry??(Sd?0:3),w=e.retryDelay??BG,_=typeof w=="function"?w(n,v):w,C=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!C){f(v);return}n++,(E=e.onFail)==null||E.call(e,n,v),DG(_).then(()=>u()?void 0:p()).then(()=>{t?f(v):g()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),i)}}function $G(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Gr=$G(),id,xE,F8=(xE=class{constructor(){St(this,id)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sj(this.gcTime)&&ut(this,id,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sd?1/0:5*60*1e3))}clearGcTimeout(){he(this,id)&&(clearTimeout(he(this,id)),ut(this,id,void 0))}},id=new WeakMap,xE),vf,bf,ua,As,l0,ad,$a,yl,yE,UG=(yE=class extends F8{constructor(t){super();St(this,$a);St(this,vf);St(this,bf);St(this,ua);St(this,As);St(this,l0);St(this,ad);ut(this,ad,!1),ut(this,l0,t.defaultOptions),this.setOptions(t.options),this.observers=[],ut(this,ua,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ut(this,vf,VG(this.options)),this.state=t.state??he(this,vf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=he(this,As))==null?void 0:t.promise}setOptions(t){this.options={...he(this,l0),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,ua).remove(this)}setData(t,n){const r=_j(this.state.data,t,this.options);return en(this,$a,yl).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){en(this,$a,yl).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=he(this,As))==null?void 0:r.promise;return(s=he(this,As))==null||s.cancel(t),n?n.then(da).catch(da):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,vf))}isActive(){return this.observers.some(t=>qa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!M8(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=he(this,As))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=he(this,As))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),he(this,ua).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(he(this,As)&&(he(this,ad)?he(this,As).cancel({revert:!0}):he(this,As).cancelRetry()),this.scheduleGc()),he(this,ua).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||en(this,$a,yl).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(he(this,As))return he(this,As).continueRetry(),he(this,As).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ut(this,ad,!0),r.signal)})},i=()=>{const h=I8(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),ut(this,ad,!1),this.options.persister?this.options.persister(h,f,this):h(f)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),ut(this,bf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&en(this,$a,yl).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,p,g,x;xw(h)&&h.silent||en(this,$a,yl).call(this,{type:"error",error:h}),xw(h)||((p=(f=he(this,ua).config).onError)==null||p.call(f,h,this),(x=(g=he(this,ua).config).onSettled)==null||x.call(g,this.state.data,h,this)),this.scheduleGc()};return ut(this,As,O8({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,g,x;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(p=(f=he(this,ua).config).onSuccess)==null||p.call(f,h,this),(x=(g=he(this,ua).config).onSettled)==null||x.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{en(this,$a,yl).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{en(this,$a,yl).call(this,{type:"pause"})},onContinue:()=>{en(this,$a,yl).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),he(this,As).start()}},vf=new WeakMap,bf=new WeakMap,ua=new WeakMap,As=new WeakMap,l0=new WeakMap,ad=new WeakMap,$a=new WeakSet,yl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...z8(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return xw(s)&&s.revert&&he(this,bf)?{...he(this,bf),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Gr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),he(this,ua).notify({query:this,type:"updated",action:t})})},yE);function z8(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:D8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function VG(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Po,vE,qG=(vE=class extends rp{constructor(t={}){super();St(this,Po);this.config=t,ut(this,Po,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??ek(s,n);let a=this.get(i);return a||(a=new UG({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){he(this,Po).has(t.queryHash)||(he(this,Po).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=he(this,Po).get(t.queryHash);n&&(t.destroy(),n===t&&he(this,Po).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return he(this,Po).get(t)}getAll(){return[...he(this,Po).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>G3(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>G3(t,r)):n}notify(t){Gr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Po=new WeakMap,vE),Eo,Hs,od,To,gc,bE,WG=(bE=class extends F8{constructor(t){super();St(this,To);St(this,Eo);St(this,Hs);St(this,od);this.mutationId=t.mutationId,ut(this,Hs,t.mutationCache),ut(this,Eo,[]),this.state=t.state||B8(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){he(this,Eo).includes(t)||(he(this,Eo).push(t),this.clearGcTimeout(),he(this,Hs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ut(this,Eo,he(this,Eo).filter(n=>n!==t)),this.scheduleGc(),he(this,Hs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){he(this,Eo).length||(this.state.status==="pending"?this.scheduleGc():he(this,Hs).remove(this))}continue(){var t;return((t=he(this,od))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,a,l,c,u,d,h,f,p,g,x,b,v,y,w,_,C,E,O;ut(this,od,O8({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,$)=>{en(this,To,gc).call(this,{type:"failed",failureCount:T,error:$})},onPause:()=>{en(this,To,gc).call(this,{type:"pause"})},onContinue:()=>{en(this,To,gc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,Hs).canRun(this)}));const n=this.state.status==="pending",r=!he(this,od).canStart();try{if(!n){en(this,To,gc).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(s=he(this,Hs).config).onMutate)==null?void 0:i.call(s,t,this));const $=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));$!==this.state.context&&en(this,To,gc).call(this,{type:"pending",context:$,variables:t,isPaused:r})}const T=await he(this,od).start();return await((u=(c=he(this,Hs).config).onSuccess)==null?void 0:u.call(c,T,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,T,t,this.state.context)),await((p=(f=he(this,Hs).config).onSettled)==null?void 0:p.call(f,T,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,T,null,t,this.state.context)),en(this,To,gc).call(this,{type:"success",data:T}),T}catch(T){try{throw await((v=(b=he(this,Hs).config).onError)==null?void 0:v.call(b,T,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,T,t,this.state.context)),await((C=(_=he(this,Hs).config).onSettled)==null?void 0:C.call(_,void 0,T,this.state.variables,this.state.context,this)),await((O=(E=this.options).onSettled)==null?void 0:O.call(E,void 0,T,t,this.state.context)),T}finally{en(this,To,gc).call(this,{type:"error",error:T})}}finally{he(this,Hs).runNext(this)}}},Eo=new WeakMap,Hs=new WeakMap,od=new WeakMap,To=new WeakSet,gc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Gr.batch(()=>{he(this,Eo).forEach(r=>{r.onMutationUpdate(t)}),he(this,Hs).notify({mutation:this,type:"updated",action:t})})},bE);function B8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ii,c0,wE,HG=(wE=class extends rp{constructor(t={}){super();St(this,Ii);St(this,c0);this.config=t,ut(this,Ii,new Map),ut(this,c0,Date.now())}build(t,n,r){const s=new WG({mutationCache:this,mutationId:++Vx(this,c0)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=oy(t),r=he(this,Ii).get(n)??[];r.push(t),he(this,Ii).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=oy(t);if(he(this,Ii).has(n)){const s=(r=he(this,Ii).get(n))==null?void 0:r.filter(i=>i!==t);s&&(s.length===0?he(this,Ii).delete(n):he(this,Ii).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=he(this,Ii).get(oy(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=he(this,Ii).get(oy(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...he(this,Ii).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>K3(n,r))}findAll(t={}){return this.getAll().filter(n=>K3(t,n))}notify(t){Gr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Gr.batch(()=>Promise.all(t.map(n=>n.continue().catch(da))))}},Ii=new WeakMap,c0=new WeakMap,wE);function oy(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function J3(e){return{onFetch:(t,n)=>{var d,h,f,p,g;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},v=I8(t.options,t.fetchOptions),y=async(w,_,C)=>{if(x)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const E={queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};b(E);const O=await v(E),{maxPages:T}=t.options,$=C?OG:RG;return{pages:$(w.pages,O,T),pageParams:$(w.pageParams,_,T)}};if(s&&i.length){const w=s==="backward",_=w?YG:Z3,C={pages:i,pageParams:a},E=_(r,C);l=await y(C,E,w)}else{const w=e??i.length;do{const _=c===0?a[0]??r.initialPageParam:Z3(r,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Z3(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function YG(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var pr,Ac,Pc,wf,jf,Ec,Nf,Sf,jE,GG=(jE=class{constructor(e={}){St(this,pr);St(this,Ac);St(this,Pc);St(this,wf);St(this,jf);St(this,Ec);St(this,Nf);St(this,Sf);ut(this,pr,e.queryCache||new qG),ut(this,Ac,e.mutationCache||new HG),ut(this,Pc,e.defaultOptions||{}),ut(this,wf,new Map),ut(this,jf,new Map),ut(this,Ec,0)}mount(){Vx(this,Ec)._++,he(this,Ec)===1&&(ut(this,Nf,nk.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,pr).onFocus())})),ut(this,Sf,Wv.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,pr).onOnline())})))}unmount(){var e,t;Vx(this,Ec)._--,he(this,Ec)===0&&((e=he(this,Nf))==null||e.call(this),ut(this,Nf,void 0),(t=he(this,Sf))==null||t.call(this),ut(this,Sf,void 0))}isFetching(e){return he(this,pr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return he(this,Ac).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=he(this,pr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=he(this,pr).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(tf(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return he(this,pr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=he(this,pr).get(r.queryHash),i=s==null?void 0:s.state.data,a=IG(t,i);if(a!==void 0)return he(this,pr).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Gr.batch(()=>he(this,pr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=he(this,pr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=he(this,pr);Gr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=he(this,pr),r={type:"active",...e};return Gr.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Gr.batch(()=>he(this,pr).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(da).catch(da)}invalidateQueries(e={},t={}){return Gr.batch(()=>{if(he(this,pr).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Gr.batch(()=>he(this,pr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(da)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(da)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=he(this,pr).build(this,t);return n.isStaleByTime(tf(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(da).catch(da)}fetchInfiniteQuery(e){return e.behavior=J3(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(da).catch(da)}ensureInfiniteQueryData(e){return e.behavior=J3(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wv.isOnline()?he(this,Ac).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,pr)}getMutationCache(){return he(this,Ac)}getDefaultOptions(){return he(this,Pc)}setDefaultOptions(e){ut(this,Pc,e)}setQueryDefaults(e,t){he(this,wf).set(kd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...he(this,wf).values()];let n={};return t.forEach(r=>{jg(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){he(this,jf).set(kd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...he(this,jf).values()];let n={};return t.forEach(r=>{jg(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...he(this,Pc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ek(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===tk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...he(this,Pc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){he(this,pr).clear(),he(this,Ac).clear()}},pr=new WeakMap,Ac=new WeakMap,Pc=new WeakMap,wf=new WeakMap,jf=new WeakMap,Ec=new WeakMap,Nf=new WeakMap,Sf=new WeakMap,jE),hi,un,u0,Ys,ld,kf,Tc,Mo,d0,_f,Cf,cd,ud,Mc,Af,kn,vm,Aj,Pj,Ej,Tj,Mj,Lj,Ij,$8,NE,KG=(NE=class extends rp{constructor(t,n){super();St(this,kn);St(this,hi);St(this,un);St(this,u0);St(this,Ys);St(this,ld);St(this,kf);St(this,Tc);St(this,Mo);St(this,d0);St(this,_f);St(this,Cf);St(this,cd);St(this,ud);St(this,Mc);St(this,Af,new Set);this.options=n,ut(this,hi,t),ut(this,Mo,null),ut(this,Tc,Cj()),this.options.experimental_prefetchInRender||he(this,Tc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(he(this,un).addObserver(this),eC(he(this,un),this.options)?en(this,kn,vm).call(this):this.updateResult(),en(this,kn,Tj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dj(he(this,un),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dj(he(this,un),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,en(this,kn,Mj).call(this),en(this,kn,Lj).call(this),he(this,un).removeObserver(this)}setOptions(t,n){const r=this.options,s=he(this,un);if(this.options=he(this,hi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qa(this.options.enabled,he(this,un))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");en(this,kn,Ij).call(this),he(this,un).setOptions(this.options),r._defaulted&&!qv(this.options,r)&&he(this,hi).getQueryCache().notify({type:"observerOptionsUpdated",query:he(this,un),observer:this});const i=this.hasListeners();i&&tC(he(this,un),s,this.options,r)&&en(this,kn,vm).call(this),this.updateResult(n),i&&(he(this,un)!==s||qa(this.options.enabled,he(this,un))!==qa(r.enabled,he(this,un))||tf(this.options.staleTime,he(this,un))!==tf(r.staleTime,he(this,un)))&&en(this,kn,Aj).call(this);const a=en(this,kn,Pj).call(this);i&&(he(this,un)!==s||qa(this.options.enabled,he(this,un))!==qa(r.enabled,he(this,un))||a!==he(this,Mc))&&en(this,kn,Ej).call(this,a)}getOptimisticResult(t){const n=he(this,hi).getQueryCache().build(he(this,hi),t),r=this.createResult(n,t);return XG(this,r)&&(ut(this,Ys,r),ut(this,kf,this.options),ut(this,ld,he(this,un).state)),r}getCurrentResult(){return he(this,Ys)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){he(this,Af).add(t)}getCurrentQuery(){return he(this,un)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=he(this,hi).defaultQueryOptions(t),r=he(this,hi).getQueryCache().build(he(this,hi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return en(this,kn,vm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),he(this,Ys)))}createResult(t,n){var T;const r=he(this,un),s=this.options,i=he(this,Ys),a=he(this,ld),l=he(this,kf),u=t!==r?t.state:he(this,u0),{state:d}=t;let h={...d},f=!1,p;if(n._optimisticResults){const $=this.hasListeners(),B=!$&&eC(t,n),L=$&&tC(t,r,n,s);(B||L)&&(h={...h,...z8(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:b}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(a==null?void 0:a.data)&&n.select===he(this,d0))p=he(this,_f);else try{ut(this,d0,n.select),p=n.select(h.data),p=_j(i==null?void 0:i.data,p,n),ut(this,_f,p),ut(this,Mo,null)}catch($){ut(this,Mo,$)}else p=h.data;if(n.placeholderData!==void 0&&p===void 0&&b==="pending"){let $;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))$=i.data;else if($=typeof n.placeholderData=="function"?n.placeholderData((T=he(this,Cf))==null?void 0:T.state.data,he(this,Cf)):n.placeholderData,n.select&&$!==void 0)try{$=n.select($),ut(this,Mo,null)}catch(B){ut(this,Mo,B)}$!==void 0&&(b="success",p=_j(i==null?void 0:i.data,$,n),f=!0)}he(this,Mo)&&(g=he(this,Mo),p=he(this,_f),x=Date.now(),b="error");const v=h.fetchStatus==="fetching",y=b==="pending",w=b==="error",_=y&&v,C=p!==void 0,O={status:b,fetchStatus:h.fetchStatus,isPending:y,isSuccess:b==="success",isError:w,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:w&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&C,isStale:rk(t,n),refetch:this.refetch,promise:he(this,Tc)};if(this.options.experimental_prefetchInRender){const $=P=>{O.status==="error"?P.reject(O.error):O.data!==void 0&&P.resolve(O.data)},B=()=>{const P=ut(this,Tc,O.promise=Cj());$(P)},L=he(this,Tc);switch(L.status){case"pending":t.queryHash===r.queryHash&&$(L);break;case"fulfilled":(O.status==="error"||O.data!==L.value)&&B();break;case"rejected":(O.status!=="error"||O.error!==L.reason)&&B();break}}return O}updateResult(t){const n=he(this,Ys),r=this.createResult(he(this,un),this.options);if(ut(this,ld,he(this,un).state),ut(this,kf,this.options),he(this,ld).data!==void 0&&ut(this,Cf,he(this,un)),qv(r,n))return;ut(this,Ys,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!he(this,Af).size)return!0;const c=new Set(l??he(this,Af));return this.options.throwOnError&&c.add("error"),Object.keys(he(this,Ys)).some(u=>{const d=u;return he(this,Ys)[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),en(this,kn,$8).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&en(this,kn,Tj).call(this)}},hi=new WeakMap,un=new WeakMap,u0=new WeakMap,Ys=new WeakMap,ld=new WeakMap,kf=new WeakMap,Tc=new WeakMap,Mo=new WeakMap,d0=new WeakMap,_f=new WeakMap,Cf=new WeakMap,cd=new WeakMap,ud=new WeakMap,Mc=new WeakMap,Af=new WeakMap,kn=new WeakSet,vm=function(t){en(this,kn,Ij).call(this);let n=he(this,un).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(da)),n},Aj=function(){en(this,kn,Mj).call(this);const t=tf(this.options.staleTime,he(this,un));if(Sd||he(this,Ys).isStale||!Sj(t))return;const r=M8(he(this,Ys).dataUpdatedAt,t)+1;ut(this,cd,setTimeout(()=>{he(this,Ys).isStale||this.updateResult()},r))},Pj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(he(this,un)):this.options.refetchInterval)??!1},Ej=function(t){en(this,kn,Lj).call(this),ut(this,Mc,t),!(Sd||qa(this.options.enabled,he(this,un))===!1||!Sj(he(this,Mc))||he(this,Mc)===0)&&ut(this,ud,setInterval(()=>{(this.options.refetchIntervalInBackground||nk.isFocused())&&en(this,kn,vm).call(this)},he(this,Mc)))},Tj=function(){en(this,kn,Aj).call(this),en(this,kn,Ej).call(this,en(this,kn,Pj).call(this))},Mj=function(){he(this,cd)&&(clearTimeout(he(this,cd)),ut(this,cd,void 0))},Lj=function(){he(this,ud)&&(clearInterval(he(this,ud)),ut(this,ud,void 0))},Ij=function(){const t=he(this,hi).getQueryCache().build(he(this,hi),this.options);if(t===he(this,un))return;const n=he(this,un);ut(this,un,t),ut(this,u0,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},$8=function(t){Gr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(he(this,Ys))}),he(this,hi).getQueryCache().notify({query:he(this,un),type:"observerResultsUpdated"})})},NE);function QG(e,t){return qa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function eC(e,t){return QG(e,t)||e.state.data!==void 0&&Dj(e,t,t.refetchOnMount)}function Dj(e,t,n){if(qa(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&rk(e,t)}return!1}function tC(e,t,n,r){return(e!==t||qa(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&rk(e,n)}function rk(e,t){return qa(t.enabled,e)!==!1&&e.isStaleByTime(tf(t.staleTime,e))}function XG(e,t){return!qv(e.getCurrentResult(),t)}var Lc,Ic,fi,Cl,Ll,nv,Rj,SE,JG=(SE=class extends rp{constructor(n,r){super();St(this,Ll);St(this,Lc);St(this,Ic);St(this,fi);St(this,Cl);ut(this,Lc,n),this.setOptions(r),this.bindMethods(),en(this,Ll,nv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=he(this,Lc).defaultMutationOptions(n),qv(this.options,r)||he(this,Lc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:he(this,fi),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&kd(r.mutationKey)!==kd(this.options.mutationKey)?this.reset():((s=he(this,fi))==null?void 0:s.state.status)==="pending"&&he(this,fi).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=he(this,fi))==null||n.removeObserver(this)}onMutationUpdate(n){en(this,Ll,nv).call(this),en(this,Ll,Rj).call(this,n)}getCurrentResult(){return he(this,Ic)}reset(){var n;(n=he(this,fi))==null||n.removeObserver(this),ut(this,fi,void 0),en(this,Ll,nv).call(this),en(this,Ll,Rj).call(this)}mutate(n,r){var s;return ut(this,Cl,r),(s=he(this,fi))==null||s.removeObserver(this),ut(this,fi,he(this,Lc).getMutationCache().build(he(this,Lc),this.options)),he(this,fi).addObserver(this),he(this,fi).execute(n)}},Lc=new WeakMap,Ic=new WeakMap,fi=new WeakMap,Cl=new WeakMap,Ll=new WeakSet,nv=function(){var r;const n=((r=he(this,fi))==null?void 0:r.state)??B8();ut(this,Ic,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Rj=function(n){Gr.batch(()=>{var r,s,i,a,l,c,u,d;if(he(this,Cl)&&this.hasListeners()){const h=he(this,Ic).variables,f=he(this,Ic).context;(n==null?void 0:n.type)==="success"?((s=(r=he(this,Cl)).onSuccess)==null||s.call(r,n.data,h,f),(a=(i=he(this,Cl)).onSettled)==null||a.call(i,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((c=(l=he(this,Cl)).onError)==null||c.call(l,n.error,h,f),(d=(u=he(this,Cl)).onSettled)==null||d.call(u,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(he(this,Ic))})})},SE),U8=N.createContext(void 0),Bs=e=>{const t=N.useContext(U8);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ZG=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(U8.Provider,{value:e,children:t})),V8=N.createContext(!1),eK=()=>N.useContext(V8);V8.Provider;function tK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nK=N.createContext(tK()),rK=()=>N.useContext(nK);function q8(e,t){return typeof e=="function"?e(...t):!!e}function Oj(){}var sK=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},iK=e=>{N.useEffect(()=>{e.clearReset()},[e])},aK=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&q8(n,[e.error,r]),oK=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},lK=(e,t)=>e.isLoading&&e.isFetching&&!t,cK=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,nC=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function uK(e,t,n){var d,h,f,p,g;const r=Bs(),s=eK(),i=rK(),a=r.defaultQueryOptions(e);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,a),a._optimisticResults=s?"isRestoring":"optimistic",oK(a),sK(a,i),iK(i);const l=!r.getQueryCache().get(a.queryHash),[c]=N.useState(()=>new t(r,a)),u=c.getOptimisticResult(a);if(N.useSyncExternalStore(N.useCallback(x=>{const b=s?Oj:c.subscribe(Gr.batchCalls(x));return c.updateResult(),b},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),cK(a,u))throw nC(a,c,i);if(aK({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw u.error;if((p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,a,u),a.experimental_prefetchInRender&&!Sd&&lK(u,s)){const x=l?nC(a,c,i):(g=r.getQueryCache().get(a.queryHash))==null?void 0:g.promise;x==null||x.catch(Oj).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Ht(e,t){return uK(e,KG)}function On(e,t){const n=Bs(),[r]=N.useState(()=>new JG(n,e));N.useEffect(()=>{r.setOptions(e)},[r,e]);const s=N.useSyncExternalStore(N.useCallback(a=>r.subscribe(Gr.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=N.useCallback((a,l)=>{r.mutate(a,l).catch(Oj)},[r]);if(s.error&&q8(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function W8(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function xr(e,t,n){const r=localStorage.getItem("parentjourney_token"),s=n?{"Content-Type":"application/json"}:{};r&&(s.Authorization=`Bearer ${r}`);const i=await fetch(t,{method:e,headers:s,body:n?JSON.stringify(n):void 0,credentials:"include"});return await W8(i),i}const dK=({on401:e})=>async({queryKey:t})=>{const n=localStorage.getItem("parentjourney_token"),r={};n?(r.Authorization=`Bearer ${n}`,console.log(`Query to ${t.join("/")} with token: ${n.substring(0,20)}...`)):console.log(`Query to ${t.join("/")} without token`);const s=await fetch(t.join("/"),{credentials:"include",headers:r});return e==="returnNull"&&s.status===401?null:(await W8(s),await s.json())},H8=new GG({defaultOptions:{queries:{queryFn:dK({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),hK=1,fK=1e6;let yw=0;function pK(){return yw=(yw+1)%Number.MAX_SAFE_INTEGER,yw.toString()}const vw=new Map,rC=e=>{if(vw.has(e))return;const t=setTimeout(()=>{vw.delete(e),Om({type:"REMOVE_TOAST",toastId:e})},fK);vw.set(e,t)},mK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,hK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?rC(n):e.toasts.forEach(r=>{rC(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},rv=[];let sv={toasts:[]};function Om(e){sv=mK(sv,e),rv.forEach(t=>{t(sv)})}function gK({...e}){const t=pK(),n=s=>Om({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Om({type:"DISMISS_TOAST",toastId:t});return Om({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function vs(){const[e,t]=N.useState(sv);return N.useEffect(()=>(rv.push(t),()=>{const n=rv.indexOf(t);n>-1&&rv.splice(n,1)}),[e]),{...e,toast:gK,dismiss:n=>Om({type:"DISMISS_TOAST",toastId:n})}}function He(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function sC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ab(...e){return t=>{let n=!1;const r=e.map(s=>{const i=sC(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():sC(e[s],null)}}}}function Yt(...e){return N.useCallback(ab(...e),e)}function xK(e,t){const n=N.createContext(t),r=i=>{const{children:a,...l}=i,c=N.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(i){const a=N.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function $s(e,t=[]){let n=[];function r(i,a){const l=N.createContext(a),c=n.length;n=[...n,a];const u=h=>{var v;const{scope:f,children:p,...g}=h,x=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,b=N.useMemo(()=>g,Object.values(g));return o.jsx(x.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(h,f){var x;const p=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,g=N.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>N.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,yK(s,...t)]}function yK(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function ru(e){const t=vK(e),n=N.forwardRef((r,s)=>{const{children:i,...a}=r,l=N.Children.toArray(i),c=l.find(bK);if(c){const u=c.props.children,d=l.map(h=>h===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:s,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var Y8=ru("Slot");function vK(e){const t=N.forwardRef((n,r)=>{const{children:s,...i}=n;if(N.isValidElement(s)){const a=jK(s),l=wK(i,s.props);return s.type!==N.Fragment&&(l.ref=r?ab(r,a):a),N.cloneElement(s,l)}return N.Children.count(s)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var G8=Symbol("radix.slottable");function K8(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=G8,t}function bK(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===G8}function wK(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function jK(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ob(e){const t=e+"CollectionProvider",[n,r]=$s(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:b,children:v}=x,y=it.useRef(null),w=it.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:w,collectionRef:y,children:v})};a.displayName=t;const l=e+"CollectionSlot",c=ru(l),u=it.forwardRef((x,b)=>{const{scope:v,children:y}=x,w=i(l,v),_=Yt(b,w.collectionRef);return o.jsx(c,{ref:_,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=ru(d),p=it.forwardRef((x,b)=>{const{scope:v,children:y,...w}=x,_=it.useRef(null),C=Yt(b,_),E=i(d,v);return it.useEffect(()=>(E.itemMap.set(_,{ref:_,...w}),()=>void E.itemMap.delete(_))),o.jsx(f,{[h]:"",ref:C,children:y})});p.displayName=d;function g(x){const b=i(e+"CollectionConsumer",x);return it.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((E,O)=>w.indexOf(E.ref.current)-w.indexOf(O.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},g,r]}var NK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],yt=NK.reduce((e,t)=>{const n=ru(`Primitive.${t}`),r=N.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function sk(e,t){e&&Od.flushSync(()=>e.dispatchEvent(t))}function lr(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function SK(e,t=globalThis==null?void 0:globalThis.document){const n=lr(e);N.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var kK="DismissableLayer",Fj="dismissableLayer.update",_K="dismissableLayer.pointerDownOutside",CK="dismissableLayer.focusOutside",iC,Q8=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fd=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=N.useContext(Q8),[d,h]=N.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=N.useState({}),g=Yt(t,O=>h(O)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(b),y=d?x.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=v,C=PK(O=>{const T=O.target,$=[...u.branches].some(B=>B.contains(T));!_||$||(s==null||s(O),a==null||a(O),O.defaultPrevented||l==null||l())},f),E=EK(O=>{const T=O.target;[...u.branches].some(B=>B.contains(T))||(i==null||i(O),a==null||a(O),O.defaultPrevented||l==null||l())},f);return SK(O=>{y===u.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},f),N.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(iC=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),aC(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=iC)}},[d,f,n,u]),N.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),aC())},[d,u]),N.useEffect(()=>{const O=()=>p({});return document.addEventListener(Fj,O),()=>document.removeEventListener(Fj,O)},[]),o.jsx(yt.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,E.onFocusCapture),onBlurCapture:He(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,C.onPointerDownCapture)})});Fd.displayName=kK;var AK="DismissableLayerBranch",X8=N.forwardRef((e,t)=>{const n=N.useContext(Q8),r=N.useRef(null),s=Yt(t,r);return N.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(yt.div,{...e,ref:s})});X8.displayName=AK;function PK(e,t=globalThis==null?void 0:globalThis.document){const n=lr(e),r=N.useRef(!1),s=N.useRef(()=>{});return N.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){J8(_K,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function EK(e,t=globalThis==null?void 0:globalThis.document){const n=lr(e),r=N.useRef(!1);return N.useEffect(()=>{const s=i=>{i.target&&!r.current&&J8(CK,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function aC(){const e=new CustomEvent(Fj);document.dispatchEvent(e)}function J8(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?sk(s,i):s.dispatchEvent(i)}var TK=Fd,MK=X8,ys=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},LK="Portal",sp=N.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=N.useState(!1);ys(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?rG.createPortal(o.jsx(yt.div,{...r,ref:t}),a):null});sp.displayName=LK;function IK(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var as=e=>{const{present:t,children:n}=e,r=DK(t),s=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),i=Yt(r.ref,RK(s));return typeof n=="function"||r.isPresent?N.cloneElement(s,{ref:i}):null};as.displayName="Presence";function DK(e){const[t,n]=N.useState(),r=N.useRef({}),s=N.useRef(e),i=N.useRef("none"),a=e?"mounted":"unmounted",[l,c]=IK(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=ly(r.current);i.current=l==="mounted"?u:"none"},[l]),ys(()=>{const u=r.current,d=s.current;if(d!==e){const f=i.current,p=ly(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ys(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const x=ly(r.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=p=>{p.target===t&&(i.current=ly(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function ly(e){return(e==null?void 0:e.animationName)||"none"}function RK(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function qo({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=OK({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:r,l=lr(n),c=N.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[i,e,s,l]);return[a,c]}function OK({defaultProp:e,onChange:t}){const n=N.useState(e),[r]=n,s=N.useRef(r),i=lr(t);return N.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var FK="VisuallyHidden",b0=N.forwardRef((e,t)=>o.jsx(yt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));b0.displayName=FK;var zK=b0,ik="ToastProvider",[ak,BK,$K]=ob("Toast"),[Z8,U2e]=$s("Toast",[$K]),[UK,lb]=Z8(ik),eR=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=N.useState(null),[u,d]=N.useState(0),h=N.useRef(!1),f=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ik}\`. Expected non-empty \`string\`.`),o.jsx(ak.Provider,{scope:t,children:o.jsx(UK,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>d(p=>p+1),[]),onToastRemove:N.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};eR.displayName=ik;var tR="ToastViewport",VK=["F8"],zj="toast.viewportPause",Bj="toast.viewportResume",nR=N.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=VK,label:s="Notifications ({hotkey})",...i}=e,a=lb(tR,n),l=BK(n),c=N.useRef(null),u=N.useRef(null),d=N.useRef(null),h=N.useRef(null),f=Yt(t,h,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;N.useEffect(()=>{const b=v=>{var w;r.length!==0&&r.every(_=>v[_]||v.code===_)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),N.useEffect(()=>{const b=c.current,v=h.current;if(g&&b&&v){const y=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(zj);v.dispatchEvent(E),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(Bj);v.dispatchEvent(E),a.isClosePausedRef.current=!1}},_=E=>{!b.contains(E.relatedTarget)&&w()},C=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",y),b.addEventListener("focusout",_),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[g,a.isClosePausedRef]);const x=N.useCallback(({tabbingDirection:b})=>{const y=l().map(w=>{const _=w.ref.current,C=[_,...nQ(_)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?y.reverse():y).flat()},[l]);return N.useEffect(()=>{const b=h.current;if(b){const v=y=>{var C,E,O;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const T=document.activeElement,$=y.shiftKey;if(y.target===b&&$){(C=u.current)==null||C.focus();return}const P=x({tabbingDirection:$?"backwards":"forwards"}),D=P.findIndex(F=>F===T);bw(P.slice(D+1))?y.preventDefault():$?(E=u.current)==null||E.focus():(O=d.current)==null||O.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[l,x]),o.jsxs(MK,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx($j,{ref:u,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});bw(b)}}),o.jsx(ak.Slot,{scope:n,children:o.jsx(yt.ol,{tabIndex:-1,...i,ref:f})}),g&&o.jsx($j,{ref:d,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});bw(b)}})]})});nR.displayName=tR;var rR="ToastFocusProxy",$j=N.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=lb(rR,n);return o.jsx(b0,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});$j.displayName=rR;var cb="Toast",qK="toast.swipeStart",WK="toast.swipeMove",HK="toast.swipeCancel",YK="toast.swipeEnd",sR=N.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=e,[l=!0,c]=qo({prop:r,defaultProp:s,onChange:i});return o.jsx(as,{present:n||l,children:o.jsx(QK,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:lr(e.onPause),onResume:lr(e.onResume),onSwipeStart:He(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:He(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});sR.displayName=cb;var[GK,KK]=Z8(cb,{onClose(){}}),QK=N.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...g}=e,x=lb(cb,n),[b,v]=N.useState(null),y=Yt(t,F=>v(F)),w=N.useRef(null),_=N.useRef(null),C=s||x.duration,E=N.useRef(0),O=N.useRef(C),T=N.useRef(0),{onToastAdd:$,onToastRemove:B}=x,L=lr(()=>{var U;(b==null?void 0:b.contains(document.activeElement))&&((U=x.viewport)==null||U.focus()),a()}),P=N.useCallback(F=>{!F||F===1/0||(window.clearTimeout(T.current),E.current=new Date().getTime(),T.current=window.setTimeout(L,F))},[L]);N.useEffect(()=>{const F=x.viewport;if(F){const U=()=>{P(O.current),u==null||u()},W=()=>{const H=new Date().getTime()-E.current;O.current=O.current-H,window.clearTimeout(T.current),c==null||c()};return F.addEventListener(zj,W),F.addEventListener(Bj,U),()=>{F.removeEventListener(zj,W),F.removeEventListener(Bj,U)}}},[x.viewport,C,c,u,P]),N.useEffect(()=>{i&&!x.isClosePausedRef.current&&P(C)},[i,C,x.isClosePausedRef,P]),N.useEffect(()=>($(),()=>B()),[$,B]);const D=N.useMemo(()=>b?dR(b):null,[b]);return x.viewport?o.jsxs(o.Fragment,{children:[D&&o.jsx(XK,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),o.jsx(GK,{scope:n,onClose:L,children:Od.createPortal(o.jsx(ak.ItemSlot,{scope:n,children:o.jsx(TK,{asChild:!0,onEscapeKeyDown:He(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||L(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(yt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:He(e.onPointerDown,F=>{F.button===0&&(w.current={x:F.clientX,y:F.clientY})}),onPointerMove:He(e.onPointerMove,F=>{if(!w.current)return;const U=F.clientX-w.current.x,W=F.clientY-w.current.y,H=!!_.current,R=["left","right"].includes(x.swipeDirection),G=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,M=R?G(0,U):0,ae=R?0:G(0,W),z=F.pointerType==="touch"?10:2,I={x:M,y:ae},J={originalEvent:F,delta:I};H?(_.current=I,cy(WK,h,J,{discrete:!1})):oC(I,x.swipeDirection,z)?(_.current=I,cy(qK,d,J,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(U)>z||Math.abs(W)>z)&&(w.current=null)}),onPointerUp:He(e.onPointerUp,F=>{const U=_.current,W=F.target;if(W.hasPointerCapture(F.pointerId)&&W.releasePointerCapture(F.pointerId),_.current=null,w.current=null,U){const H=F.currentTarget,R={originalEvent:F,delta:U};oC(U,x.swipeDirection,x.swipeThreshold)?cy(YK,p,R,{discrete:!0}):cy(HK,f,R,{discrete:!0}),H.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),XK=e=>{const{__scopeToast:t,children:n,...r}=e,s=lb(cb,t),[i,a]=N.useState(!1),[l,c]=N.useState(!1);return eQ(()=>a(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(sp,{asChild:!0,children:o.jsx(b0,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},JK="ToastTitle",iR=N.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(yt.div,{...r,ref:t})});iR.displayName=JK;var ZK="ToastDescription",aR=N.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(yt.div,{...r,ref:t})});aR.displayName=ZK;var oR="ToastAction",lR=N.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(uR,{altText:n,asChild:!0,children:o.jsx(ok,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${oR}\`. Expected non-empty \`string\`.`),null)});lR.displayName=oR;var cR="ToastClose",ok=N.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=KK(cR,n);return o.jsx(uR,{asChild:!0,children:o.jsx(yt.button,{type:"button",...r,ref:t,onClick:He(e.onClick,s.onClose)})})});ok.displayName=cR;var uR=N.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return o.jsx(yt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function dR(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),tQ(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...dR(r))}}),t}function cy(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?sk(s,i):s.dispatchEvent(i)}var oC=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function eQ(e=()=>{}){const t=lr(e);ys(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function tQ(e){return e.nodeType===e.ELEMENT_NODE}function nQ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function bw(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var rQ=eR,hR=nR,fR=sR,pR=iR,mR=aR,gR=lR,xR=ok;function yR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=yR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vR(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=yR(e))&&(r&&(r+=" "),r+=t);return r}const lC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cC=vR,w0=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return cC(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=lC(d)||lC(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(g=>{let[x,b]=g;return Array.isArray(b)?b.includes({...i,...l}[x]):{...i,...l}[x]===b})?[...u,h,f]:u},[]);return cC(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bR=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>N.createElement("svg",{ref:c,...iQ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:bR("lucide",s),...l},[...a.map(([u,d])=>N.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,t)=>{const n=N.forwardRef(({className:r,...s},i)=>N.createElement(aQ,{ref:i,iconNode:t,className:bR(`lucide-${sQ(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Qe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Qe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Qe("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Qe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=Qe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Qe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=Qe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=Qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=Qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=Qe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=Qe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=Qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=Qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=Qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=Qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=Qe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=Qe("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=Qe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=Qe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Qe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=Qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=Qe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=Qe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Qe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=Qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=Qe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=Qe("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Qe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=Qe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Qe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=Qe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=Qe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=Qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Qe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Qe("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=Qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=Qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=Qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=Qe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=Qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=Qe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=Qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=Qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Qe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Qe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=Qe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=Qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=Qe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=Qe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Qe("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),uk="-",IQ=e=>{const t=RQ(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(uk);return l[0]===""&&l.length!==1&&l.shift(),PR(l,t)||DQ(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},PR=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?PR(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(uk);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},mC=/^\[(.+)\]$/,DQ=e=>{if(mC.test(e)){const t=mC.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},RQ=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return FQ(Object.entries(e.classGroups),n).forEach(([i,a])=>{Qj(a,r,i,t)}),r},Qj=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:gC(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(OQ(s)){Qj(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Qj(a,gC(t,i),n,r)})})},gC=(e,t)=>{let n=e;return t.split(uk).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},OQ=e=>e.isThemeGetter,FQ=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[n,s]}):e,zQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},ER="!",BQ=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let v=l[b];if(u===0){if(v===s&&(r||l.slice(b,b+i)===t)){c.push(l.slice(d,b)),d=b+i;continue}if(v==="/"){h=b;continue}}v==="["?u++:v==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(ER),g=p?f.substring(1):f,x=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:a}):a},$Q=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},UQ=e=>({cache:zQ(e.cacheSize),parseClassName:BQ(e),...IQ(e)}),VQ=/\s+/,qQ=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(VQ);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let g=!!p,x=r(g?f.substring(0,p):f);if(!x){if(!g){l=u+(l.length>0?" "+l:l);continue}if(x=r(f),!x){l=u+(l.length>0?" "+l:l);continue}g=!1}const b=$Q(d).join(":"),v=h?b+ER:b,y=v+x;if(i.includes(y))continue;i.push(y);const w=s(x,g);for(let _=0;_<w.length;++_){const C=w[_];i.push(v+C)}l=u+(l.length>0?" "+l:l)}return l};function WQ(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=TR(t))&&(r&&(r+=" "),r+=n);return r}const TR=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=TR(e[r]))&&(n&&(n+=" "),n+=t);return n};function HQ(e,...t){let n,r,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return n=UQ(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=qQ(c,n);return s(c,d),d}return function(){return i(WQ.apply(null,arguments))}}const qn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},MR=/^\[(?:([a-z-]+):)?(.+)\]$/i,YQ=/^\d+\/\d+$/,GQ=new Set(["px","full","screen"]),KQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fl=e=>rf(e)||GQ.has(e)||YQ.test(e),cc=e=>ip(e,"length",oX),rf=e=>!!e&&!Number.isNaN(Number(e)),Nw=e=>ip(e,"number",rf),Jp=e=>!!e&&Number.isInteger(Number(e)),eX=e=>e.endsWith("%")&&rf(e.slice(0,-1)),Jt=e=>MR.test(e),uc=e=>KQ.test(e),tX=new Set(["length","size","percentage"]),nX=e=>ip(e,tX,LR),rX=e=>ip(e,"position",LR),sX=new Set(["image","url"]),iX=e=>ip(e,sX,cX),aX=e=>ip(e,"",lX),Zp=()=>!0,ip=(e,t,n)=>{const r=MR.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},oX=e=>QQ.test(e)&&!XQ.test(e),LR=()=>!1,lX=e=>JQ.test(e),cX=e=>ZQ.test(e),uX=()=>{const e=qn("colors"),t=qn("spacing"),n=qn("blur"),r=qn("brightness"),s=qn("borderColor"),i=qn("borderRadius"),a=qn("borderSpacing"),l=qn("borderWidth"),c=qn("contrast"),u=qn("grayscale"),d=qn("hueRotate"),h=qn("invert"),f=qn("gap"),p=qn("gradientColorStops"),g=qn("gradientColorStopPositions"),x=qn("inset"),b=qn("margin"),v=qn("opacity"),y=qn("padding"),w=qn("saturate"),_=qn("scale"),C=qn("sepia"),E=qn("skew"),O=qn("space"),T=qn("translate"),$=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Jt,t],P=()=>[Jt,t],D=()=>["",fl,cc],F=()=>["auto",rf,Jt],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",Jt],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[rf,Jt];return{cacheSize:500,separator:":",theme:{colors:[Zp],spacing:[fl,cc],blur:["none","",uc,Jt],brightness:ae(),borderColor:[e],borderRadius:["none","","full",uc,Jt],borderSpacing:P(),borderWidth:D(),contrast:ae(),grayscale:G(),hueRotate:ae(),invert:G(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[eX,cc],inset:L(),margin:L(),opacity:ae(),padding:P(),saturate:ae(),scale:ae(),sepia:G(),skew:ae(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Jt]}],container:["container"],columns:[{columns:[uc]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Jt]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jp,Jt]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Jt]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Jp,Jt]}],"grid-cols":[{"grid-cols":[Zp]}],"col-start-end":[{col:["auto",{span:["full",Jp,Jt]},Jt]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Zp]}],"row-start-end":[{row:["auto",{span:[Jp,Jt]},Jt]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Jt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Jt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Jt,t]}],"min-w":[{"min-w":[Jt,t,"min","max","fit"]}],"max-w":[{"max-w":[Jt,t,"none","full","min","max","fit","prose",{screen:[uc]},uc]}],h:[{h:[Jt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Jt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Jt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Jt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",uc,cc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nw]}],"font-family":[{font:[Zp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Jt]}],"line-clamp":[{"line-clamp":["none",rf,Nw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fl,Jt]}],"list-image":[{"list-image":["none",Jt]}],"list-style-type":[{list:["none","disc","decimal",Jt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fl,cc]}],"underline-offset":[{"underline-offset":["auto",fl,Jt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Jt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Jt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),rX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iX]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[fl,Jt]}],"outline-w":[{outline:[fl,cc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[fl,cc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",uc,aX]}],"shadow-color":[{shadow:[Zp]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",uc,Jt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Jt]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",Jt]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Jt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Jp,Jt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Jt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Jt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Jt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fl,cc,Nw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dX=HQ(uX);function Je(...e){return dX(vR(e))}const hX=rQ,IR=N.forwardRef(({className:e,...t},n)=>o.jsx(hR,{ref:n,className:Je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));IR.displayName=hR.displayName;const fX=w0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=open]:bounce-in",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DR=N.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(fR,{ref:r,className:Je(fX({variant:t}),e),...n}));DR.displayName=fR.displayName;const pX=N.forwardRef(({className:e,...t},n)=>o.jsx(gR,{ref:n,className:Je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));pX.displayName=gR.displayName;const RR=N.forwardRef(({className:e,...t},n)=>o.jsx(xR,{ref:n,className:Je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Kr,{className:"h-4 w-4"})}));RR.displayName=xR.displayName;const OR=N.forwardRef(({className:e,...t},n)=>o.jsx(pR,{ref:n,className:Je("text-sm font-semibold",e),...t}));OR.displayName=pR.displayName;const FR=N.forwardRef(({className:e,...t},n)=>o.jsx(mR,{ref:n,className:Je("text-sm opacity-90",e),...t}));FR.displayName=mR.displayName;function mX(){const{toasts:e}=vs();return o.jsxs(hX,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return o.jsxs(DR,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(OR,{children:n}),r&&o.jsx(FR,{children:r})]}),s,o.jsx(RR,{})]},t)}),o.jsx(IR,{})]})}var gX=xI[" useId ".trim().toString()]||(()=>{}),xX=0;function Xa(e){const[t,n]=N.useState(gX());return ys(()=>{n(r=>r??String(xX++))},[e]),t?`radix-${t}`:""}const yX=["top","right","bottom","left"],su=Math.min,Oi=Math.max,Qv=Math.round,uy=Math.floor,Bo=e=>({x:e,y:e}),vX={left:"right",right:"left",bottom:"top",top:"bottom"},bX={start:"end",end:"start"};function Xj(e,t,n){return Oi(e,su(t,n))}function $l(e,t){return typeof e=="function"?e(t):e}function Ul(e){return e.split("-")[0]}function ap(e){return e.split("-")[1]}function dk(e){return e==="x"?"y":"x"}function hk(e){return e==="y"?"height":"width"}function iu(e){return["top","bottom"].includes(Ul(e))?"y":"x"}function fk(e){return dk(iu(e))}function wX(e,t,n){n===void 0&&(n=!1);const r=ap(e),s=fk(e),i=hk(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Xv(a)),[a,Xv(a)]}function jX(e){const t=Xv(e);return[Jj(e),t,Jj(t)]}function Jj(e){return e.replace(/start|end/g,t=>bX[t])}function NX(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:a;default:return[]}}function SX(e,t,n,r){const s=ap(e);let i=NX(Ul(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(Jj)))),i}function Xv(e){return e.replace(/left|right|bottom|top/g,t=>vX[t])}function kX(e){return{top:0,right:0,bottom:0,left:0,...e}}function zR(e){return typeof e!="number"?kX(e):{top:e,right:e,bottom:e,left:e}}function Jv(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function xC(e,t,n){let{reference:r,floating:s}=e;const i=iu(t),a=fk(t),l=hk(a),c=Ul(t),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(ap(t)){case"start":p[a]-=f*(n&&u?-1:1);break;case"end":p[a]+=f*(n&&u?-1:1);break}return p}const _X=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=xC(u,r,c),f=r,p={},g=0;for(let x=0;x<l.length;x++){const{name:b,fn:v}=l[x],{x:y,y:w,data:_,reset:C}=await v({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=y??d,h=w??h,p={...p,[b]:{...p[b],..._}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:h}=xC(u,f,c)),x=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Ag(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=$l(t,e),g=zR(p),b=l[f?h==="floating"?"reference":"floating":h],v=Jv(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},C=Jv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(v.top-C.top+g.top)/_.y,bottom:(C.bottom-v.bottom+g.bottom)/_.y,left:(v.left-C.left+g.left)/_.x,right:(C.right-v.right+g.right)/_.x}}const CX=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=$l(e,t)||{};if(u==null)return{};const h=zR(d),f={x:n,y:r},p=fk(s),g=hk(p),x=await a.getDimensions(u),b=p==="y",v=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[p]-f[p]-i.floating[g],C=f[p]-i.reference[p],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let O=E?E[w]:0;(!O||!await(a.isElement==null?void 0:a.isElement(E)))&&(O=l.floating[w]||i.floating[g]);const T=_/2-C/2,$=O/2-x[g]/2-1,B=su(h[v],$),L=su(h[y],$),P=B,D=O-x[g]-L,F=O/2-x[g]/2+T,U=Xj(P,F,D),W=!c.arrow&&ap(s)!=null&&F!==U&&i.reference[g]/2-(F<P?B:L)-x[g]/2<0,H=W?F<P?F-P:F-D:0;return{[p]:f[p]+H,data:{[p]:U,centerOffset:F-U-H,...W&&{alignmentOffset:H}},reset:W}}}),AX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...b}=$l(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Ul(s),y=iu(l),w=Ul(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=f||(w||!x?[Xv(l)]:jX(l)),E=g!=="none";!f&&E&&C.push(...SX(l,x,g,_));const O=[l,...C],T=await Ag(t,b),$=[];let B=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&$.push(T[v]),h){const F=wX(s,a,_);$.push(T[F[0]],T[F[1]])}if(B=[...B,{placement:s,overflows:$}],!$.every(F=>F<=0)){var L,P;const F=(((L=i.flip)==null?void 0:L.index)||0)+1,U=O[F];if(U)return{data:{index:F,overflows:B},reset:{placement:U}};let W=(P=B.filter(H=>H.overflows[0]<=0).sort((H,R)=>H.overflows[1]-R.overflows[1])[0])==null?void 0:P.placement;if(!W)switch(p){case"bestFit":{var D;const H=(D=B.filter(R=>{if(E){const G=iu(R.placement);return G===y||G==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(G=>G>0).reduce((G,M)=>G+M,0)]).sort((R,G)=>R[1]-G[1])[0])==null?void 0:D[0];H&&(W=H);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function yC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vC(e){return yX.some(t=>e[t]>=0)}const PX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=$l(e,t);switch(r){case"referenceHidden":{const i=await Ag(t,{...s,elementContext:"reference"}),a=yC(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:vC(a)}}}case"escaped":{const i=await Ag(t,{...s,altBoundary:!0}),a=yC(i,n.floating);return{data:{escapedOffsets:a,escaped:vC(a)}}}default:return{}}}}};async function EX(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Ul(n),l=ap(n),c=iu(n)==="y",u=["left","top"].includes(a)?-1:1,d=i&&c?-1:1,h=$l(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const TX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await EX(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},MX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:v,y}=b;return{x:v,y}}},...c}=$l(e,t),u={x:n,y:r},d=await Ag(t,c),h=iu(Ul(s)),f=dk(h);let p=u[f],g=u[h];if(i){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=p+d[b],w=p-d[v];p=Xj(y,p,w)}if(a){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=g+d[b],w=g-d[v];g=Xj(y,g,w)}const x=l.fn({...t,[f]:p,[h]:g});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[f]:i,[h]:a}}}}}},LX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=$l(e,t),d={x:n,y:r},h=iu(s),f=dk(h);let p=d[f],g=d[h];const x=$l(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const w=f==="y"?"height":"width",_=i.reference[f]-i.floating[w]+b.mainAxis,C=i.reference[f]+i.reference[w]-b.mainAxis;p<_?p=_:p>C&&(p=C)}if(u){var v,y;const w=f==="y"?"width":"height",_=["top","left"].includes(Ul(s)),C=i.reference[h]-i.floating[w]+(_&&((v=a.offset)==null?void 0:v[h])||0)+(_?0:b.crossAxis),E=i.reference[h]+i.reference[w]+(_?0:((y=a.offset)==null?void 0:y[h])||0)-(_?b.crossAxis:0);g<C?g=C:g>E&&(g=E)}return{[f]:p,[h]:g}}}},IX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=$l(e,t),d=await Ag(t,u),h=Ul(s),f=ap(s),p=iu(s)==="y",{width:g,height:x}=i.floating;let b,v;h==="top"||h==="bottom"?(b=h,v=f===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,b=f==="end"?"top":"bottom");const y=x-d.top-d.bottom,w=g-d.left-d.right,_=su(x-d[b],y),C=su(g-d[v],w),E=!t.middlewareData.shift;let O=_,T=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=y),E&&!f){const B=Oi(d.left,0),L=Oi(d.right,0),P=Oi(d.top,0),D=Oi(d.bottom,0);p?T=g-2*(B!==0||L!==0?B+L:Oi(d.left,d.right)):O=x-2*(P!==0||D!==0?P+D:Oi(d.top,d.bottom))}await c({...t,availableWidth:T,availableHeight:O});const $=await a.getDimensions(l.floating);return g!==$.width||x!==$.height?{reset:{rects:!0}}:{}}}};function hb(){return typeof window<"u"}function op(e){return BR(e)?(e.nodeName||"").toLowerCase():"#document"}function Yi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qo(e){var t;return(t=(BR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BR(e){return hb()?e instanceof Node||e instanceof Yi(e).Node:!1}function no(e){return hb()?e instanceof Element||e instanceof Yi(e).Element:!1}function Ho(e){return hb()?e instanceof HTMLElement||e instanceof Yi(e).HTMLElement:!1}function bC(e){return!hb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yi(e).ShadowRoot}function S0(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ro(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function DX(e){return["table","td","th"].includes(op(e))}function fb(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function pk(e){const t=mk(),n=no(e)?ro(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function RX(e){let t=au(e);for(;Ho(t)&&!Ff(t);){if(pk(t))return t;if(fb(t))return null;t=au(t)}return null}function mk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ff(e){return["html","body","#document"].includes(op(e))}function ro(e){return Yi(e).getComputedStyle(e)}function pb(e){return no(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function au(e){if(op(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bC(e)&&e.host||Qo(e);return bC(t)?t.host:t}function $R(e){const t=au(e);return Ff(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ho(t)&&S0(t)?t:$R(t)}function Pg(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=$R(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=Yi(s);if(i){const l=Zj(a);return t.concat(a,a.visualViewport||[],S0(s)?s:[],l&&n?Pg(l):[])}return t.concat(s,Pg(s,[],n))}function Zj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function UR(e){const t=ro(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ho(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=Qv(n)!==i||Qv(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function gk(e){return no(e)?e:e.contextElement}function sf(e){const t=gk(e);if(!Ho(t))return Bo(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=UR(t);let a=(i?Qv(n.width):n.width)/r,l=(i?Qv(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const OX=Bo(0);function VR(e){const t=Yi(e);return!mk()||!t.visualViewport?OX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function FX(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yi(e)?!1:t}function _d(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=gk(e);let a=Bo(1);t&&(r?no(r)&&(a=sf(r)):a=sf(e));const l=FX(i,n,r)?VR(i):Bo(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const f=Yi(i),p=r&&no(r)?Yi(r):r;let g=f,x=Zj(g);for(;x&&r&&p!==g;){const b=sf(x),v=x.getBoundingClientRect(),y=ro(x),w=v.left+(x.clientLeft+parseFloat(y.paddingLeft))*b.x,_=v.top+(x.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=w,u+=_,g=Yi(x),x=Zj(g)}}return Jv({width:d,height:h,x:c,y:u})}function xk(e,t){const n=pb(e).scrollLeft;return t?t.left+n:_d(Qo(e)).left+n}function qR(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:xk(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function zX(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=Qo(r),l=t?fb(t.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Bo(1);const d=Bo(0),h=Ho(r);if((h||!h&&!i)&&((op(r)!=="body"||S0(a))&&(c=pb(r)),Ho(r))){const p=_d(r);u=sf(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=a&&!h&&!i?qR(a,c,!0):Bo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function BX(e){return Array.from(e.getClientRects())}function $X(e){const t=Qo(e),n=pb(e),r=e.ownerDocument.body,s=Oi(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Oi(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+xk(e);const l=-n.scrollTop;return ro(r).direction==="rtl"&&(a+=Oi(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function UX(e,t){const n=Yi(e),r=Qo(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=mk();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function VX(e,t){const n=_d(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Ho(e)?sf(e):Bo(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function wC(e,t,n){let r;if(t==="viewport")r=UX(e,n);else if(t==="document")r=$X(Qo(e));else if(no(t))r=VX(t,n);else{const s=VR(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Jv(r)}function WR(e,t){const n=au(e);return n===t||!no(n)||Ff(n)?!1:ro(n).position==="fixed"||WR(n,t)}function qX(e,t){const n=t.get(e);if(n)return n;let r=Pg(e,[],!1).filter(l=>no(l)&&op(l)!=="body"),s=null;const i=ro(e).position==="fixed";let a=i?au(e):e;for(;no(a)&&!Ff(a);){const l=ro(a),c=pk(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||S0(a)&&!c&&WR(e,a))?r=r.filter(d=>d!==a):s=l,a=au(a)}return t.set(e,r),r}function WX(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?fb(t)?[]:qX(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const h=wC(t,d,s);return u.top=Oi(h.top,u.top),u.right=su(h.right,u.right),u.bottom=su(h.bottom,u.bottom),u.left=Oi(h.left,u.left),u},wC(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function HX(e){const{width:t,height:n}=UR(e);return{width:t,height:n}}function YX(e,t,n){const r=Ho(t),s=Qo(t),i=n==="fixed",a=_d(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Bo(0);if(r||!r&&!i)if((op(t)!=="body"||S0(s))&&(l=pb(t)),r){const f=_d(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&(c.x=xk(s));const u=s&&!r&&!i?qR(s,l):Bo(0),d=a.left+l.scrollLeft-c.x-u.x,h=a.top+l.scrollTop-c.y-u.y;return{x:d,y:h,width:a.width,height:a.height}}function Sw(e){return ro(e).position==="static"}function jC(e,t){if(!Ho(e)||ro(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Qo(e)===n&&(n=n.ownerDocument.body),n}function HR(e,t){const n=Yi(e);if(fb(e))return n;if(!Ho(e)){let s=au(e);for(;s&&!Ff(s);){if(no(s)&&!Sw(s))return s;s=au(s)}return n}let r=jC(e,t);for(;r&&DX(r)&&Sw(r);)r=jC(r,t);return r&&Ff(r)&&Sw(r)&&!pk(r)?n:r||RX(e)||n}const GX=async function(e){const t=this.getOffsetParent||HR,n=this.getDimensions,r=await n(e.floating);return{reference:YX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function KX(e){return ro(e).direction==="rtl"}const QX={convertOffsetParentRelativeRectToViewportRelativeRect:zX,getDocumentElement:Qo,getClippingRect:WX,getOffsetParent:HR,getElementRects:GX,getClientRects:BX,getDimensions:HX,getScale:sf,isElement:no,isRTL:KX};function YR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function XX(e,t){let n=null,r;const s=Qo(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||t(),!f||!p)return;const g=uy(h),x=uy(s.clientWidth-(d+f)),b=uy(s.clientHeight-(h+p)),v=uy(d),w={rootMargin:-g+"px "+-x+"px "+-b+"px "+-v+"px",threshold:Oi(0,su(1,c))||1};let _=!0;function C(E){const O=E[0].intersectionRatio;if(O!==c){if(!_)return a();O?a(!1,O):r=setTimeout(()=>{a(!1,1e-7)},1e3)}O===1&&!YR(u,e.getBoundingClientRect())&&a(),_=!1}try{n=new IntersectionObserver(C,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(e)}return a(!0),i}function JX(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=gk(e),d=s||i?[...u?Pg(u):[],...Pg(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=u&&l?XX(u,n):null;let f=-1,p=null;a&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let g,x=c?_d(e):null;c&&b();function b(){const v=_d(e);x&&!YR(x,v)&&n(),x=v,g=requestAnimationFrame(b)}return n(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const ZX=TX,eJ=MX,tJ=AX,nJ=IX,rJ=PX,NC=CX,sJ=LX,iJ=(e,t,n)=>{const r=new Map,s={platform:QX,...n},i={...s.platform,_c:r};return _X(e,t,{...s,platform:i})};var av=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Zv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Zv(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Zv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function GR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function SC(e,t){const n=GR(e);return Math.round(t*n)/n}function kw(e){const t=N.useRef(e);return av(()=>{t.current=e}),t}function aJ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=N.useState(r);Zv(f,r)||p(r);const[g,x]=N.useState(null),[b,v]=N.useState(null),y=N.useCallback(R=>{R!==E.current&&(E.current=R,x(R))},[]),w=N.useCallback(R=>{R!==O.current&&(O.current=R,v(R))},[]),_=i||g,C=a||b,E=N.useRef(null),O=N.useRef(null),T=N.useRef(d),$=c!=null,B=kw(c),L=kw(s),P=kw(u),D=N.useCallback(()=>{if(!E.current||!O.current)return;const R={placement:t,strategy:n,middleware:f};L.current&&(R.platform=L.current),iJ(E.current,O.current,R).then(G=>{const M={...G,isPositioned:P.current!==!1};F.current&&!Zv(T.current,M)&&(T.current=M,Od.flushSync(()=>{h(M)}))})},[f,t,n,L,P]);av(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[u]);const F=N.useRef(!1);av(()=>(F.current=!0,()=>{F.current=!1}),[]),av(()=>{if(_&&(E.current=_),C&&(O.current=C),_&&C){if(B.current)return B.current(_,C,D);D()}},[_,C,D,B,$]);const U=N.useMemo(()=>({reference:E,floating:O,setReference:y,setFloating:w}),[y,w]),W=N.useMemo(()=>({reference:_,floating:C}),[_,C]),H=N.useMemo(()=>{const R={position:n,left:0,top:0};if(!W.floating)return R;const G=SC(W.floating,d.x),M=SC(W.floating,d.y);return l?{...R,transform:"translate("+G+"px, "+M+"px)",...GR(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:M}},[n,l,W.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:D,refs:U,elements:W,floatingStyles:H}),[d,D,U,W,H])}const oJ=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?NC({element:r.current,padding:s}).fn(n):{}:r?NC({element:r,padding:s}).fn(n):{}}}},lJ=(e,t)=>({...ZX(e),options:[e,t]}),cJ=(e,t)=>({...eJ(e),options:[e,t]}),uJ=(e,t)=>({...sJ(e),options:[e,t]}),dJ=(e,t)=>({...tJ(e),options:[e,t]}),hJ=(e,t)=>({...nJ(e),options:[e,t]}),fJ=(e,t)=>({...rJ(e),options:[e,t]}),pJ=(e,t)=>({...oJ(e),options:[e,t]});var mJ="Arrow",KR=N.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return o.jsx(yt.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});KR.displayName=mJ;var gJ=KR;function yk(e){const[t,n]=N.useState(void 0);return ys(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var vk="Popper",[QR,xu]=$s(vk),[xJ,XR]=QR(vk),JR=e=>{const{__scopePopper:t,children:n}=e,[r,s]=N.useState(null);return o.jsx(xJ,{scope:t,anchor:r,onAnchorChange:s,children:n})};JR.displayName=vk;var ZR="PopperAnchor",eO=N.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=XR(ZR,n),a=N.useRef(null),l=Yt(t,a);return N.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(yt.div,{...s,ref:l})});eO.displayName=ZR;var bk="PopperContent",[yJ,vJ]=QR(bk),tO=N.forwardRef((e,t)=>{var oe,ce,xe,Pe,Ce,De;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...x}=e,b=XR(bk,n),[v,y]=N.useState(null),w=Yt(t,Ue=>y(Ue)),[_,C]=N.useState(null),E=yk(_),O=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,$=r+(i!=="center"?"-"+i:""),B=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],P=L.length>0,D={padding:B,boundary:L.filter(wJ),altBoundary:P},{refs:F,floatingStyles:U,placement:W,isPositioned:H,middlewareData:R}=aJ({strategy:"fixed",placement:$,whileElementsMounted:(...Ue)=>JX(...Ue,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[lJ({mainAxis:s+T,alignmentAxis:a}),c&&cJ({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?uJ():void 0,...D}),c&&dJ({...D}),hJ({...D,apply:({elements:Ue,rects:ct,availableWidth:ke,availableHeight:ne})=>{const{width:gt,height:ot}=ct.reference,Oe=Ue.floating.style;Oe.setProperty("--radix-popper-available-width",`${ke}px`),Oe.setProperty("--radix-popper-available-height",`${ne}px`),Oe.setProperty("--radix-popper-anchor-width",`${gt}px`),Oe.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),_&&pJ({element:_,padding:l}),jJ({arrowWidth:O,arrowHeight:T}),f&&fJ({strategy:"referenceHidden",...D})]}),[G,M]=sO(W),ae=lr(g);ys(()=>{H&&(ae==null||ae())},[H,ae]);const z=(oe=R.arrow)==null?void 0:oe.x,I=(ce=R.arrow)==null?void 0:ce.y,J=((xe=R.arrow)==null?void 0:xe.centerOffset)!==0,[se,re]=N.useState();return ys(()=>{v&&re(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:H?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(Pe=R.transformOrigin)==null?void 0:Pe.x,(Ce=R.transformOrigin)==null?void 0:Ce.y].join(" "),...((De=R.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(yJ,{scope:n,placedSide:G,onArrowChange:C,arrowX:z,arrowY:I,shouldHideArrow:J,children:o.jsx(yt.div,{"data-side":G,"data-align":M,...x,ref:w,style:{...x.style,animation:H?void 0:"none"}})})})});tO.displayName=bk;var nO="PopperArrow",bJ={top:"bottom",right:"left",bottom:"top",left:"right"},rO=N.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=vJ(nO,r),a=bJ[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(gJ,{...s,ref:n,style:{...s.style,display:"block"}})})});rO.displayName=nO;function wJ(e){return e!==null}var jJ=e=>({name:"transformOrigin",options:e,fn(t){var b,v,y;const{placement:n,rects:r,middlewareData:s}=t,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=sO(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let g="",x="";return u==="bottom"?(g=a?h:`${f}px`,x=`${-c}px`):u==="top"?(g=a?h:`${f}px`,x=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,x=a?h:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,x=a?h:`${p}px`),{data:{x:g,y:x}}}});function sO(e){const[t,n="center"]=e.split("-");return[t,n]}var wk=JR,k0=eO,mb=tO,gb=rO,[xb,V2e]=$s("Tooltip",[xu]),jk=xu(),iO="TooltipProvider",NJ=700,kC="tooltip.open",[SJ,aO]=xb(iO),oO=e=>{const{__scopeTooltip:t,delayDuration:n=NJ,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,a=N.useRef(!0),l=N.useRef(!1),c=N.useRef(0);return N.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(SJ,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};oO.displayName=iO;var lO="Tooltip",[q2e,yb]=xb(lO),eN="TooltipTrigger",kJ=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=yb(eN,n),i=aO(eN,n),a=jk(n),l=N.useRef(null),c=Yt(t,l,s.onTriggerChange),u=N.useRef(!1),d=N.useRef(!1),h=N.useCallback(()=>u.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(k0,{asChild:!0,...a,children:o.jsx(yt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:He(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:He(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:He(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:He(e.onBlur,s.onClose),onClick:He(e.onClick,s.onClose)})})});kJ.displayName=eN;var _J="TooltipPortal",[W2e,CJ]=xb(_J,{forceMount:void 0}),zf="TooltipContent",cO=N.forwardRef((e,t)=>{const n=CJ(zf,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=yb(zf,e.__scopeTooltip);return o.jsx(as,{present:r||a.open,children:a.disableHoverableContent?o.jsx(uO,{side:s,...i,ref:t}):o.jsx(AJ,{side:s,...i,ref:t})})}),AJ=N.forwardRef((e,t)=>{const n=yb(zf,e.__scopeTooltip),r=aO(zf,e.__scopeTooltip),s=N.useRef(null),i=Yt(t,s),[a,l]=N.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=N.useCallback(()=>{l(null),h(!1)},[h]),p=N.useCallback((g,x)=>{const b=g.currentTarget,v={x:g.clientX,y:g.clientY},y=LJ(v,b.getBoundingClientRect()),w=IJ(v,y),_=DJ(x.getBoundingClientRect()),C=OJ([...w,..._]);l(C),h(!0)},[h]);return N.useEffect(()=>()=>f(),[f]),N.useEffect(()=>{if(c&&d){const g=b=>p(b,d),x=b=>p(b,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",x)}}},[c,d,p,f]),N.useEffect(()=>{if(a){const g=x=>{const b=x.target,v={x:x.clientX,y:x.clientY},y=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!RJ(v,a);y?f():w&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,a,u,f]),o.jsx(uO,{...e,ref:i})}),[PJ,EJ]=xb(lO,{isInside:!1}),TJ=K8("TooltipContent"),uO=N.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=yb(zf,n),u=jk(n),{onClose:d}=c;return N.useEffect(()=>(document.addEventListener(kC,d),()=>document.removeEventListener(kC,d)),[d]),N.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(mb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(TJ,{children:r}),o.jsx(PJ,{scope:n,isInside:!0,children:o.jsx(zK,{id:c.contentId,role:"tooltip",children:s||r})})]})})});cO.displayName=zf;var dO="TooltipArrow",MJ=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=jk(n);return EJ(dO,n).isInside?null:o.jsx(gb,{...s,...r,ref:t})});MJ.displayName=dO;function LJ(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function IJ(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function DJ(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function RJ(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,u=t[a].x,d=t[a].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function OJ(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),FJ(t)}function FJ(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var zJ=oO,hO=cO;const BJ=zJ,$J=N.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(hO,{ref:r,sideOffset:t,className:Je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));$J.displayName=hO.displayName;var _w="focusScope.autoFocusOnMount",Cw="focusScope.autoFocusOnUnmount",_C={bubbles:!1,cancelable:!0},UJ="FocusScope",_0=N.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=N.useState(null),u=lr(s),d=lr(i),h=N.useRef(null),f=Yt(t,x=>c(x)),p=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let x=function(w){if(p.paused||!l)return;const _=w.target;l.contains(_)?h.current=_:xc(h.current,{select:!0})},b=function(w){if(p.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||xc(h.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&xc(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),y.disconnect()}}},[r,l,p.paused]),N.useEffect(()=>{if(l){AC.add(p);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(_w,_C);l.addEventListener(_w,u),l.dispatchEvent(v),v.defaultPrevented||(VJ(GJ(fO(l)),{select:!0}),document.activeElement===x&&xc(l))}return()=>{l.removeEventListener(_w,u),setTimeout(()=>{const v=new CustomEvent(Cw,_C);l.addEventListener(Cw,d),l.dispatchEvent(v),v.defaultPrevented||xc(x??document.body,{select:!0}),l.removeEventListener(Cw,d),AC.remove(p)},0)}}},[l,u,d,p]);const g=N.useCallback(x=>{if(!n&&!r||p.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(b&&v){const y=x.currentTarget,[w,_]=qJ(y);w&&_?!x.shiftKey&&v===_?(x.preventDefault(),n&&xc(w,{select:!0})):x.shiftKey&&v===w&&(x.preventDefault(),n&&xc(_,{select:!0})):v===y&&x.preventDefault()}},[n,r,p.paused]);return o.jsx(yt.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});_0.displayName=UJ;function VJ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(xc(r,{select:t}),document.activeElement!==n)return}function qJ(e){const t=fO(e),n=CC(t,e),r=CC(t.reverse(),e);return[n,r]}function fO(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function CC(e,t){for(const n of e)if(!WJ(n,{upTo:t}))return n}function WJ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function HJ(e){return e instanceof HTMLInputElement&&"select"in e}function xc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&HJ(e)&&t&&e.select()}}var AC=YJ();function YJ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=PC(e,t),e.unshift(t)},remove(t){var n;e=PC(e,t),(n=e[0])==null||n.resume()}}}function PC(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function GJ(e){return e.filter(t=>t.tagName!=="A")}var Aw=0;function vb(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??EC()),document.body.insertAdjacentElement("beforeend",e[1]??EC()),Aw++,()=>{Aw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Aw--}},[])}function EC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Io=function(){return Io=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Io.apply(this,arguments)};function pO(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function KJ(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var ov="right-scroll-bar-position",lv="width-before-scroll-bar",QJ="with-scroll-bars-hidden",XJ="--removed-body-scroll-bar-size";function Pw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function JJ(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var ZJ=typeof window<"u"?N.useLayoutEffect:N.useEffect,TC=new WeakMap;function eZ(e,t){var n=JJ(null,function(r){return e.forEach(function(s){return Pw(s,r)})});return ZJ(function(){var r=TC.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(l){i.has(l)||Pw(l,null)}),i.forEach(function(l){s.has(l)||Pw(l,a)})}TC.set(n,e)},[e]),n}function tZ(e){return e}function nZ(e,t){t===void 0&&(t=tZ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function rZ(e){e===void 0&&(e={});var t=nZ(null);return t.options=Io({async:!0,ssr:!1},e),t}var mO=function(e){var t=e.sideCar,n=pO(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,Io({},n))};mO.isSideCarExport=!0;function sZ(e,t){return e.useMedium(t),mO}var gO=rZ(),Ew=function(){},bb=N.forwardRef(function(e,t){var n=N.useRef(null),r=N.useState({onScrollCapture:Ew,onWheelCapture:Ew,onTouchMoveCapture:Ew}),s=r[0],i=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,g=e.inert,x=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,y=e.gapMode,w=pO(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,C=eZ([n,t]),E=Io(Io({},w),s);return N.createElement(N.Fragment,null,d&&N.createElement(_,{sideCar:gO,removeScrollBar:u,shards:h,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:y}),a?N.cloneElement(N.Children.only(l),Io(Io({},E),{ref:C})):N.createElement(v,Io({},E,{className:c,ref:C}),l))});bb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bb.classNames={fullWidth:lv,zeroRight:ov};var iZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=iZ();return t&&e.setAttribute("nonce",t),e}function oZ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function lZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cZ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=aZ())&&(oZ(t,n),lZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},uZ=function(){var e=cZ();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},xO=function(){var e=uZ(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},dZ={left:0,top:0,right:0,gap:0},Tw=function(e){return parseInt(e||"",10)||0},hZ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Tw(n),Tw(r),Tw(s)]},fZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return dZ;var t=hZ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},pZ=xO(),af="data-scroll-locked",mZ=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(QJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(af,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ov,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(lv,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ov," .").concat(ov,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lv," .").concat(lv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(af,`] {
    `).concat(XJ,": ").concat(l,`px;
  }
`)},MC=function(){var e=parseInt(document.body.getAttribute(af)||"0",10);return isFinite(e)?e:0},gZ=function(){N.useEffect(function(){return document.body.setAttribute(af,(MC()+1).toString()),function(){var e=MC()-1;e<=0?document.body.removeAttribute(af):document.body.setAttribute(af,e.toString())}},[])},xZ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;gZ();var i=N.useMemo(function(){return fZ(s)},[s]);return N.createElement(pZ,{styles:mZ(i,!t,s,n?"":"!important")})},tN=!1;if(typeof window<"u")try{var dy=Object.defineProperty({},"passive",{get:function(){return tN=!0,!0}});window.addEventListener("test",dy,dy),window.removeEventListener("test",dy,dy)}catch{tN=!1}var bh=tN?{passive:!1}:!1,yZ=function(e){return e.tagName==="TEXTAREA"},yO=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!yZ(e)&&n[t]==="visible")},vZ=function(e){return yO(e,"overflowY")},bZ=function(e){return yO(e,"overflowX")},LC=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=vO(e,r);if(s){var i=bO(e,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wZ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},jZ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},vO=function(e,t){return e==="v"?vZ(t):bZ(t)},bO=function(e,t){return e==="v"?wZ(t):jZ(t)},NZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},SZ=function(e,t,n,r,s){var i=NZ(e,window.getComputedStyle(t).direction),a=i*r,l=n.target,c=t.contains(l),u=!1,d=a>0,h=0,f=0;do{var p=bO(e,l),g=p[0],x=p[1],b=p[2],v=x-b-i*g;(g||v)&&vO(e,l)&&(h+=v,f+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},hy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},IC=function(e){return[e.deltaX,e.deltaY]},DC=function(e){return e&&"current"in e?e.current:e},kZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_Z=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},CZ=0,wh=[];function AZ(e){var t=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),s=N.useState(CZ++)[0],i=N.useState(xO)[0],a=N.useRef(e);N.useEffect(function(){a.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=KJ([e.lockRef.current],(e.shards||[]).map(DC),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=N.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var v=hy(x),y=n.current,w="deltaX"in x?x.deltaX:y[0]-v[0],_="deltaY"in x?x.deltaY:y[1]-v[1],C,E=x.target,O=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in x&&O==="h"&&E.type==="range")return!1;var T=LC(O,E);if(!T)return!0;if(T?C=O:(C=O==="v"?"h":"v",T=LC(O,E)),!T)return!1;if(!r.current&&"changedTouches"in x&&(w||_)&&(r.current=C),!C)return!0;var $=r.current||C;return SZ($,b,x,$==="h"?w:_,!0)},[]),c=N.useCallback(function(x){var b=x;if(!(!wh.length||wh[wh.length-1]!==i)){var v="deltaY"in b?IC(b):hy(b),y=t.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&kZ(C.delta,v)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(a.current.shards||[]).map(DC).filter(Boolean).filter(function(C){return C.contains(b.target)}),_=w.length>0?l(b,w[0]):!a.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=N.useCallback(function(x,b,v,y){var w={name:x,delta:b,target:v,should:y,shadowParent:PZ(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=N.useCallback(function(x){n.current=hy(x),r.current=void 0},[]),h=N.useCallback(function(x){u(x.type,IC(x),x.target,l(x,e.lockRef.current))},[]),f=N.useCallback(function(x){u(x.type,hy(x),x.target,l(x,e.lockRef.current))},[]);N.useEffect(function(){return wh.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,bh),document.addEventListener("touchmove",c,bh),document.addEventListener("touchstart",d,bh),function(){wh=wh.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,bh),document.removeEventListener("touchmove",c,bh),document.removeEventListener("touchstart",d,bh)}},[]);var p=e.removeScrollBar,g=e.inert;return N.createElement(N.Fragment,null,g?N.createElement(i,{styles:_Z(s)}):null,p?N.createElement(xZ,{gapMode:e.gapMode}):null)}function PZ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const EZ=sZ(gO,AZ);var C0=N.forwardRef(function(e,t){return N.createElement(bb,Io({},e,{ref:t,sideCar:EZ}))});C0.classNames=bb.classNames;var TZ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jh=new WeakMap,fy=new WeakMap,py={},Mw=0,wO=function(e){return e&&(e.host||wO(e.parentNode))},MZ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=wO(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},LZ=function(e,t,n,r){var s=MZ(t,Array.isArray(e)?e:[e]);py[n]||(py[n]=new WeakMap);var i=py[n],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(r),g=p!==null&&p!=="false",x=(jh.get(f)||0)+1,b=(i.get(f)||0)+1;jh.set(f,x),i.set(f,b),a.push(f),x===1&&g&&fy.set(f,!0),b===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(t),l.clear(),Mw++,function(){a.forEach(function(h){var f=jh.get(h)-1,p=i.get(h)-1;jh.set(h,f),i.set(h,p),f||(fy.has(h)||h.removeAttribute(r),fy.delete(h)),p||h.removeAttribute(n)}),Mw--,Mw||(jh=new WeakMap,jh=new WeakMap,fy=new WeakMap,py={})}},wb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=TZ(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),LZ(r,s,n,"aria-hidden")):function(){return null}},Nk="Dialog",[jO,NO]=$s(Nk),[IZ,oo]=jO(Nk),SO=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=N.useRef(null),c=N.useRef(null),[u=!1,d]=qo({prop:r,defaultProp:s,onChange:i});return o.jsx(IZ,{scope:t,triggerRef:l,contentRef:c,contentId:Xa(),titleId:Xa(),descriptionId:Xa(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};SO.displayName=Nk;var kO="DialogTrigger",_O=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=oo(kO,n),i=Yt(t,s.triggerRef);return o.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_k(s.open),...r,ref:i,onClick:He(e.onClick,s.onOpenToggle)})});_O.displayName=kO;var Sk="DialogPortal",[DZ,CO]=jO(Sk,{forceMount:void 0}),AO=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=oo(Sk,t);return o.jsx(DZ,{scope:t,forceMount:n,children:N.Children.map(r,a=>o.jsx(as,{present:n||i.open,children:o.jsx(sp,{asChild:!0,container:s,children:a})}))})};AO.displayName=Sk;var e1="DialogOverlay",PO=N.forwardRef((e,t)=>{const n=CO(e1,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=oo(e1,e.__scopeDialog);return i.modal?o.jsx(as,{present:r||i.open,children:o.jsx(OZ,{...s,ref:t})}):null});PO.displayName=e1;var RZ=ru("DialogOverlay.RemoveScroll"),OZ=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=oo(e1,n);return o.jsx(C0,{as:RZ,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(yt.div,{"data-state":_k(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Cd="DialogContent",EO=N.forwardRef((e,t)=>{const n=CO(Cd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=oo(Cd,e.__scopeDialog);return o.jsx(as,{present:r||i.open,children:i.modal?o.jsx(FZ,{...s,ref:t}):o.jsx(zZ,{...s,ref:t})})});EO.displayName=Cd;var FZ=N.forwardRef((e,t)=>{const n=oo(Cd,e.__scopeDialog),r=N.useRef(null),s=Yt(t,n.contentRef,r);return N.useEffect(()=>{const i=r.current;if(i)return wb(i)},[]),o.jsx(TO,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:He(e.onFocusOutside,i=>i.preventDefault())})}),zZ=N.forwardRef((e,t)=>{const n=oo(Cd,e.__scopeDialog),r=N.useRef(!1),s=N.useRef(!1);return o.jsx(TO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),TO=N.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=oo(Cd,n),c=N.useRef(null),u=Yt(t,c);return vb(),o.jsxs(o.Fragment,{children:[o.jsx(_0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Fd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_k(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx($Z,{titleId:l.titleId}),o.jsx(VZ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),kk="DialogTitle",MO=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=oo(kk,n);return o.jsx(yt.h2,{id:s.titleId,...r,ref:t})});MO.displayName=kk;var LO="DialogDescription",IO=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=oo(LO,n);return o.jsx(yt.p,{id:s.descriptionId,...r,ref:t})});IO.displayName=LO;var DO="DialogClose",RO=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=oo(DO,n);return o.jsx(yt.button,{type:"button",...r,ref:t,onClick:He(e.onClick,()=>s.onOpenChange(!1))})});RO.displayName=DO;function _k(e){return e?"open":"closed"}var OO="DialogTitleWarning",[BZ,FO]=xK(OO,{contentName:Cd,titleName:kk,docsSlug:"dialog"}),$Z=({titleId:e})=>{const t=FO(OO),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},UZ="DialogDescriptionWarning",VZ=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FO(UZ).contentName}}.`;return N.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Ck=SO,Ak=_O,Pk=AO,A0=PO,P0=EO,E0=MO,T0=IO,jb=RO;const yr=Ck,Vl=Ak,qZ=Pk,zO=N.forwardRef(({className:e,...t},n)=>o.jsx(A0,{ref:n,className:Je("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));zO.displayName=A0.displayName;const rr=N.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(qZ,{children:[o.jsx(zO,{}),o.jsxs(P0,{ref:r,className:Je("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[state=open]:bounce-in sm:rounded-lg",e),...n,children:[t,o.jsxs(jb,{className:"fixed right-4 top-4 rounded-sm opacity-100 ring-offset-background transition-opacity hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground z-[60] bg-white/90 hover:bg-white shadow-md p-1.5",children:[o.jsx(Kr,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rr.displayName=P0.displayName;const sr=({className:e,...t})=>o.jsx("div",{className:Je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});sr.displayName="DialogHeader";const ir=N.forwardRef(({className:e,...t},n)=>o.jsx(E0,{ref:n,className:Je("text-lg font-semibold leading-none tracking-tight",e),...t}));ir.displayName=E0.displayName;const ps=N.forwardRef(({className:e,...t},n)=>o.jsx(T0,{ref:n,className:Je("text-sm text-muted-foreground",e),...t}));ps.displayName=T0.displayName;const Eg=w0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-105 active:scale-95 button-press [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ve=N.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?Y8:"button";return o.jsx(a,{className:Je(Eg({variant:t,size:n,className:e})),ref:i,...s})});ve.displayName="Button";const Ye=N.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Je("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ye.displayName="Card";const Mt=N.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Je("flex flex-col space-y-1.5 p-6",e),...t}));Mt.displayName="CardHeader";const Dt=N.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Je("text-2xl font-semibold leading-none tracking-tight",e),...t}));Dt.displayName="CardTitle";const Ml=N.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Je("text-sm text-muted-foreground",e),...t}));Ml.displayName="CardDescription";const Xe=N.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Je("p-6 pt-0",e),...t}));Xe.displayName="CardContent";const WZ=N.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Je("flex items-center p-6 pt-0",e),...t}));WZ.displayName="CardFooter";const BO="parent-journey-onboarding";function M0(){try{const e=localStorage.getItem(BO);if(e)return JSON.parse(e)}catch(e){console.error("Error reading onboarding state:",e)}return{hasVisited:!1,hasSignedUp:!1,hasCompletedTour:!1,skipTourRequested:!1,lastVisitDate:new Date().toISOString()}}function Nb(e){try{const n={...M0(),...e};localStorage.setItem(BO,JSON.stringify(n))}catch(t){console.error("Error saving onboarding state:",t)}}function HZ(){Nb({hasVisited:!0,lastVisitDate:new Date().toISOString()})}function $O(){Nb({hasSignedUp:!0,lastVisitDate:new Date().toISOString()})}function YZ(){Nb({hasCompletedTour:!0,lastVisitDate:new Date().toISOString()})}function GZ(){Nb({skipTourRequested:!0,hasCompletedTour:!0,lastVisitDate:new Date().toISOString()})}function RC(){const e=M0();return e.hasVisited&&!e.hasSignedUp}function KZ(){const e=M0();return e.hasSignedUp&&!e.hasCompletedTour&&!e.skipTourRequested}function QZ(){return!M0().hasVisited}const XZ={save:"Want to save your progress and keep your journal entries secure?",bookmark:"Want to save your favorite entries and access them anytime?",export:"Want to export your entries and unlock premium features?",settings:"Want to personalize your experience and save your preferences?"},JZ={save:Kn,bookmark:oQ,export:rn,settings:Kc};function ZZ({isOpen:e,onClose:t,onSignUp:n,trigger:r}){const[s,i]=N.useState(!1),a=()=>{i(!0),$O(),setTimeout(()=>{n(),t()},300)},l=()=>{t()},c=JZ[r];return o.jsx(yr,{open:e,onOpenChange:t,children:o.jsxs(rr,{className:"sm:max-w-md",children:[o.jsxs(sr,{className:"text-center",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full flex items-center justify-center mb-4",children:o.jsx(c,{className:"h-8 w-8 text-primary"})}),o.jsx(ir,{className:"text-xl font-semibold text-neutral-800",children:XZ[r]}),o.jsx(ps,{className:"text-neutral-600 mt-2",children:"Create a free account to unlock your full parenting journey experience."})]}),o.jsx("div",{className:"space-y-4 my-6",children:o.jsx(Ye,{className:"border-primary/20 bg-primary/5",children:o.jsx(Xe,{className:"p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),o.jsx("span",{className:"text-sm text-neutral-700",children:"Save and sync all your journal entries"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),o.jsx("span",{className:"text-sm text-neutral-700",children:"Get personalized AI insights and feedback"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),o.jsx("span",{className:"text-sm text-neutral-700",children:"Access analytics and mood tracking"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),o.jsx("span",{className:"text-sm text-neutral-700",children:"Export entries and manage child profiles"})]})]})})})}),o.jsxs("div",{className:"flex flex-col space-y-3",children:[o.jsx(ve,{onClick:a,className:`w-full ${s?"animate-pulse":""}`,disabled:s,children:s?"Setting up your account...":"Sign Up - It's Free!"}),o.jsx(ve,{variant:"ghost",onClick:l,className:"w-full text-neutral-600 hover:text-neutral-800",disabled:s,children:"Maybe Later"})]}),o.jsx("p",{className:"text-xs text-neutral-500 text-center mt-4",children:"No spam, no hassle. Just a better parenting journal experience."})]})})}const eee=w0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xt({className:e,variant:t,...n}){return o.jsx("div",{className:Je(eee({variant:t}),e),...n})}const my=[{step:1,icon:_g,title:"This is your Journal",description:"Write anything you're feeling or reflecting on  we'll help you process it.",illustration:"",color:"bg-blue-500"},{step:2,icon:Kn,title:"Tag how you're feeling",description:"Choose up to 3 emotions. This helps us give better insights.",illustration:"",color:"bg-pink-500"},{step:3,icon:Hh,title:"Get a personalized AI reflection",description:"After you submit a journal entry, we'll offer a gentle insight or affirmation based on your experience.",illustration:"",color:"bg-purple-500"},{step:4,icon:Sg,title:"Chat with your AI Assistant",description:"Need immediate support? Click the chat bubble in the bottom-right corner for real-time parenting guidance and advice.",illustration:"",color:"bg-indigo-500"},{step:5,icon:xQ,title:"See your full history here",description:"Browse, favorite, and reflect on past entries. You'll see growth over time.",illustration:"",color:"bg-green-500"},{step:6,icon:Wj,title:"Need a moment to reset?",description:"Try the Calm Reset if things feel heavy. You'll find it after tough entries.",illustration:"",color:"bg-teal-500"}];function UO({isOpen:e,onClose:t}){const[n,r]=N.useState(1),[s,i]=N.useState(!1);N.useEffect(()=>{console.log("OnboardingTour: isOpen changed to",e),console.log("OnboardingTour: Dialog should be",e?"OPEN":"CLOSED")},[e]),console.log("OnboardingTour RENDER: isOpen =",e);const a=my[n-1],l=n===my.length,c=n===4,u=()=>{l?d():(i(!0),setTimeout(()=>{r(p=>p+1),i(!1)},200))};N.useEffect(()=>{if(c&&e){const p=document.querySelector('[data-testid="chatbot-button"]');p&&p.classList.add("onboarding-highlight")}else{const p=document.querySelector('[data-testid="chatbot-button"]');p&&p.classList.remove("onboarding-highlight")}return()=>{const p=document.querySelector('[data-testid="chatbot-button"]');p&&p.classList.remove("onboarding-highlight")}},[c,e]);const d=()=>{YZ(),t()},h=()=>{GZ(),t()},f=()=>{n>1&&(i(!0),setTimeout(()=>{r(p=>p-1),i(!1)},200))};return a.icon,o.jsx(yr,{open:e,onOpenChange:t,children:o.jsxs(rr,{className:"sm:max-w-lg w-[95vw] sm:w-full max-h-[90vh] overflow-y-auto mx-4 sm:mx-0",children:[o.jsx(sr,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(xt,{variant:"outline",className:"text-xs",children:["Step ",n," of ",my.length]}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:h,className:"text-neutral-500 hover:text-neutral-700 h-6 w-6 p-0",children:o.jsx(Kr,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:`transition-all duration-200 ${s?"opacity-50 scale-95":"opacity-100 scale-100"}`,children:o.jsxs("div",{className:"text-center space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:`mx-auto w-20 h-20 ${a.color} rounded-full flex items-center justify-center mb-4 animate-bounce-subtle`,children:o.jsx("span",{className:"text-3xl",children:a.illustration})}),o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2",children:o.jsx("div",{className:`w-24 h-24 ${a.color} rounded-full opacity-20 animate-ping`})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ir,{className:"text-xl font-semibold text-neutral-800",children:a.title}),o.jsx(ps,{className:"text-neutral-600 leading-relaxed",children:a.description})]}),o.jsx("div",{className:"flex items-center justify-center space-x-2",children:my.map((p,g)=>o.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${g+1===n?a.color:g+1<n?"bg-neutral-400":"bg-neutral-200"}`},g))})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-6",children:[o.jsx(ve,{variant:"ghost",onClick:f,disabled:n===1,className:"text-neutral-600",children:"Back"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(ve,{variant:"ghost",onClick:h,className:"text-neutral-500 hover:text-neutral-700",children:"Skip Tour"}),o.jsxs(ve,{onClick:u,className:"px-6",children:[l?"Get Started!":"Next",!l&&o.jsx(j0,{className:"ml-2 h-4 w-4"})]})]})]})]})})}const Kt=N.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:Je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Kt.displayName="Input";const Xr=N.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:Je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Xr.displayName="Textarea";function Ek(e){const t={user:e.user||null,isAuthenticated:!!e.isAuthenticated,hasJustSignedUp:!!e.hasJustSignedUp,timestamp:Date.now()};localStorage.setItem("parentjourney_auth",JSON.stringify(t)),console.log("Stored auth data:",t)}function VO(){localStorage.setItem("parentjourney_just_logged_in","true")}function qO(){const e=localStorage.getItem("parentjourney_just_logged_in");return console.log("Checking login flag:",e),e==="true"}function WO(){console.log("Clearing login flag"),localStorage.removeItem("parentjourney_just_logged_in")}function t1(){try{const e=localStorage.getItem("parentjourney_auth");if(!e)return null;const t=JSON.parse(e),n=Date.now()-t.timestamp,r=24*60*60*1e3;return n>r?(console.log("Stored auth data expired, removing"),localStorage.removeItem("parentjourney_auth"),null):(console.log("Retrieved valid stored auth data:",t),t)}catch(e){return console.error("Error retrieving stored auth data:",e),localStorage.removeItem("parentjourney_auth"),null}}async function tee(e,t){try{const n=e.trim(),r=navigator.userAgent,s=/Mobile|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(r);console.log("Attempting login with:",{identifier:n,mobile:s});const i=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json","User-Agent":r},credentials:"include",body:JSON.stringify({identifier:n,password:t})}),a=await i.json();if(console.log("Login response:",{status:i.status,result:a}),i.ok&&a.success){if(Ek({user:a.user,isAuthenticated:!0,hasJustSignedUp:a.hasJustSignedUp||!1}),a.authToken){localStorage.setItem("parentjourney_token",a.authToken),console.log("Stored auth token for API requests:",a.authToken.substring(0,20)+"...");const l=localStorage.getItem("parentjourney_token");console.log("Token verification - stored successfully:",!!l&&l===a.authToken)}else console.warn("No auth token received in login response");return VO(),console.log("Login flag set after successful authentication"),{success:!0,user:a.user,authToken:a.authToken}}else return{success:!1,error:a.error||"Login failed"}}catch(n){return console.error("Login error:",n),{success:!1,error:"Network error during login"}}}async function HO(){try{console.log("Checking auth status...");const e=localStorage.getItem("parentjourney_token");console.log("Auth check - checking token from localStorage:",!!e,e?e.substring(0,20)+"...":"none");const t={"Content-Type":"application/json"};e?(t.Authorization=`Bearer ${e}`,console.log("Auth check - sending request with token")):console.log("Auth check - no token found in localStorage");const n=await fetch("/api/auth/user",{method:"GET",credentials:"include",headers:t});if(n.ok){const s=await n.json();if(console.log("Server auth result:",s),s.success)return Ek({user:s.user,isAuthenticated:!0,hasJustSignedUp:s.hasJustSignedUp||!1}),s.authToken&&localStorage.setItem("authToken",s.authToken),s}console.log("Server auth failed, checking stored data...");const r=t1();return r&&r.isAuthenticated?(console.log("Using stored auth data as fallback"),{success:!0,user:r.user,hasJustSignedUp:r.hasJustSignedUp}):{success:!1}}catch(e){console.error("Auth check error:",e);const t=t1();return t&&t.isAuthenticated?(console.log("Using stored auth data after network error"),{success:!0,user:t.user,hasJustSignedUp:t.hasJustSignedUp}):{success:!1}}}const nee=Object.freeze(Object.defineProperty({__proto__:null,checkAuthStatus:HO,checkLoginFlag:qO,clearLoginFlag:WO,getStoredAuthData:t1,performLogin:tee,setLoginFlag:VO,storeAuthData:Ek},Symbol.toStringTag,{value:"Module"}));function Yo(){const[e,t]=N.useState(()=>{const a=t1();return{user:(a==null?void 0:a.user)||null,isAuthenticated:(a==null?void 0:a.isAuthenticated)||!1,hasJustSignedUp:(a==null?void 0:a.hasJustSignedUp)||!1,hasJustLoggedIn:!1,isLoading:!0}}),{data:n,isLoading:r,error:s}=Ht({queryKey:["/api/auth/user"],queryFn:HO,retry:!1,refetchOnWindowFocus:!1,staleTime:1e4,refetchInterval:!1,gcTime:3e5});return N.useEffect(()=>{if(r)t(a=>({...a,isLoading:!0}));else if(s)t({user:null,isAuthenticated:!1,hasJustSignedUp:!1,hasJustLoggedIn:!1,isLoading:!1}),localStorage.removeItem("authState");else if(n){const a=e.isAuthenticated,l=n.success||!1,c=qO();console.log("Auth state transition:",{wasAuthenticated:a,isNowAuthenticated:l,justLoggedIn:c});const u=!a&&l;c&&console.log("Login flag detected - welcome modal should appear");const d=c||u,h={user:n.user||null,isAuthenticated:l,hasJustSignedUp:n.hasJustSignedUp||!1,hasJustLoggedIn:d,isLoading:!1};t(h),h.isAuthenticated&&localStorage.setItem("authState",JSON.stringify(h))}},[n,r,s,e.isAuthenticated]),{...e,clearLoginStatus:()=>{console.log("Clearing login status..."),WO(),t(a=>({...a,hasJustLoggedIn:!1}))}}}function ree(){const e=Bs();return async()=>{try{localStorage.removeItem("authState"),localStorage.removeItem("parentjourney_auth"),localStorage.removeItem("parentjourney_token"),localStorage.removeItem("parentjourney_just_logged_in"),await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),e.invalidateQueries({queryKey:["/api/auth/user"]}),e.clear(),window.location.reload()}catch(t){console.error("Logout error:",t),localStorage.removeItem("authState"),localStorage.removeItem("parentjourney_auth"),localStorage.removeItem("parentjourney_token"),e.clear(),window.location.reload()}}}function see({isOpen:e,onClose:t,onComplete:n,showLaterButton:r=!1}){const[s,i]=N.useState("welcome"),[a,l]=N.useState(!1),[c,u]=N.useState({name:""}),[d,h]=N.useState({name:"",age:"",relationship:"Primary",parentingStyle:"",parentingPhilosophy:"",personalityTraits:[],parentingGoals:"",stressors:[],supportSystems:"",notes:"",familyId:""}),[f,p]=N.useState({name:"",dateOfBirth:"",gender:"",notes:"",personalityTraits:[],familyId:""}),{toast:g}=vs(),x=Bs(),{isAuthenticated:b}=Yo(),v=!b,y=On({mutationFn:async $=>{if(v)return new Promise(P=>{setTimeout(()=>{P({id:"demo-family-id",name:$.name})},500)});const B=localStorage.getItem("parentjourney_token"),L=await fetch("/api/families",{method:"POST",headers:{"Content-Type":"application/json",...B&&{Authorization:`Bearer ${B}`}},body:JSON.stringify($)});if(!L.ok)throw new Error("Failed to create family");return L.json()},onSuccess:$=>{h(B=>({...B,familyId:$.id})),p(B=>({...B,familyId:$.id})),i("parent")},onError:()=>{g({title:"Error",description:v?"Demo mode error":"Failed to create family profile. Please try again.",variant:"destructive"})}}),w=On({mutationFn:async $=>{if(v)return new Promise(P=>{setTimeout(()=>{P({id:"demo-parent-id",...$})},500)});const B=localStorage.getItem("parentjourney_token"),L=await fetch("/api/parent-profiles",{method:"POST",headers:{"Content-Type":"application/json",...B&&{Authorization:`Bearer ${B}`}},body:JSON.stringify($)});if(!L.ok)throw new Error("Failed to create parent profile");return L.json()},onSuccess:()=>{i("child")},onError:()=>{g({title:"Error",description:v?"Demo mode error":"Failed to create parent profile. Please try again.",variant:"destructive"})}}),_=On({mutationFn:async $=>{if(v)return new Promise(P=>{setTimeout(()=>{P({id:"demo-child-id",...$})},500)});const B=localStorage.getItem("parentjourney_token"),L=await fetch("/api/child-profiles",{method:"POST",headers:{"Content-Type":"application/json",...B&&{Authorization:`Bearer ${B}`}},body:JSON.stringify($)});if(!L.ok)throw new Error("Failed to create child profile");return L.json()},onSuccess:()=>{v||(x.invalidateQueries({queryKey:["/api/parent-profiles"]}),x.invalidateQueries({queryKey:["/api/child-profiles"]})),i("complete")},onError:()=>{g({title:"Error",description:v?"Demo mode error":"Failed to create child profile. Please try again.",variant:"destructive"})}}),C=()=>{switch(s){case"welcome":i("privacy");break;case"privacy":a&&i("family");break;case"family":c.name.trim()&&y.mutate(c);break;case"parent":d.name.trim()&&w.mutate(d);break;case"child":f.name.trim()&&f.dateOfBirth&&_.mutate(f);break;case"complete":n?n():t();break}},E=()=>{switch(s){case"privacy":i("welcome");break;case"family":i("privacy");break;case"parent":i("family");break;case"child":i("parent");break}},O=()=>{switch(s){case"welcome":return!0;case"privacy":return a;case"family":return c.name.trim().length>0;case"parent":return d.name.trim().length>0;case"child":return f.name.trim().length>0&&f.dateOfBirth.length>0;case"complete":return!0;default:return!1}},T=()=>{switch(s){case"welcome":return o.jsxs("div",{className:"text-center py-8",children:[v&&o.jsx("div",{className:"mb-4 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"Demo Mode:"})," This is a preview of the onboarding experience. No data will be saved."]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:o.jsx(Qc,{className:"h-8 w-8 text-primary"})}),o.jsx("h2",{className:"text-2xl font-semibold text-neutral-800 mb-2",children:"Welcome to ParentJourney!"}),o.jsx("p",{className:"text-neutral-600 max-w-md mx-auto",children:"Let's set up your profile to provide you with the best personalized experience. This will take just a few minutes but is important for creating tailored insights and guidance."})]}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-neutral-500 mb-6",children:[o.jsx(N0,{className:"h-4 w-4"}),o.jsx("span",{children:"Takes about 3-4 minutes"})]}),o.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[o.jsxs(xt,{variant:"outline",className:"bg-primary/5 text-primary border-primary/20",children:[o.jsx(Bl,{className:"h-3 w-3 mr-1"}),"Family Setup"]}),o.jsxs(xt,{variant:"outline",className:"bg-secondary/5 text-secondary border-secondary/20",children:[o.jsx(gs,{className:"h-3 w-3 mr-1"}),"Child Profiles"]})]}),o.jsx("div",{className:"bg-neutral-50 rounded-lg p-3 text-sm text-neutral-600",children:"You can skip this setup and complete your profile information later in the main app"})]});case"privacy":return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-neutral-800 mb-2",children:"Privacy & Data Usage"}),o.jsx("p",{className:"text-neutral-600",children:"Important information about how we handle your data"})]}),o.jsx("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"AI-Powered Insights"}),o.jsx("p",{className:"text-blue-800 text-sm leading-relaxed",children:"ParentJourney uses OpenAI's advanced AI technology to provide personalized parenting insights, mood analysis, and developmental guidance. To deliver these features, your journal entries, family information, and child profiles are securely processed by OpenAI's systems."}),o.jsxs("div",{className:"bg-blue-100 rounded-md p-4 mt-4",children:[o.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What we share with AI services:"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("li",{children:" Journal entries and reflections"}),o.jsx("li",{children:" Child profiles and developmental information"}),o.jsx("li",{children:" Parent profiles and family dynamics"}),o.jsx("li",{children:" Milestone tracking and progress data"})]})]}),o.jsxs("div",{className:"bg-green-50 rounded-md p-4 border border-green-200",children:[o.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Your data protection:"}),o.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[o.jsx("li",{children:" No personal health information is stored permanently"}),o.jsx("li",{children:" Data is encrypted and transmitted securely"}),o.jsx("li",{children:" You can delete your data at any time"}),o.jsx("li",{children:" We follow industry-standard privacy practices"})]})]}),o.jsxs("p",{className:"text-xs text-neutral-600 mt-4",children:["By continuing, you acknowledge that you understand and consent to this data processing. You can review our full"," ",o.jsx("button",{onClick:()=>window.open("/privacy-policy","_blank"),className:"text-primary underline hover:text-primary/80",children:"Privacy Policy"})," ","for complete details."]}),o.jsxs("div",{className:"flex items-start space-x-3 mt-6",children:[o.jsx("input",{type:"checkbox",id:"privacy-consent",checked:a,onChange:$=>l($.target.checked),className:"mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),o.jsx("label",{htmlFor:"privacy-consent",className:"text-sm text-neutral-700 leading-relaxed",children:"I understand and consent to sharing my family information with OpenAI for AI-powered parenting insights and analysis. I acknowledge that this helps provide personalized recommendations and developmental guidance."})]})]})})]});case"family":return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-neutral-800 mb-2",children:"Family Setup"}),o.jsx("p",{className:"text-neutral-600",children:"Let's start by creating your family profile"})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Family Name"}),o.jsx(Kt,{value:c.name,onChange:$=>u(B=>({...B,name:$.target.value})),placeholder:"The Smith Family",className:"w-full"}),o.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"This helps organize multiple parents and children in your household"})]})})]});case"parent":return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-neutral-800 mb-2",children:"Your Profile"}),o.jsx("p",{className:"text-neutral-600",children:"Tell us about yourself as a parent"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Your Name"}),o.jsx(Kt,{value:d.name,onChange:$=>h(B=>({...B,name:$.target.value})),placeholder:"Your name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Age (Optional)"}),o.jsx(Kt,{value:d.age||"",onChange:$=>h(B=>({...B,age:$.target.value})),placeholder:"Your age"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Parenting Goals (Optional)"}),o.jsx(Xr,{value:d.parentingGoals||"",onChange:$=>h(B=>({...B,parentingGoals:$.target.value})),placeholder:"What do you hope to achieve as a parent?",className:"min-h-[80px]"})]})]})]});case"child":return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-neutral-800 mb-2",children:"Your Child"}),o.jsx("p",{className:"text-neutral-600",children:"Add your first child's profile"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Child's Name"}),o.jsx(Kt,{value:f.name,onChange:$=>p(B=>({...B,name:$.target.value})),placeholder:"Child's name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Date of Birth"}),o.jsx(Kt,{type:"date",value:f.dateOfBirth,onChange:$=>p(B=>({...B,dateOfBirth:$.target.value}))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Notes (Optional)"}),o.jsx(Xr,{value:f.notes||"",onChange:$=>p(B=>({...B,notes:$.target.value})),placeholder:"Any special notes about your child...",className:"min-h-[60px]"}),o.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"You can add more children later from the main interface"})]})]})]});case"complete":return o.jsxs("div",{className:"text-center py-8",children:[v&&o.jsx("div",{className:"mb-4 px-4 py-2 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-green-700",children:[o.jsx("strong",{children:"Demo Complete!"}),` You've experienced the full onboarding flow. To actually create an account, click "Get Started" and sign up.`]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(zl,{className:"h-8 w-8 text-green-600"})}),o.jsx("h2",{className:"text-2xl font-semibold text-neutral-800 mb-2",children:v?"Demo Complete!":"Welcome to Your Parenting Journey!"}),o.jsx("p",{className:"text-neutral-600 max-w-md mx-auto",children:v?"You've seen how easy it is to set up your profile. Ready to start your real parenting journey with us?":"Your profile is all set up. You can now start documenting your parenting experiences and receive personalized AI insights."})]}),o.jsx("div",{className:"bg-primary/5 rounded-lg p-4 mb-6",children:o.jsx("p",{className:"text-sm text-primary font-medium",children:" Tip: The more you journal, the better insights you'll receive about your parenting journey!"})})]});default:return null}};return o.jsx(yr,{open:e,onOpenChange:t,children:o.jsxs(rr,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",children:[o.jsx(sr,{children:o.jsx(ir,{className:"text-center",children:s==="welcome"?"Getting Started":s==="family"?"Step 1 of 3":s==="parent"?"Step 2 of 3":s==="child"?"Step 3 of 3":"Complete!"})}),o.jsx("div",{className:"pt-4",children:T()}),o.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[s!=="welcome"&&s!=="complete"&&o.jsxs(ve,{variant:"outline",onClick:E,disabled:y.isPending||w.isPending||_.isPending,children:[o.jsx(ja,{className:"h-4 w-4 mr-2"}),"Back"]}),r&&s==="welcome"&&o.jsx(ve,{variant:"ghost",onClick:t,className:"text-neutral-500 hover:text-neutral-700",children:"I'll complete my info in the app"})]}),o.jsx("div",{className:"flex-1"}),o.jsxs(ve,{onClick:C,disabled:!O()||y.isPending||w.isPending||_.isPending,className:"ml-auto",children:[s==="complete"?"Start Journaling":y.isPending||w.isPending||_.isPending?"Saving...":s==="welcome"?"Let's Begin":"Next",s!=="complete"&&!y.isPending&&!w.isPending&&!_.isPending&&o.jsx(j0,{className:"h-4 w-4 ml-2"})]})]})]})})}function iee({isActive:e,onComplete:t,onSkip:n,tour:r}){const[s,i]=N.useState(0),[a,l]=N.useState(null),[c,u]=N.useState({x:0,y:0}),d=N.useRef(null);N.useEffect(()=>{if(!e||!r.length)return;const v=()=>{const w=r[s];if(!w)return;const _=document.querySelector(w.targetSelector);if(_){l(_);const C=_.getBoundingClientRect(),E=window.pageXOffset||document.documentElement.scrollLeft,O=window.pageYOffset||document.documentElement.scrollTop;let T=C.left+E,$=C.top+O;switch(w.position){case"top":T+=C.width/2,$-=10;break;case"bottom":T+=C.width/2,$+=C.height+10;break;case"left":T-=10,$+=C.height/2;break;case"right":T+=C.width+10,$+=C.height/2;break;case"center":T+=C.width/2,$+=C.height/2;break}u({x:T,y:$}),_.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}};v();const y=()=>v();return window.addEventListener("resize",y),window.addEventListener("scroll",y),()=>{window.removeEventListener("resize",y),window.removeEventListener("scroll",y)}},[e,s,r]);const h=()=>{s<r.length-1?i(s+1):(i(0),t())},f=()=>{s>0&&i(s-1)},p=()=>{const v=r[s];v!=null&&v.action&&v.action.handler()},g=()=>{i(0),n()};if(!e||!r.length)return null;const x=r[s],b=s===r.length-1;return o.jsx(o.Fragment,{children:o.jsxs("div",{ref:d,className:"fixed inset-0 z-50 bg-black/50",style:{pointerEvents:"auto"},children:[a&&o.jsx("div",{className:"absolute border-4 border-primary rounded-lg shadow-lg pointer-events-none",style:{left:a.getBoundingClientRect().left+window.pageXOffset-4,top:a.getBoundingClientRect().top+window.pageYOffset-4,width:a.getBoundingClientRect().width+8,height:a.getBoundingClientRect().height+8,backgroundColor:"rgba(255, 255, 255, 0.9)",zIndex:51}}),o.jsx(Ye,{className:"absolute z-52 w-80 shadow-xl",style:{left:Math.max(10,Math.min(c.x-160,window.innerWidth-330)),top:Math.max(10,c.y-50)},children:o.jsxs(Xe,{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Wo,{className:"h-5 w-5 text-primary"}),o.jsxs(xt,{variant:"secondary",className:"text-xs",children:[s+1," of ",r.length]})]}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:g,className:"h-6 w-6 p-0",children:o.jsx(Kr,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold text-sm",children:x.title}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x.content}),x.action&&o.jsx(ve,{variant:"outline",size:"sm",onClick:p,className:"w-full text-xs",children:x.action.label}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(ve,{variant:"ghost",size:"sm",onClick:f,disabled:s===0,className:"text-xs",children:[o.jsx(ja,{className:"h-3 w-3 mr-1"}),"Back"]}),o.jsxs(ve,{size:"sm",onClick:h,className:"text-xs",children:[b?"Finish":"Next",!b&&o.jsx(j0,{className:"h-3 w-3 ml-1"})]})]})]})]})})]})})}const aee={firstTime:[{id:"welcome",title:"Welcome to ParentJourney",content:"This is your home dashboard where you can see your progress and start new entries.",targetSelector:"main",position:"center"},{id:"journal-button",title:"Start Writing",content:"Click here to create your first journal entry. You can write about any parenting moment from today.",targetSelector:'[data-onboarding="journal-button"]',position:"top"},{id:"checkin-button",title:"Daily Check-In",content:"Take a quick wellness check-in to track your parenting wellbeing across 10 key areas.",targetSelector:'[data-onboarding="checkin-button"]',position:"top"},{id:"analytics-link",title:"View Your Analytics",content:"Explore insights and patterns in your parenting journey through detailed analytics.",targetSelector:'[data-onboarding="analytics-link"]',position:"bottom"}],analytics:[{id:"mood-chart",title:"Mood Analytics",content:"Track your emotional patterns over time and see how they correlate with parenting experiences.",targetSelector:'[data-tour="mood-chart"]',position:"top"},{id:"streak-display",title:"Streak Tracking",content:"Watch your journaling consistency grow with our progressive emoji system.",targetSelector:'[data-tour="streak-display"]',position:"bottom"}],journaling:[{id:"write-area",title:"Free Writing",content:"Write freely about any parenting moment. Our AI will analyze and provide insights.",targetSelector:'[data-tour="write-area"]',position:"top"},{id:"prompts",title:"Guided Prompts",content:"Use these prompts for structured reflection on specific aspects of your parenting day.",targetSelector:'[data-tour="prompts"]',position:"left"}]};function oee({children:e}){const{user:t,isAuthenticated:n}=Yo(),[r,s]=N.useState(null),[i,a]=N.useState(!1);N.useEffect(()=>{if(!n||!t){s(null);return}const d=localStorage.getItem(`onboarding_${t.id}`),h=d?JSON.parse(d):{};if(console.log("OnboardingManager: Auth check",{isAuthenticated:n,user:t==null?void 0:t.username,parsedStatus:h}),!h.initial)console.log("OnboardingManager:  SHOWING COMPREHENSIVE ONBOARDING - New User",{hasInitial:!!h.initial,userID:t==null?void 0:t.id}),s("initial");else if(console.log("OnboardingManager: Onboarding completed - skipping first-time tour"),s("completed"),!h["first-time-tour"]){const f={...h,"first-time-tour":!0,completedAt:new Date().toISOString()};localStorage.setItem(`onboarding_${t.id}`,JSON.stringify(f))}a(!!h.initial)},[t,n]);const l=d=>{if(!t){s("completed"),localStorage.removeItem("debug_onboarding");return}const h=localStorage.getItem(`onboarding_${t.id}`),p={...h?JSON.parse(h):{},[d]:!0,completedAt:new Date().toISOString()};switch(localStorage.setItem(`onboarding_${t.id}`,JSON.stringify(p)),d){case"initial":a(!0),s("first-time-tour");break;case"first-time-tour":s("completed");break;default:s("completed")}},c=d=>{if(!t){s("completed"),localStorage.removeItem("debug_onboarding");return}l(d)},u=d=>{if(i)switch(d){case"analytics":s("analytics-tour");break}};return N.useEffect(()=>(window.startParentJourneyTour=u,()=>{delete window.startParentJourneyTour}),[i]),o.jsxs(o.Fragment,{children:[e,r==="initial"&&o.jsx(see,{isOpen:!0,onComplete:()=>l("initial"),onClose:()=>c("initial"),showLaterButton:!0}),r==="analytics-tour"&&o.jsx(iee,{tour:aee.analytics,isActive:!0,onComplete:()=>s("completed"),onSkip:()=>s("completed")})]})}const YO=N.createContext(void 0);function lee({children:e}){const[t,n]=N.useState(!1),[r,s]=N.useState(!1),[i,a]=N.useState("save"),{isAuthenticated:l,user:c}=Yo();N.useEffect(()=>{QZ()&&HZ(),l&&c&&RC()&&$O(),KZ()&&s(!0)},[l,c]);const u=g=>l&&c?!1:RC()?(a(g),n(!0),!0):!1,d=()=>{n(!1),setTimeout(()=>{s(!0)},500)},h=()=>{s(!1)},f=()=>{console.log("OnboardingContext: startTourManually called, current showTour:",r),s(!0),console.log("OnboardingContext: setShowTour(true) called")};console.log("OnboardingContext: startTourManually function defined:",f);const p={showSignUpPrompt:t,setShowSignUpPrompt:n,showTour:r,setShowTour:s,signUpTrigger:i,triggerSignUpPrompt:u,handleSignUp:d,handleTourComplete:h,startTourManually:f,onboardingState:M0()};return console.log("OnboardingContext providing value:",p),o.jsx(YO.Provider,{value:p,children:e})}function GO(){const e=N.useContext(YO);if(e===void 0)throw new Error("useOnboardingContext must be used within an OnboardingProvider");return e}const OC=["You're doing better than you think ","Every day counts  even the hard ones ","Your reflections matter. You matter.","Thanks for showing up today. Let's reflect together.","Parenting isn't perfect  but your effort is powerful.","You're doing an amazing job. What's on your heart today?","Every parent needs a safe space to reflect. How are you feeling?","Your thoughts and experiences matter. What would you like to share?","Parenting is a journey of growth. What's happening in yours today?","You're not alone in this adventure. What's been on your mind?","Take a moment for yourself. What's worth remembering from today?","Your parenting story is unique and valuable. What chapter are you living?","This is your space to be honest and real. What's in your heart?","Every day brings new lessons in parenting. What did today teach you?","Your feelings and experiences are valid. What would you like to process?","Parenting moments, big and small, all matter. What's yours today?","This is a judgment-free space for your thoughts. What's happening?","You deserve recognition for all you do. What's been challenging or wonderful?","Your parenting journey deserves to be honored. What's your story today?","Every small step forward is progress worth celebrating.","Trust your instincts  you know your child better than anyone.","Growth happens in the quiet moments between the chaos.","Your love is shaping a future you may never fully see.","Patience with yourself creates patience with your children.","Some days you're teaching, some days you're learning. Both matter.","Your consistency is building security in your child's world.","The way you show up today becomes their inner voice tomorrow.","Parenting is the longest conversation you'll ever have with yourself.","Your willingness to reflect shows your commitment to growth.","Every challenge overcome becomes wisdom for the next one.","Your child doesn't need you to be perfect, just present.","The moments you think don't matter often matter the most.","Your emotional awareness is your child's emotional foundation.","Progress isn't always visible, but it's always happening.","The patterns you break now won't be passed to the next generation.","Your questions about parenting show how much you care.","Each day offers a fresh chance to connect and understand.","Your efforts to understand your child build lifelong trust.","The time you invest in reflection pays dividends in connection.","Your growth as a parent mirrors your child's growth as a person.","Every moment of mindfulness creates space for better choices.","Your gentle corrections teach more than your perfect examples.","The safety you create at home becomes their confidence in the world.","Your authenticity gives your child permission to be themselves.","The problems you solve together become their problem-solving skills.","Your emotional regulation teaches them how to handle their big feelings.","The boundaries you set with love become their internal compass.","Your celebration of their uniqueness builds their self-worth.","The attention you give today becomes the foundation they stand on tomorrow.","Your willingness to admit mistakes teaches them it's safe to be human."];function KO(){const e=Math.floor(Math.random()*OC.length);return OC[e]}function cee({isVisible:e,onClose:t,userName:n}){const[r,s]=N.useState("");return N.useEffect(()=>{if(e){const i=KO();s(i),console.log("Login confirmation modal showing with message:",i);const a=setTimeout(()=>{t()},7e3);return()=>clearTimeout(a)}},[e,t]),e?(console.log("LoginConfirmationModal rendering with:",{isVisible:e,userName:n,greeting:r}),o.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-start justify-center pt-8",children:[o.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm animate-in fade-in-0 duration-300",onClick:t}),o.jsx(Ye,{className:"relative mx-4 w-full max-w-md animate-in slide-in-from-top-4 fade-in-0 duration-500 shadow-2xl animate-out fade-out-0 duration-1000",style:{animationDelay:"6s"},children:o.jsxs(Xe,{className:"p-6",children:[o.jsx("button",{onClick:t,className:"absolute right-3 top-3 rounded-full p-1 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 transition-colors","aria-label":"Close",children:o.jsx(Kr,{className:"h-4 w-4"})}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(zl,{className:"h-8 w-8 text-green-600"})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold text-neutral-800",children:["Welcome back",n?`, ${n}`:"","!"]}),o.jsx("div",{className:"bg-blue-50/50 border border-blue-200/50 rounded-lg p-3",children:o.jsx("p",{className:"text-sm text-blue-800 leading-relaxed font-medium",children:r})})]}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs text-neutral-400",children:[o.jsx("div",{className:"w-2 h-2 bg-neutral-300 rounded-full animate-pulse"}),o.jsx("span",{children:"Auto-closing in 7 seconds"})]})]})]})})]})):null}function Ls({className:e,...t}){return o.jsx("div",{className:Je("animate-pulse rounded-md bg-muted",e),...t})}const uee="modulepreload",dee=function(e){return"/"+e},FC={},Tg=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=dee(c),c in FC)return;FC[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":uee,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};var L0=e=>e.type==="checkbox",ed=e=>e instanceof Date,Qs=e=>e==null;const QO=e=>typeof e=="object";var Mr=e=>!Qs(e)&&!Array.isArray(e)&&QO(e)&&!ed(e),XO=e=>Mr(e)&&e.target?L0(e.target)?e.target.checked:e.target.value:e,hee=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,JO=(e,t)=>e.has(hee(t)),fee=e=>{const t=e.constructor&&e.constructor.prototype;return Mr(t)&&t.hasOwnProperty("isPrototypeOf")},Tk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ds(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Tk&&(e instanceof Blob||r))&&(n||Mr(e)))if(t=n?[]:{},!n&&!fee(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=ds(e[s]));else return e;return t}var Sb=e=>Array.isArray(e)?e.filter(Boolean):[],_r=e=>e===void 0,rt=(e,t,n)=>{if(!t||!Mr(e))return n;const r=Sb(t.split(/[,[\].]+?/)).reduce((s,i)=>Qs(s)?s:s[i],e);return _r(r)||r===e?_r(e[t])?n:e[t]:r},Ri=e=>typeof e=="boolean",Mk=e=>/^\w*$/.test(e),ZO=e=>Sb(e.replace(/["|']|\]/g,"").split(/\.|\[/)),jn=(e,t,n)=>{let r=-1;const s=Mk(t)?[t]:ZO(t),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=e[l];c=Mr(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const n1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Wa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eF=it.createContext(null),kb=()=>it.useContext(eF),pee=e=>{const{children:t,...n}=e;return it.createElement(eF.Provider,{value:n},t)};var tF=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==Wa.all&&(t._proxyFormState[a]=!r||Wa.all),n&&(n[a]=!0),e[a]}});return s};function mee(e){const t=kb(),{control:n=t.control,disabled:r,name:s,exact:i}=e||{},[a,l]=it.useState(n._formState),c=it.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=it.useRef(s);return u.current=s,it.useEffect(()=>n._subscribe({name:u.current,formState:c.current,exact:i,callback:d=>{!r&&l({...n._formState,...d})}}),[n,r,i]),it.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),it.useMemo(()=>tF(a,n,c.current,!1),[a,n])}var Do=e=>typeof e=="string",nF=(e,t,n,r,s)=>Do(e)?(r&&t.watch.add(e),rt(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),rt(n,i))):(r&&(t.watchAll=!0),n);function gee(e){const t=kb(),{control:n=t.control,name:r,defaultValue:s,disabled:i,exact:a}=e||{},l=it.useRef(r),c=it.useRef(s);l.current=r,it.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:a,callback:h=>!i&&d(nF(l.current,n._names,h.values||n._formValues,!1,c.current))}),[n,i,a]);const[u,d]=it.useState(n._getWatch(r,s));return it.useEffect(()=>n._removeUnmounted()),u}function xee(e){const t=kb(),{name:n,disabled:r,control:s=t.control,shouldUnregister:i}=e,a=JO(s._names.array,n),l=gee({control:s,name:n,defaultValue:rt(s._formValues,n,rt(s._defaultValues,n,e.defaultValue)),exact:!0}),c=mee({control:s,name:n,exact:!0}),u=it.useRef(e),d=it.useRef(s.register(n,{...e.rules,value:l,...Ri(e.disabled)?{disabled:e.disabled}:{}})),h=it.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!rt(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!rt(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!rt(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!rt(c.validatingFields,n)},error:{enumerable:!0,get:()=>rt(c.errors,n)}}),[c,n]),f=it.useCallback(b=>d.current.onChange({target:{value:XO(b),name:n},type:n1.CHANGE}),[n]),p=it.useCallback(()=>d.current.onBlur({target:{value:rt(s._formValues,n),name:n},type:n1.BLUR}),[n,s._formValues]),g=it.useCallback(b=>{const v=rt(s._fields,n);v&&b&&(v._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:y=>b.setCustomValidity(y),reportValidity:()=>b.reportValidity()})},[s._fields,n]),x=it.useMemo(()=>({name:n,value:l,...Ri(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:f,onBlur:p,ref:g}),[n,r,c.disabled,f,p,g,l]);return it.useEffect(()=>{const b=s._options.shouldUnregister||i;s.register(n,{...u.current.rules,...Ri(u.current.disabled)?{disabled:u.current.disabled}:{}});const v=(y,w)=>{const _=rt(s._fields,y);_&&_._f&&(_._f.mount=w)};if(v(n,!0),b){const y=ds(rt(s._options.defaultValues,n));jn(s._defaultValues,n,y),_r(rt(s._formValues,n))&&jn(s._formValues,n,y)}return!a&&s.register(n),()=>{(a?b&&!s._state.action:b)?s.unregister(n):v(n,!1)}},[n,s,a,i]),it.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),it.useMemo(()=>({field:x,formState:c,fieldState:h}),[x,c,h])}const yee=e=>e.render(xee(e));var rF=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Fm=e=>Array.isArray(e)?e:[e],zC=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},nN=e=>Qs(e)||!QO(e);function Nc(e,t){if(nN(e)||nN(t))return e===t;if(ed(e)&&ed(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const i=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const a=t[s];if(ed(i)&&ed(a)||Mr(i)&&Mr(a)||Array.isArray(i)&&Array.isArray(a)?!Nc(i,a):i!==a)return!1}}return!0}var Gs=e=>Mr(e)&&!Object.keys(e).length,Lk=e=>e.type==="file",Ha=e=>typeof e=="function",r1=e=>{if(!Tk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},sF=e=>e.type==="select-multiple",Ik=e=>e.type==="radio",vee=e=>Ik(e)||L0(e),Lw=e=>r1(e)&&e.isConnected;function bee(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=_r(e)?r++:e[t[r++]];return e}function wee(e){for(const t in e)if(e.hasOwnProperty(t)&&!_r(e[t]))return!1;return!0}function Wr(e,t){const n=Array.isArray(t)?t:Mk(t)?[t]:ZO(t),r=n.length===1?e:bee(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Mr(r)&&Gs(r)||Array.isArray(r)&&wee(r))&&Wr(e,n.slice(0,-1)),e}var iF=e=>{for(const t in e)if(Ha(e[t]))return!0;return!1};function s1(e,t={}){const n=Array.isArray(e);if(Mr(e)||n)for(const r in e)Array.isArray(e[r])||Mr(e[r])&&!iF(e[r])?(t[r]=Array.isArray(e[r])?[]:{},s1(e[r],t[r])):Qs(e[r])||(t[r]=!0);return t}function aF(e,t,n){const r=Array.isArray(e);if(Mr(e)||r)for(const s in e)Array.isArray(e[s])||Mr(e[s])&&!iF(e[s])?_r(t)||nN(n[s])?n[s]=Array.isArray(e[s])?s1(e[s],[]):{...s1(e[s])}:aF(e[s],Qs(t)?{}:t[s],n[s]):n[s]=!Nc(e[s],t[s]);return n}var em=(e,t)=>aF(e,t,s1(t));const BC={value:!1,isValid:!1},$C={value:!0,isValid:!0};var oF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_r(e[0].attributes.value)?_r(e[0].value)||e[0].value===""?$C:{value:e[0].value,isValid:!0}:$C:BC}return BC},lF=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>_r(e)?e:t?e===""?NaN:e&&+e:n&&Do(e)?new Date(e):r?r(e):e;const UC={isValid:!1,value:null};var cF=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,UC):UC;function VC(e){const t=e.ref;return Lk(t)?t.files:Ik(t)?cF(e.refs).value:sF(t)?[...t.selectedOptions].map(({value:n})=>n):L0(t)?oF(e.refs).value:lF(_r(t.value)?e.ref.value:t.value,e)}var jee=(e,t,n,r)=>{const s={};for(const i of e){const a=rt(t,i);a&&jn(s,i,a._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},i1=e=>e instanceof RegExp,tm=e=>_r(e)?e:i1(e)?e.source:Mr(e)?i1(e.value)?e.value.source:e.value:e,qC=e=>({isOnSubmit:!e||e===Wa.onSubmit,isOnBlur:e===Wa.onBlur,isOnChange:e===Wa.onChange,isOnAll:e===Wa.all,isOnTouch:e===Wa.onTouched});const WC="AsyncFunction";var Nee=e=>!!e&&!!e.validate&&!!(Ha(e.validate)&&e.validate.constructor.name===WC||Mr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===WC)),See=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),HC=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const zm=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=rt(e,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!r)return!0;if(a.ref&&t(a.ref,a.name)&&!r)return!0;if(zm(l,t))break}else if(Mr(l)&&zm(l,t))break}}};function YC(e,t,n){const r=rt(e,n);if(r||Mk(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=rt(t,i),l=rt(e,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var kee=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return Gs(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!r||Wa.all))},_ee=(e,t,n)=>!e||!t||e===t||Fm(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),Cee=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,Aee=(e,t)=>!Sb(rt(e,t)).length&&Wr(e,t),Pee=(e,t,n)=>{const r=Fm(rt(e,n));return jn(r,"root",t[n]),jn(e,n,r),e},cv=e=>Do(e);function GC(e,t,n="validate"){if(cv(e)||Array.isArray(e)&&e.every(cv)||Ri(e)&&!e)return{type:n,message:cv(e)?e:"",ref:t}}var Nh=e=>Mr(e)&&!i1(e)?e:{value:e,message:""},KC=async(e,t,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:g,name:x,valueAsNumber:b,mount:v}=e._f,y=rt(n,x);if(!v||t.has(x))return{};const w=l?l[0]:a,_=P=>{s&&w.reportValidity&&(w.setCustomValidity(Ri(P)?"":P||""),w.reportValidity())},C={},E=Ik(a),O=L0(a),T=E||O,$=(b||Lk(a))&&_r(a.value)&&_r(y)||r1(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,B=rF.bind(null,x,r,C),L=(P,D,F,U=pl.maxLength,W=pl.minLength)=>{const H=P?D:F;C[x]={type:P?U:W,message:H,ref:a,...B(P?U:W,H)}};if(i?!Array.isArray(y)||!y.length:c&&(!T&&($||Qs(y))||Ri(y)&&!y||O&&!oF(l).isValid||E&&!cF(l).isValid)){const{value:P,message:D}=cv(c)?{value:!!c,message:c}:Nh(c);if(P&&(C[x]={type:pl.required,message:D,ref:w,...B(pl.required,D)},!r))return _(D),C}if(!$&&(!Qs(h)||!Qs(f))){let P,D;const F=Nh(f),U=Nh(h);if(!Qs(y)&&!isNaN(y)){const W=a.valueAsNumber||y&&+y;Qs(F.value)||(P=W>F.value),Qs(U.value)||(D=W<U.value)}else{const W=a.valueAsDate||new Date(y),H=M=>new Date(new Date().toDateString()+" "+M),R=a.type=="time",G=a.type=="week";Do(F.value)&&y&&(P=R?H(y)>H(F.value):G?y>F.value:W>new Date(F.value)),Do(U.value)&&y&&(D=R?H(y)<H(U.value):G?y<U.value:W<new Date(U.value))}if((P||D)&&(L(!!P,F.message,U.message,pl.max,pl.min),!r))return _(C[x].message),C}if((u||d)&&!$&&(Do(y)||i&&Array.isArray(y))){const P=Nh(u),D=Nh(d),F=!Qs(P.value)&&y.length>+P.value,U=!Qs(D.value)&&y.length<+D.value;if((F||U)&&(L(F,P.message,D.message),!r))return _(C[x].message),C}if(p&&!$&&Do(y)){const{value:P,message:D}=Nh(p);if(i1(P)&&!y.match(P)&&(C[x]={type:pl.pattern,message:D,ref:a,...B(pl.pattern,D)},!r))return _(D),C}if(g){if(Ha(g)){const P=await g(y,n),D=GC(P,w);if(D&&(C[x]={...D,...B(pl.validate,D.message)},!r))return _(D.message),C}else if(Mr(g)){let P={};for(const D in g){if(!Gs(P)&&!r)break;const F=GC(await g[D](y,n),w,D);F&&(P={...F,...B(D,F.message)},_(F.message),r&&(C[x]=P))}if(!Gs(P)&&(C[x]={ref:w,...P},!r))return C}}return _(!0),C};const Eee={mode:Wa.onSubmit,reValidateMode:Wa.onChange,shouldFocusError:!0};function Tee(e={}){let t={...Eee,...e},n={submitCount:0,isDirty:!1,isLoading:Ha(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let s=Mr(t.defaultValues)||Mr(t.values)?ds(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:ds(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:zC(),state:zC()},p=qC(t.mode),g=qC(t.reValidateMode),x=t.criteriaMode===Wa.all,b=Z=>de=>{clearTimeout(u),u=setTimeout(Z,de)},v=async Z=>{if(!t.disabled&&(d.isValid||h.isValid||Z)){const de=t.resolver?Gs((await $()).errors):await L(r,!0);de!==n.isValid&&f.state.next({isValid:de})}},y=(Z,de)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((Z||Array.from(l.mount)).forEach(we=>{we&&(de?jn(n.validatingFields,we,de):Wr(n.validatingFields,we))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Gs(n.validatingFields)}))},w=(Z,de=[],we,Te,ie=!0,pe=!0)=>{if(Te&&we&&!t.disabled){if(a.action=!0,pe&&Array.isArray(rt(r,Z))){const _e=we(rt(r,Z),Te.argA,Te.argB);ie&&jn(r,Z,_e)}if(pe&&Array.isArray(rt(n.errors,Z))){const _e=we(rt(n.errors,Z),Te.argA,Te.argB);ie&&jn(n.errors,Z,_e),Aee(n.errors,Z)}if((d.touchedFields||h.touchedFields)&&pe&&Array.isArray(rt(n.touchedFields,Z))){const _e=we(rt(n.touchedFields,Z),Te.argA,Te.argB);ie&&jn(n.touchedFields,Z,_e)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=em(s,i)),f.state.next({name:Z,isDirty:D(Z,de),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else jn(i,Z,de)},_=(Z,de)=>{jn(n.errors,Z,de),f.state.next({errors:n.errors})},C=Z=>{n.errors=Z,f.state.next({errors:n.errors,isValid:!1})},E=(Z,de,we,Te)=>{const ie=rt(r,Z);if(ie){const pe=rt(i,Z,_r(we)?rt(s,Z):we);_r(pe)||Te&&Te.defaultChecked||de?jn(i,Z,de?pe:VC(ie._f)):W(Z,pe),a.mount&&v()}},O=(Z,de,we,Te,ie)=>{let pe=!1,_e=!1;const Me={name:Z};if(!t.disabled){if(!we||Te){(d.isDirty||h.isDirty)&&(_e=n.isDirty,n.isDirty=Me.isDirty=D(),pe=_e!==Me.isDirty);const Ke=Nc(rt(s,Z),de);_e=!!rt(n.dirtyFields,Z),Ke?Wr(n.dirtyFields,Z):jn(n.dirtyFields,Z,!0),Me.dirtyFields=n.dirtyFields,pe=pe||(d.dirtyFields||h.dirtyFields)&&_e!==!Ke}if(we){const Ke=rt(n.touchedFields,Z);Ke||(jn(n.touchedFields,Z,we),Me.touchedFields=n.touchedFields,pe=pe||(d.touchedFields||h.touchedFields)&&Ke!==we)}pe&&ie&&f.state.next(Me)}return pe?Me:{}},T=(Z,de,we,Te)=>{const ie=rt(n.errors,Z),pe=(d.isValid||h.isValid)&&Ri(de)&&n.isValid!==de;if(t.delayError&&we?(c=b(()=>_(Z,we)),c(t.delayError)):(clearTimeout(u),c=null,we?jn(n.errors,Z,we):Wr(n.errors,Z)),(we?!Nc(ie,we):ie)||!Gs(Te)||pe){const _e={...Te,...pe&&Ri(de)?{isValid:de}:{},errors:n.errors,name:Z};n={...n,..._e},f.state.next(_e)}},$=async Z=>{y(Z,!0);const de=await t.resolver(i,t.context,jee(Z||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return y(Z),de},B=async Z=>{const{errors:de}=await $(Z);if(Z)for(const we of Z){const Te=rt(de,we);Te?jn(n.errors,we,Te):Wr(n.errors,we)}else n.errors=de;return de},L=async(Z,de,we={valid:!0})=>{for(const Te in Z){const ie=Z[Te];if(ie){const{_f:pe,..._e}=ie;if(pe){const Me=l.array.has(pe.name),Ke=ie._f&&Nee(ie._f);Ke&&d.validatingFields&&y([Te],!0);const ze=await KC(ie,l.disabled,i,x,t.shouldUseNativeValidation&&!de,Me);if(Ke&&d.validatingFields&&y([Te]),ze[pe.name]&&(we.valid=!1,de))break;!de&&(rt(ze,pe.name)?Me?Pee(n.errors,ze,pe.name):jn(n.errors,pe.name,ze[pe.name]):Wr(n.errors,pe.name))}!Gs(_e)&&await L(_e,de,we)}}return we.valid},P=()=>{for(const Z of l.unMount){const de=rt(r,Z);de&&(de._f.refs?de._f.refs.every(we=>!Lw(we)):!Lw(de._f.ref))&&xe(Z)}l.unMount=new Set},D=(Z,de)=>!t.disabled&&(Z&&de&&jn(i,Z,de),!Nc(z(),s)),F=(Z,de,we)=>nF(Z,l,{...a.mount?i:_r(de)?s:Do(Z)?{[Z]:de}:de},we,de),U=Z=>Sb(rt(a.mount?i:s,Z,t.shouldUnregister?rt(s,Z,[]):[])),W=(Z,de,we={})=>{const Te=rt(r,Z);let ie=de;if(Te){const pe=Te._f;pe&&(!pe.disabled&&jn(i,Z,lF(de,pe)),ie=r1(pe.ref)&&Qs(de)?"":de,sF(pe.ref)?[...pe.ref.options].forEach(_e=>_e.selected=ie.includes(_e.value)):pe.refs?L0(pe.ref)?pe.refs.length>1?pe.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(ie)?!!ie.find(Me=>Me===_e.value):ie===_e.value)):pe.refs[0]&&(pe.refs[0].checked=!!ie):pe.refs.forEach(_e=>_e.checked=_e.value===ie):Lk(pe.ref)?pe.ref.value="":(pe.ref.value=ie,pe.ref.type||f.state.next({name:Z,values:ds(i)})))}(we.shouldDirty||we.shouldTouch)&&O(Z,ie,we.shouldTouch,we.shouldDirty,!0),we.shouldValidate&&ae(Z)},H=(Z,de,we)=>{for(const Te in de){const ie=de[Te],pe=`${Z}.${Te}`,_e=rt(r,pe);(l.array.has(Z)||Mr(ie)||_e&&!_e._f)&&!ed(ie)?H(pe,ie,we):W(pe,ie,we)}},R=(Z,de,we={})=>{const Te=rt(r,Z),ie=l.array.has(Z),pe=ds(de);jn(i,Z,pe),ie?(f.array.next({name:Z,values:ds(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&we.shouldDirty&&f.state.next({name:Z,dirtyFields:em(s,i),isDirty:D(Z,pe)})):Te&&!Te._f&&!Qs(pe)?H(Z,pe,we):W(Z,pe,we),HC(Z,l)&&f.state.next({...n}),f.state.next({name:a.mount?Z:void 0,values:ds(i)})},G=async Z=>{a.mount=!0;const de=Z.target;let we=de.name,Te=!0;const ie=rt(r,we),pe=_e=>{Te=Number.isNaN(_e)||ed(_e)&&isNaN(_e.getTime())||Nc(_e,rt(i,we,_e))};if(ie){let _e,Me;const Ke=de.type?VC(ie._f):XO(Z),ze=Z.type===n1.BLUR||Z.type===n1.FOCUS_OUT,Mn=!See(ie._f)&&!t.resolver&&!rt(n.errors,we)&&!ie._f.deps||Cee(ze,rt(n.touchedFields,we),n.isSubmitted,g,p),_t=HC(we,l,ze);jn(i,we,Ke),ze?(ie._f.onBlur&&ie._f.onBlur(Z),c&&c(0)):ie._f.onChange&&ie._f.onChange(Z);const Xn=O(we,Ke,ze),an=!Gs(Xn)||_t;if(!ze&&f.state.next({name:we,type:Z.type,values:ds(i)}),Mn)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?ze&&v():ze||v()),an&&f.state.next({name:we,..._t?{}:Xn});if(!ze&&_t&&f.state.next({...n}),t.resolver){const{errors:Rt}=await $([we]);if(pe(Ke),Te){const be=YC(n.errors,r,we),Ze=YC(Rt,r,be.name||we);_e=Ze.error,we=Ze.name,Me=Gs(Rt)}}else y([we],!0),_e=(await KC(ie,l.disabled,i,x,t.shouldUseNativeValidation))[we],y([we]),pe(Ke),Te&&(_e?Me=!1:(d.isValid||h.isValid)&&(Me=await L(r,!0)));Te&&(ie._f.deps&&ae(ie._f.deps),T(we,Me,_e,Xn))}},M=(Z,de)=>{if(rt(n.errors,de)&&Z.focus)return Z.focus(),1},ae=async(Z,de={})=>{let we,Te;const ie=Fm(Z);if(t.resolver){const pe=await B(_r(Z)?Z:ie);we=Gs(pe),Te=Z?!ie.some(_e=>rt(pe,_e)):we}else Z?(Te=(await Promise.all(ie.map(async pe=>{const _e=rt(r,pe);return await L(_e&&_e._f?{[pe]:_e}:_e)}))).every(Boolean),!(!Te&&!n.isValid)&&v()):Te=we=await L(r);return f.state.next({...!Do(Z)||(d.isValid||h.isValid)&&we!==n.isValid?{}:{name:Z},...t.resolver||!Z?{isValid:we}:{},errors:n.errors}),de.shouldFocus&&!Te&&zm(r,M,Z?ie:l.mount),Te},z=Z=>{const de={...a.mount?i:s};return _r(Z)?de:Do(Z)?rt(de,Z):Z.map(we=>rt(de,we))},I=(Z,de)=>({invalid:!!rt((de||n).errors,Z),isDirty:!!rt((de||n).dirtyFields,Z),error:rt((de||n).errors,Z),isValidating:!!rt(n.validatingFields,Z),isTouched:!!rt((de||n).touchedFields,Z)}),J=Z=>{Z&&Fm(Z).forEach(de=>Wr(n.errors,de)),f.state.next({errors:Z?n.errors:{}})},se=(Z,de,we)=>{const Te=(rt(r,Z,{_f:{}})._f||{}).ref,ie=rt(n.errors,Z)||{},{ref:pe,message:_e,type:Me,...Ke}=ie;jn(n.errors,Z,{...Ke,...de,ref:Te}),f.state.next({name:Z,errors:n.errors,isValid:!1}),we&&we.shouldFocus&&Te&&Te.focus&&Te.focus()},re=(Z,de)=>Ha(Z)?f.state.subscribe({next:we=>Z(F(void 0,de),we)}):F(Z,de,!0),oe=Z=>f.state.subscribe({next:de=>{_ee(Z.name,de.name,Z.exact)&&kee(de,Z.formState||d,Oe,Z.reRenderRoot)&&Z.callback({values:{...i},...n,...de})}}).unsubscribe,ce=Z=>(a.mount=!0,h={...h,...Z.formState},oe({...Z,formState:h})),xe=(Z,de={})=>{for(const we of Z?Fm(Z):l.mount)l.mount.delete(we),l.array.delete(we),de.keepValue||(Wr(r,we),Wr(i,we)),!de.keepError&&Wr(n.errors,we),!de.keepDirty&&Wr(n.dirtyFields,we),!de.keepTouched&&Wr(n.touchedFields,we),!de.keepIsValidating&&Wr(n.validatingFields,we),!t.shouldUnregister&&!de.keepDefaultValue&&Wr(s,we);f.state.next({values:ds(i)}),f.state.next({...n,...de.keepDirty?{isDirty:D()}:{}}),!de.keepIsValid&&v()},Pe=({disabled:Z,name:de})=>{(Ri(Z)&&a.mount||Z||l.disabled.has(de))&&(Z?l.disabled.add(de):l.disabled.delete(de))},Ce=(Z,de={})=>{let we=rt(r,Z);const Te=Ri(de.disabled)||Ri(t.disabled);return jn(r,Z,{...we||{},_f:{...we&&we._f?we._f:{ref:{name:Z}},name:Z,mount:!0,...de}}),l.mount.add(Z),we?Pe({disabled:Ri(de.disabled)?de.disabled:t.disabled,name:Z}):E(Z,!0,de.value),{...Te?{disabled:de.disabled||t.disabled}:{},...t.progressive?{required:!!de.required,min:tm(de.min),max:tm(de.max),minLength:tm(de.minLength),maxLength:tm(de.maxLength),pattern:tm(de.pattern)}:{},name:Z,onChange:G,onBlur:G,ref:ie=>{if(ie){Ce(Z,de),we=rt(r,Z);const pe=_r(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,_e=vee(pe),Me=we._f.refs||[];if(_e?Me.find(Ke=>Ke===pe):pe===we._f.ref)return;jn(r,Z,{_f:{...we._f,..._e?{refs:[...Me.filter(Lw),pe,...Array.isArray(rt(s,Z))?[{}]:[]],ref:{type:pe.type,name:Z}}:{ref:pe}}}),E(Z,!1,void 0,pe)}else we=rt(r,Z,{}),we._f&&(we._f.mount=!1),(t.shouldUnregister||de.shouldUnregister)&&!(JO(l.array,Z)&&a.action)&&l.unMount.add(Z)}}},De=()=>t.shouldFocusError&&zm(r,M,l.mount),Ue=Z=>{Ri(Z)&&(f.state.next({disabled:Z}),zm(r,(de,we)=>{const Te=rt(r,we);Te&&(de.disabled=Te._f.disabled||Z,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(ie=>{ie.disabled=Te._f.disabled||Z}))},0,!1))},ct=(Z,de)=>async we=>{let Te;we&&(we.preventDefault&&we.preventDefault(),we.persist&&we.persist());let ie=ds(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:pe,values:_e}=await $();n.errors=pe,ie=_e}else await L(r);if(l.disabled.size)for(const pe of l.disabled)jn(ie,pe,void 0);if(Wr(n.errors,"root"),Gs(n.errors)){f.state.next({errors:{}});try{await Z(ie,we)}catch(pe){Te=pe}}else de&&await de({...n.errors},we),De(),setTimeout(De);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gs(n.errors)&&!Te,submitCount:n.submitCount+1,errors:n.errors}),Te)throw Te},ke=(Z,de={})=>{rt(r,Z)&&(_r(de.defaultValue)?R(Z,ds(rt(s,Z))):(R(Z,de.defaultValue),jn(s,Z,ds(de.defaultValue))),de.keepTouched||Wr(n.touchedFields,Z),de.keepDirty||(Wr(n.dirtyFields,Z),n.isDirty=de.defaultValue?D(Z,ds(rt(s,Z))):D()),de.keepError||(Wr(n.errors,Z),d.isValid&&v()),f.state.next({...n}))},ne=(Z,de={})=>{const we=Z?ds(Z):s,Te=ds(we),ie=Gs(Z),pe=ie?s:Te;if(de.keepDefaultValues||(s=we),!de.keepValues){if(de.keepDirtyValues){const _e=new Set([...l.mount,...Object.keys(em(s,i))]);for(const Me of Array.from(_e))rt(n.dirtyFields,Me)?jn(pe,Me,rt(i,Me)):R(Me,rt(pe,Me))}else{if(Tk&&_r(Z))for(const _e of l.mount){const Me=rt(r,_e);if(Me&&Me._f){const Ke=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(r1(Ke)){const ze=Ke.closest("form");if(ze){ze.reset();break}}}}for(const _e of l.mount)R(_e,rt(pe,_e))}i=ds(pe),f.array.next({values:{...pe}}),f.state.next({values:{...pe}})}l={mount:de.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!de.keepIsValid||!!de.keepDirtyValues,a.watch=!!t.shouldUnregister,f.state.next({submitCount:de.keepSubmitCount?n.submitCount:0,isDirty:ie?!1:de.keepDirty?n.isDirty:!!(de.keepDefaultValues&&!Nc(Z,s)),isSubmitted:de.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ie?{}:de.keepDirtyValues?de.keepDefaultValues&&i?em(s,i):n.dirtyFields:de.keepDefaultValues&&Z?em(s,Z):de.keepDirty?n.dirtyFields:{},touchedFields:de.keepTouched?n.touchedFields:{},errors:de.keepErrors?n.errors:{},isSubmitSuccessful:de.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},gt=(Z,de)=>ne(Ha(Z)?Z(i):Z,de),ot=(Z,de={})=>{const we=rt(r,Z),Te=we&&we._f;if(Te){const ie=Te.refs?Te.refs[0]:Te.ref;ie.focus&&(ie.focus(),de.shouldSelect&&Ha(ie.select)&&ie.select())}},Oe=Z=>{n={...n,...Z}},et={control:{register:Ce,unregister:xe,getFieldState:I,handleSubmit:ct,setError:se,_subscribe:oe,_runSchema:$,_getWatch:F,_getDirty:D,_setValid:v,_setFieldArray:w,_setDisabledField:Pe,_setErrors:C,_getFieldArray:U,_reset:ne,_resetDefaultValues:()=>Ha(t.defaultValues)&&t.defaultValues().then(Z=>{gt(Z,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Ue,_subjects:f,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(Z){a=Z},get _defaultValues(){return s},get _names(){return l},set _names(Z){l=Z},get _formState(){return n},get _options(){return t},set _options(Z){t={...t,...Z}}},subscribe:ce,trigger:ae,register:Ce,handleSubmit:ct,watch:re,setValue:R,getValues:z,reset:gt,resetField:ke,clearErrors:J,unregister:xe,setError:se,setFocus:ot,getFieldState:I};return{...et,formControl:et}}function Fi(e={}){const t=it.useRef(void 0),n=it.useRef(void 0),[r,s]=it.useState({isDirty:!1,isValidating:!1,isLoading:Ha(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ha(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Tee(e),formState:r},e.formControl&&e.defaultValues&&!Ha(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,it.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),it.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),it.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),it.useEffect(()=>{e.values&&!Nc(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[e.values,i]),it.useEffect(()=>{e.errors&&!Gs(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),it.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),it.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=tF(r,i),t.current}const QC=(e,t,n)=>{if(e&&"reportValidity"in e){const r=rt(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},uF=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?QC(r.ref,n,e):r.refs&&r.refs.forEach(s=>QC(s,n,e))}},Mee=(e,t)=>{t.shouldUseNativeValidation&&uF(e,t);const n={};for(const r in e){const s=rt(t.fields,r),i=Object.assign(e[r]||{},{ref:s&&s.ref});if(Lee(t.names||Object.keys(e),r)){const a=Object.assign({},rt(n,r));jn(a,"root",i),jn(n,r,a)}else jn(n,r,i)}return n},Lee=(e,t)=>e.some(n=>n.startsWith(t+"."));var Iee=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=n[a].types,u=c&&c[r.code];n[a]=rF(a,t,n,s,u?[].concat(u,r.message):r.message)}e.shift()}return n},zi=function(e,t,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return i.shouldUseNativeValidation&&uF({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:Mee(Iee(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},fn;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(fn||(fn={}));var rN;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(rN||(rN={}));const dt=fn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),kl=e=>{switch(typeof e){case"undefined":return dt.undefined;case"string":return dt.string;case"number":return isNaN(e)?dt.nan:dt.number;case"boolean":return dt.boolean;case"function":return dt.function;case"bigint":return dt.bigint;case"symbol":return dt.symbol;case"object":return Array.isArray(e)?dt.array:e===null?dt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?dt.promise:typeof Map<"u"&&e instanceof Map?dt.map:typeof Set<"u"&&e instanceof Set?dt.set:typeof Date<"u"&&e instanceof Date?dt.date:dt.object;default:return dt.unknown}},Ve=fn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Dee=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Gi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof Gi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Gi.create=e=>new Gi(e);const Bf=(e,t)=>{let n;switch(e.code){case Ve.invalid_type:e.received===dt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Ve.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,fn.jsonStringifyReplacer)}`;break;case Ve.unrecognized_keys:n=`Unrecognized key(s) in object: ${fn.joinValues(e.keys,", ")}`;break;case Ve.invalid_union:n="Invalid input";break;case Ve.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${fn.joinValues(e.options)}`;break;case Ve.invalid_enum_value:n=`Invalid enum value. Expected ${fn.joinValues(e.options)}, received '${e.received}'`;break;case Ve.invalid_arguments:n="Invalid function arguments";break;case Ve.invalid_return_type:n="Invalid function return type";break;case Ve.invalid_date:n="Invalid date";break;case Ve.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:fn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Ve.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Ve.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Ve.custom:n="Invalid input";break;case Ve.invalid_intersection_types:n="Intersection results could not be merged";break;case Ve.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ve.not_finite:n="Number must be finite";break;default:n=t.defaultError,fn.assertNever(e)}return{message:n}};let dF=Bf;function Ree(e){dF=e}function a1(){return dF}const o1=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...s,path:i,message:l}},Oee=[];function st(e,t){const n=a1(),r=o1({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Bf?void 0:Bf].filter(s=>!!s)});e.common.issues.push(r)}class Fs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Tt;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return Fs.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Tt;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:t.value,value:r}}}const Tt=Object.freeze({status:"aborted"}),Yh=e=>({status:"dirty",value:e}),ei=e=>({status:"valid",value:e}),sN=e=>e.status==="aborted",iN=e=>e.status==="dirty",Ad=e=>e.status==="valid",Mg=e=>typeof Promise<"u"&&e instanceof Promise;function l1(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function hF(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var mt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(mt||(mt={}));var bm,wm;class Go{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const XC=(e,t)=>{if(Ad(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Gi(e.common.issues);return this._error=n,this._error}}};function Qt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,l)=>{var c,u;const{message:d}=e;return a.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??r)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:l.defaultError}},description:s}}class nn{get description(){return this._def.description}_getType(t){return kl(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:kl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Fs,ctx:{common:t.parent.common,data:t.data,parsedType:kl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Mg(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:kl(t)},i=this._parseSync({data:t,path:s.path,parent:s});return XC(s,i)}"~validate"(t){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:kl(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return Ad(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>Ad(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:kl(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Mg(s)?s:Promise.resolve(s));return XC(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=t(s),l=()=>i.addIssue({code:Ve.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new so({schema:this,typeName:Pt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return $o.create(this,this._def)}nullable(){return uu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ja.create(this)}promise(){return Uf.create(this,this._def)}or(t){return Rg.create([this,t],this._def)}and(t){return Og.create(this,t,this._def)}transform(t){return new so({...Qt(this._def),schema:this,typeName:Pt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Ug({...Qt(this._def),innerType:this,defaultValue:n,typeName:Pt.ZodDefault})}brand(){return new Dk({typeName:Pt.ZodBranded,type:this,...Qt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Vg({...Qt(this._def),innerType:this,catchValue:n,typeName:Pt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return I0.create(this,t)}readonly(){return qg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Fee=/^c[^\s-]{8,}$/i,zee=/^[0-9a-z]+$/,Bee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,$ee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Uee=/^[a-z0-9_-]{21}$/i,Vee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,qee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Wee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Hee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Iw;const Yee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Kee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Qee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Jee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zee=new RegExp(`^${fF}$`);function pF(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function ete(e){return new RegExp(`^${pF(e)}$`)}function mF(e){let t=`${fF}T${pF(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function tte(e,t){return!!((t==="v4"||!t)&&Yee.test(e)||(t==="v6"||!t)&&Kee.test(e))}function nte(e,t){if(!Vee.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function rte(e,t){return!!((t==="v4"||!t)&&Gee.test(e)||(t==="v6"||!t)&&Qee.test(e))}class Ya extends nn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==dt.string){const i=this._getOrReturnCtx(t);return st(i,{code:Ve.invalid_type,expected:dt.string,received:i.parsedType}),Tt}const r=new Fs;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),st(s,{code:Ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),st(s,{code:Ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,l=t.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(t,s),a?st(s,{code:Ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&st(s,{code:Ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Wee.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"email",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Iw||(Iw=new RegExp(Hee,"u")),Iw.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"emoji",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")$ee.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"uuid",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Uee.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"nanoid",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Fee.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"cuid",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")zee.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"cuid2",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Bee.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"ulid",code:Ve.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),st(s,{validation:"url",code:Ve.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"regex",code:Ve.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ve.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ve.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ve.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?mF(i).test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ve.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Zee.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ve.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?ete(i).test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ve.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?qee.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"duration",code:Ve.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?tte(t.data,i.version)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"ip",code:Ve.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?nte(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"jwt",code:Ve.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?rte(t.data,i.version)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"cidr",code:Ve.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Xee.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"base64",code:Ve.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Jee.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"base64url",code:Ve.invalid_string,message:i.message}),r.dirty()):fn.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:Ve.invalid_string,...mt.errToObj(r)})}_addCheck(t){return new Ya({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...mt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...mt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...mt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...mt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...mt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...mt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...mt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...mt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...mt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...mt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...mt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...mt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...mt.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...mt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...mt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...mt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...mt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...mt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...mt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...mt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...mt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...mt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...mt.errToObj(n)})}nonempty(t){return this.min(1,mt.errToObj(t))}trim(){return new Ya({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ya({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ya({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ya.create=e=>{var t;return new Ya({checks:[],typeName:Pt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Qt(e)})};function ste(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class ou extends nn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==dt.number){const i=this._getOrReturnCtx(t);return st(i,{code:Ve.invalid_type,expected:dt.number,received:i.parsedType}),Tt}let r;const s=new Fs;for(const i of this._def.checks)i.kind==="int"?fn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),st(r,{code:Ve.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),st(r,{code:Ve.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),st(r,{code:Ve.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?ste(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),st(r,{code:Ve.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),st(r,{code:Ve.not_finite,message:i.message}),s.dirty()):fn.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,mt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,mt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,mt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,mt.toString(n))}setLimit(t,n,r,s){return new ou({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:mt.toString(s)}]})}_addCheck(t){return new ou({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:mt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:mt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:mt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:mt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:mt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:mt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&fn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}ou.create=e=>new ou({checks:[],typeName:Pt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Qt(e)});class lu extends nn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==dt.bigint)return this._getInvalidInput(t);let r;const s=new Fs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),st(r,{code:Ve.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),st(r,{code:Ve.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),st(r,{code:Ve.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):fn.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return st(n,{code:Ve.invalid_type,expected:dt.bigint,received:n.parsedType}),Tt}gte(t,n){return this.setLimit("min",t,!0,mt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,mt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,mt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,mt.toString(n))}setLimit(t,n,r,s){return new lu({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:mt.toString(s)}]})}_addCheck(t){return new lu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:mt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:mt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}lu.create=e=>{var t;return new lu({checks:[],typeName:Pt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Qt(e)})};class Lg extends nn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==dt.boolean){const r=this._getOrReturnCtx(t);return st(r,{code:Ve.invalid_type,expected:dt.boolean,received:r.parsedType}),Tt}return ei(t.data)}}Lg.create=e=>new Lg({typeName:Pt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Qt(e)});class Pd extends nn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==dt.date){const i=this._getOrReturnCtx(t);return st(i,{code:Ve.invalid_type,expected:dt.date,received:i.parsedType}),Tt}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return st(i,{code:Ve.invalid_date}),Tt}const r=new Fs;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),st(s,{code:Ve.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),st(s,{code:Ve.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):fn.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Pd({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:mt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:mt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Pd.create=e=>new Pd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Pt.ZodDate,...Qt(e)});class c1 extends nn{_parse(t){if(this._getType(t)!==dt.symbol){const r=this._getOrReturnCtx(t);return st(r,{code:Ve.invalid_type,expected:dt.symbol,received:r.parsedType}),Tt}return ei(t.data)}}c1.create=e=>new c1({typeName:Pt.ZodSymbol,...Qt(e)});class Ig extends nn{_parse(t){if(this._getType(t)!==dt.undefined){const r=this._getOrReturnCtx(t);return st(r,{code:Ve.invalid_type,expected:dt.undefined,received:r.parsedType}),Tt}return ei(t.data)}}Ig.create=e=>new Ig({typeName:Pt.ZodUndefined,...Qt(e)});class Dg extends nn{_parse(t){if(this._getType(t)!==dt.null){const r=this._getOrReturnCtx(t);return st(r,{code:Ve.invalid_type,expected:dt.null,received:r.parsedType}),Tt}return ei(t.data)}}Dg.create=e=>new Dg({typeName:Pt.ZodNull,...Qt(e)});class $f extends nn{constructor(){super(...arguments),this._any=!0}_parse(t){return ei(t.data)}}$f.create=e=>new $f({typeName:Pt.ZodAny,...Qt(e)});class fd extends nn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ei(t.data)}}fd.create=e=>new fd({typeName:Pt.ZodUnknown,...Qt(e)});class ql extends nn{_parse(t){const n=this._getOrReturnCtx(t);return st(n,{code:Ve.invalid_type,expected:dt.never,received:n.parsedType}),Tt}}ql.create=e=>new ql({typeName:Pt.ZodNever,...Qt(e)});class u1 extends nn{_parse(t){if(this._getType(t)!==dt.undefined){const r=this._getOrReturnCtx(t);return st(r,{code:Ve.invalid_type,expected:dt.void,received:r.parsedType}),Tt}return ei(t.data)}}u1.create=e=>new u1({typeName:Pt.ZodVoid,...Qt(e)});class Ja extends nn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==dt.array)return st(n,{code:Ve.invalid_type,expected:dt.array,received:n.parsedType}),Tt;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(st(n,{code:a?Ve.too_big:Ve.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(st(n,{code:Ve.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(st(n,{code:Ve.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new Go(n,a,n.path,l)))).then(a=>Fs.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new Go(n,a,n.path,l)));return Fs.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Ja({...this._def,minLength:{value:t,message:mt.toString(n)}})}max(t,n){return new Ja({...this._def,maxLength:{value:t,message:mt.toString(n)}})}length(t,n){return new Ja({...this._def,exactLength:{value:t,message:mt.toString(n)}})}nonempty(t){return this.min(1,t)}}Ja.create=(e,t)=>new Ja({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Pt.ZodArray,...Qt(t)});function Eh(e){if(e instanceof tr){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=$o.create(Eh(r))}return new tr({...e._def,shape:()=>t})}else return e instanceof Ja?new Ja({...e._def,type:Eh(e.element)}):e instanceof $o?$o.create(Eh(e.unwrap())):e instanceof uu?uu.create(Eh(e.unwrap())):e instanceof Ko?Ko.create(e.items.map(t=>Eh(t))):e}class tr extends nn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=fn.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==dt.object){const u=this._getOrReturnCtx(t);return st(u,{code:Ve.invalid_type,expected:dt.object,received:u.parsedType}),Tt}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof ql&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Go(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ql){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(st(s,{code:Ve.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Go(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>Fs.mergeObjectSync(r,u)):Fs.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return mt.errToObj,new tr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,i,a,l;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=mt.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new tr({...this._def,unknownKeys:"strip"})}passthrough(){return new tr({...this._def,unknownKeys:"passthrough"})}extend(t){return new tr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new tr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Pt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new tr({...this._def,catchall:t})}pick(t){const n={};return fn.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new tr({...this._def,shape:()=>n})}omit(t){const n={};return fn.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new tr({...this._def,shape:()=>n})}deepPartial(){return Eh(this)}partial(t){const n={};return fn.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new tr({...this._def,shape:()=>n})}required(t){const n={};return fn.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof $o;)i=i._def.innerType;n[r]=i}}),new tr({...this._def,shape:()=>n})}keyof(){return gF(fn.objectKeys(this.shape))}}tr.create=(e,t)=>new tr({shape:()=>e,unknownKeys:"strip",catchall:ql.create(),typeName:Pt.ZodObject,...Qt(t)});tr.strictCreate=(e,t)=>new tr({shape:()=>e,unknownKeys:"strict",catchall:ql.create(),typeName:Pt.ZodObject,...Qt(t)});tr.lazycreate=(e,t)=>new tr({shape:e,unknownKeys:"strip",catchall:ql.create(),typeName:Pt.ZodObject,...Qt(t)});class Rg extends nn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new Gi(l.ctx.common.issues));return st(n,{code:Ve.invalid_union,unionErrors:a}),Tt}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new Gi(c));return st(n,{code:Ve.invalid_union,unionErrors:l}),Tt}}get options(){return this._def.options}}Rg.create=(e,t)=>new Rg({options:e,typeName:Pt.ZodUnion,...Qt(t)});const vl=e=>e instanceof zg?vl(e.schema):e instanceof so?vl(e.innerType()):e instanceof Bg?[e.value]:e instanceof cu?e.options:e instanceof $g?fn.objectValues(e.enum):e instanceof Ug?vl(e._def.innerType):e instanceof Ig?[void 0]:e instanceof Dg?[null]:e instanceof $o?[void 0,...vl(e.unwrap())]:e instanceof uu?[null,...vl(e.unwrap())]:e instanceof Dk||e instanceof qg?vl(e.unwrap()):e instanceof Vg?vl(e._def.innerType):[];class _b extends nn{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.object)return st(n,{code:Ve.invalid_type,expected:dt.object,received:n.parsedType}),Tt;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(st(n,{code:Ve.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Tt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const i of n){const a=vl(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of a){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,i)}}return new _b({typeName:Pt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Qt(r)})}}function aN(e,t){const n=kl(e),r=kl(t);if(e===t)return{valid:!0,data:e};if(n===dt.object&&r===dt.object){const s=fn.objectKeys(t),i=fn.objectKeys(e).filter(l=>s.indexOf(l)!==-1),a={...e,...t};for(const l of i){const c=aN(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===dt.array&&r===dt.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],l=t[i],c=aN(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===dt.date&&r===dt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Og extends nn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,a)=>{if(sN(i)||sN(a))return Tt;const l=aN(i.value,a.value);return l.valid?((iN(i)||iN(a))&&n.dirty(),{status:n.value,value:l.data}):(st(r,{code:Ve.invalid_intersection_types}),Tt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Og.create=(e,t,n)=>new Og({left:e,right:t,typeName:Pt.ZodIntersection,...Qt(n)});class Ko extends nn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.array)return st(r,{code:Ve.invalid_type,expected:dt.array,received:r.parsedType}),Tt;if(r.data.length<this._def.items.length)return st(r,{code:Ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Tt;!this._def.rest&&r.data.length>this._def.items.length&&(st(r,{code:Ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Go(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Fs.mergeArray(n,a)):Fs.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Ko({...this._def,rest:t})}}Ko.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ko({items:e,typeName:Pt.ZodTuple,rest:null,...Qt(t)})};class Fg extends nn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.object)return st(r,{code:Ve.invalid_type,expected:dt.object,received:r.parsedType}),Tt;const s=[],i=this._def.keyType,a=this._def.valueType;for(const l in r.data)s.push({key:i._parse(new Go(r,l,r.path,l)),value:a._parse(new Go(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Fs.mergeObjectAsync(n,s):Fs.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof nn?new Fg({keyType:t,valueType:n,typeName:Pt.ZodRecord,...Qt(r)}):new Fg({keyType:Ya.create(),valueType:t,typeName:Pt.ZodRecord,...Qt(n)})}}class d1 extends nn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.map)return st(r,{code:Ve.invalid_type,expected:dt.map,received:r.parsedType}),Tt;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Go(r,l,r.path,[u,"key"])),value:i._parse(new Go(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Tt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Tt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}d1.create=(e,t,n)=>new d1({valueType:t,keyType:e,typeName:Pt.ZodMap,...Qt(n)});class Ed extends nn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.set)return st(r,{code:Ve.invalid_type,expected:dt.set,received:r.parsedType}),Tt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(st(r,{code:Ve.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(st(r,{code:Ve.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Tt;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Go(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,n){return new Ed({...this._def,minSize:{value:t,message:mt.toString(n)}})}max(t,n){return new Ed({...this._def,maxSize:{value:t,message:mt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ed.create=(e,t)=>new Ed({valueType:e,minSize:null,maxSize:null,typeName:Pt.ZodSet,...Qt(t)});class of extends nn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.function)return st(n,{code:Ve.invalid_type,expected:dt.function,received:n.parsedType}),Tt;function r(l,c){return o1({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,a1(),Bf].filter(u=>!!u),issueData:{code:Ve.invalid_arguments,argumentsError:c}})}function s(l,c){return o1({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,a1(),Bf].filter(u=>!!u),issueData:{code:Ve.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Uf){const l=this;return ei(async function(...c){const u=new Gi([]),d=await l._def.args.parseAsync(c,i).catch(p=>{throw u.addIssue(r(c,p)),u}),h=await Reflect.apply(a,this,d);return await l._def.returns._def.type.parseAsync(h,i).catch(p=>{throw u.addIssue(s(h,p)),u})})}else{const l=this;return ei(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new Gi([r(c,u.error)]);const d=Reflect.apply(a,this,u.data),h=l._def.returns.safeParse(d,i);if(!h.success)throw new Gi([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new of({...this._def,args:Ko.create(t).rest(fd.create())})}returns(t){return new of({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new of({args:t||Ko.create([]).rest(fd.create()),returns:n||fd.create(),typeName:Pt.ZodFunction,...Qt(r)})}}class zg extends nn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}zg.create=(e,t)=>new zg({getter:e,typeName:Pt.ZodLazy,...Qt(t)});class Bg extends nn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return st(n,{received:n.data,code:Ve.invalid_literal,expected:this._def.value}),Tt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Bg.create=(e,t)=>new Bg({value:e,typeName:Pt.ZodLiteral,...Qt(t)});function gF(e,t){return new cu({values:e,typeName:Pt.ZodEnum,...Qt(t)})}class cu extends nn{constructor(){super(...arguments),bm.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return st(n,{expected:fn.joinValues(r),received:n.parsedType,code:Ve.invalid_type}),Tt}if(l1(this,bm)||hF(this,bm,new Set(this._def.values)),!l1(this,bm).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return st(n,{received:n.data,code:Ve.invalid_enum_value,options:r}),Tt}return ei(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return cu.create(t,{...this._def,...n})}exclude(t,n=this._def){return cu.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}bm=new WeakMap;cu.create=gF;class $g extends nn{constructor(){super(...arguments),wm.set(this,void 0)}_parse(t){const n=fn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==dt.string&&r.parsedType!==dt.number){const s=fn.objectValues(n);return st(r,{expected:fn.joinValues(s),received:r.parsedType,code:Ve.invalid_type}),Tt}if(l1(this,wm)||hF(this,wm,new Set(fn.getValidEnumValues(this._def.values))),!l1(this,wm).has(t.data)){const s=fn.objectValues(n);return st(r,{received:r.data,code:Ve.invalid_enum_value,options:s}),Tt}return ei(t.data)}get enum(){return this._def.values}}wm=new WeakMap;$g.create=(e,t)=>new $g({values:e,typeName:Pt.ZodNativeEnum,...Qt(t)});class Uf extends nn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.promise&&n.common.async===!1)return st(n,{code:Ve.invalid_type,expected:dt.promise,received:n.parsedType}),Tt;const r=n.parsedType===dt.promise?n.data:Promise.resolve(n.data);return ei(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Uf.create=(e,t)=>new Uf({type:e,typeName:Pt.ZodPromise,...Qt(t)});class so extends nn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{st(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return Tt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Tt:c.status==="dirty"||n.value==="dirty"?Yh(c.value):c});{if(n.value==="aborted")return Tt;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?Tt:l.status==="dirty"||n.value==="dirty"?Yh(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Tt:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Tt:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ad(a))return a;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Ad(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):a);fn.assertNever(s)}}so.create=(e,t,n)=>new so({schema:e,typeName:Pt.ZodEffects,effect:t,...Qt(n)});so.createWithPreprocess=(e,t,n)=>new so({schema:t,effect:{type:"preprocess",transform:e},typeName:Pt.ZodEffects,...Qt(n)});class $o extends nn{_parse(t){return this._getType(t)===dt.undefined?ei(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$o.create=(e,t)=>new $o({innerType:e,typeName:Pt.ZodOptional,...Qt(t)});class uu extends nn{_parse(t){return this._getType(t)===dt.null?ei(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}uu.create=(e,t)=>new uu({innerType:e,typeName:Pt.ZodNullable,...Qt(t)});class Ug extends nn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===dt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ug.create=(e,t)=>new Ug({innerType:e,typeName:Pt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Qt(t)});class Vg extends nn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Mg(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Gi(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Gi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vg.create=(e,t)=>new Vg({innerType:e,typeName:Pt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Qt(t)});class h1 extends nn{_parse(t){if(this._getType(t)!==dt.nan){const r=this._getOrReturnCtx(t);return st(r,{code:Ve.invalid_type,expected:dt.nan,received:r.parsedType}),Tt}return{status:"valid",value:t.data}}}h1.create=e=>new h1({typeName:Pt.ZodNaN,...Qt(e)});const ite=Symbol("zod_brand");class Dk extends nn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class I0 extends nn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Tt:i.status==="dirty"?(n.dirty(),Yh(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Tt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new I0({in:t,out:n,typeName:Pt.ZodPipeline})}}class qg extends nn{_parse(t){const n=this._def.innerType._parse(t),r=s=>(Ad(s)&&(s.value=Object.freeze(s.value)),s);return Mg(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}qg.create=(e,t)=>new qg({innerType:e,typeName:Pt.ZodReadonly,...Qt(t)});function JC(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function xF(e,t={},n){return e?$f.create().superRefine((r,s)=>{var i,a;const l=e(r);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const h=JC(t,r),f=(d=(u=h.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...h,fatal:f})}});if(!l){const c=JC(t,r),u=(a=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0;s.addIssue({code:"custom",...c,fatal:u})}}):$f.create()}const ate={object:tr.lazycreate};var Pt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Pt||(Pt={}));const ote=(e,t={message:`Input not instance of ${e.name}`})=>xF(n=>n instanceof e,t),yF=Ya.create,vF=ou.create,lte=h1.create,cte=lu.create,bF=Lg.create,ute=Pd.create,dte=c1.create,hte=Ig.create,fte=Dg.create,pte=$f.create,mte=fd.create,gte=ql.create,xte=u1.create,yte=Ja.create,vte=tr.create,bte=tr.strictCreate,wte=Rg.create,jte=_b.create,Nte=Og.create,Ste=Ko.create,kte=Fg.create,_te=d1.create,Cte=Ed.create,Ate=of.create,Pte=zg.create,Ete=Bg.create,Tte=cu.create,Mte=$g.create,Lte=Uf.create,ZC=so.create,Ite=$o.create,Dte=uu.create,Rte=so.createWithPreprocess,Ote=I0.create,Fte=()=>yF().optional(),zte=()=>vF().optional(),Bte=()=>bF().optional(),$te={string:e=>Ya.create({...e,coerce:!0}),number:e=>ou.create({...e,coerce:!0}),boolean:e=>Lg.create({...e,coerce:!0}),bigint:e=>lu.create({...e,coerce:!0}),date:e=>Pd.create({...e,coerce:!0})},Ute=Tt;var bt=Object.freeze({__proto__:null,defaultErrorMap:Bf,setErrorMap:Ree,getErrorMap:a1,makeIssue:o1,EMPTY_PATH:Oee,addIssueToContext:st,ParseStatus:Fs,INVALID:Tt,DIRTY:Yh,OK:ei,isAborted:sN,isDirty:iN,isValid:Ad,isAsync:Mg,get util(){return fn},get objectUtil(){return rN},ZodParsedType:dt,getParsedType:kl,ZodType:nn,datetimeRegex:mF,ZodString:Ya,ZodNumber:ou,ZodBigInt:lu,ZodBoolean:Lg,ZodDate:Pd,ZodSymbol:c1,ZodUndefined:Ig,ZodNull:Dg,ZodAny:$f,ZodUnknown:fd,ZodNever:ql,ZodVoid:u1,ZodArray:Ja,ZodObject:tr,ZodUnion:Rg,ZodDiscriminatedUnion:_b,ZodIntersection:Og,ZodTuple:Ko,ZodRecord:Fg,ZodMap:d1,ZodSet:Ed,ZodFunction:of,ZodLazy:zg,ZodLiteral:Bg,ZodEnum:cu,ZodNativeEnum:$g,ZodPromise:Uf,ZodEffects:so,ZodTransformer:so,ZodOptional:$o,ZodNullable:uu,ZodDefault:Ug,ZodCatch:Vg,ZodNaN:h1,BRAND:ite,ZodBranded:Dk,ZodPipeline:I0,ZodReadonly:qg,custom:xF,Schema:nn,ZodSchema:nn,late:ate,get ZodFirstPartyTypeKind(){return Pt},coerce:$te,any:pte,array:yte,bigint:cte,boolean:bF,date:ute,discriminatedUnion:jte,effect:ZC,enum:Tte,function:Ate,instanceof:ote,intersection:Nte,lazy:Pte,literal:Ete,map:_te,nan:lte,nativeEnum:Mte,never:gte,null:fte,nullable:Dte,number:vF,object:vte,oboolean:Bte,onumber:zte,optional:Ite,ostring:Fte,pipeline:Ote,preprocess:Rte,promise:Lte,record:kte,set:Cte,strictObject:bte,string:yF,symbol:dte,transformer:ZC,tuple:Ste,undefined:hte,union:wte,unknown:mte,void:xte,NEVER:Ute,ZodIssueCode:Ve,quotelessJson:Dee,ZodError:Gi}),Vte="Label",wF=N.forwardRef((e,t)=>o.jsx(yt.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wF.displayName=Vte;var jF=wF;const qte=w0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Es=N.forwardRef(({className:e,...t},n)=>o.jsx(jF,{ref:n,className:Je(qte(),e),...t}));Es.displayName=jF.displayName;const Bi=pee,NF=N.createContext({}),Wt=({...e})=>o.jsx(NF.Provider,{value:{name:e.name},children:o.jsx(yee,{...e})}),Cb=()=>{const e=N.useContext(NF),t=N.useContext(SF),{getFieldState:n,formState:r}=kb(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},SF=N.createContext({}),Bt=N.forwardRef(({className:e,...t},n)=>{const r=N.useId();return o.jsx(SF.Provider,{value:{id:r},children:o.jsx("div",{ref:n,className:Je("space-y-2",e),...t})})});Bt.displayName="FormItem";const It=N.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=Cb();return o.jsx(Es,{ref:n,className:Je(r&&"text-destructive",e),htmlFor:s,...t})});It.displayName="FormLabel";const $t=N.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Cb();return o.jsx(Y8,{ref:t,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});$t.displayName="FormControl";const Wte=N.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Cb();return o.jsx("p",{ref:n,id:r,className:Je("text-sm text-muted-foreground",e),...t})});Wte.displayName="FormDescription";const Ut=N.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:i}=Cb(),a=s?String((s==null?void 0:s.message)??""):t;return a?o.jsx("p",{ref:r,id:i,className:Je("text-sm font-medium text-destructive",e),...n,children:a}):null});Ut.displayName="FormMessage";const Hte=bt.object({username:bt.string().min(3,"Username must be at least 3 characters"),name:bt.string().min(2,"Name must be at least 2 characters"),email:bt.string().email("Please enter a valid email address"),password:bt.string().min(8,"Password must be at least 8 characters"),confirmPassword:bt.string()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),Yte=bt.object({identifier:bt.string().min(1,"Username or email is required"),password:bt.string().min(1,"Password is required")});function jm({mode:e,trigger:t}){const[n,r]=N.useState(!1),[s,i]=N.useState(e),[a,l]=N.useState(!1),[c,u]=N.useState(!1),[d,h]=N.useState(!1),{toast:f}=vs(),p=Bs();v0();const g=Fi({resolver:zi(Hte),defaultValues:{username:"",name:"",email:"",password:"",confirmPassword:""}}),x=Fi({resolver:zi(Yte),defaultValues:{identifier:"",password:""}}),b=async y=>{h(!0);try{console.log("Attempting signup with:",{username:y.username,email:y.email,passwordLength:y.password.length}),console.log("Form validation state:",g.formState.errors);const w=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:y.username,name:y.name,email:y.email,password:y.password})}),_=await w.json();if(console.log("Signup response:",{status:w.status,result:_}),!w.ok)throw new Error(_.error||"Failed to create account");f({title:"Account Created!",description:"Welcome to ParentJourney! Your account has been created successfully."}),g.reset(),r(!1),await p.invalidateQueries({queryKey:["/auth/user"]}),await p.refetchQueries({queryKey:["/auth/user"]})}catch(w){console.error("Signup error:",w);const _=w instanceof Error?w.message:"Something went wrong. Please try again.";let C=_;_.includes("already exists")?C="An account with this email or username already exists. Please try logging in instead.":(_.includes("pattern")||_.includes("validation"))&&(C="Please check that all fields meet the requirements. Password must be at least 8 characters."),f({title:"Sign Up Failed",description:C,variant:"destructive"})}finally{h(!1)}},v=async y=>{h(!0);try{const{performLogin:w}=await Tg(async()=>{const{performLogin:C}=await Promise.resolve().then(()=>nee);return{performLogin:C}},void 0),_=await w(y.identifier,y.password);if(_.success)x.reset(),r(!1),p.invalidateQueries({queryKey:["/api/auth/user"]}),p.invalidateQueries({queryKey:["/api/journal-entries"]}),p.invalidateQueries({queryKey:["/api/child-profiles"]}),p.invalidateQueries({queryKey:["/api/parent-profile"]}),p.invalidateQueries({queryKey:["/api/journal-stats"]}),console.log("Login successful - clearing cache to reload with new token"),p.clear(),console.log("Login successful - refetching all queries with new authentication"),setTimeout(async()=>{await Promise.all([p.refetchQueries({queryKey:["/api/auth/user"]}),p.refetchQueries({queryKey:["/api/journal-entries"]}),p.refetchQueries({queryKey:["/api/child-profiles"]}),p.refetchQueries({queryKey:["/api/parent-profile"]}),p.refetchQueries({queryKey:["/api/journal-stats"]})]),console.log("All queries refetched after login")},300);else throw new Error(_.error||"Failed to log in")}catch(w){console.error("Login error:",w),f({title:"Login Failed",description:w instanceof Error?w.message:"Invalid credentials. Please try again.",variant:"destructive"})}finally{h(!1)}};return o.jsxs(yr,{open:n,onOpenChange:r,children:[o.jsx(Vl,{asChild:!0,children:t}),o.jsxs(rr,{className:"sm:max-w-md",children:[o.jsxs(sr,{children:[o.jsx(ir,{className:"flex items-center text-xl",children:s==="login"?o.jsxs(o.Fragment,{children:[o.jsx(Hj,{className:"mr-2 h-5 w-5 text-primary"}),"Welcome Back to ParentJourney"]}):o.jsxs(o.Fragment,{children:[o.jsx(Kv,{className:"mr-2 h-5 w-5 text-primary"}),"Join ParentJourney"]})}),o.jsx(ps,{children:s==="login"?"Sign in to continue your parenting journey and access your entries":"Create your account to start documenting your parenting journey with AI insights"})]}),o.jsxs("div",{className:"space-y-6",children:[s==="signup"?o.jsx(Bi,{...g,children:o.jsxs("form",{onSubmit:g.handleSubmit(b),className:"space-y-4",children:[o.jsx(Wt,{control:g.control,name:"username",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Username"}),o.jsx($t,{children:o.jsx(Kt,{placeholder:"Choose a unique username",...y})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:g.control,name:"name",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Full Name"}),o.jsx($t,{children:o.jsx(Kt,{placeholder:"Enter your full name",...y})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:g.control,name:"email",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Email"}),o.jsx($t,{children:o.jsx(Kt,{type:"email",placeholder:"Enter your email",...y})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:g.control,name:"password",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Password"}),o.jsx($t,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Kt,{type:a?"text":"password",placeholder:"Create a password (min. 8 characters)",...y}),o.jsx(ve,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?o.jsx(Ju,{className:"h-4 w-4"}):o.jsx(Zu,{className:"h-4 w-4"})})]})}),o.jsx(Ut,{}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Password must be at least 8 characters long"})]})}),o.jsx(Wt,{control:g.control,name:"confirmPassword",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Confirm Password"}),o.jsx($t,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Kt,{type:c?"text":"password",placeholder:"Confirm your password",...y}),o.jsx(ve,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),children:c?o.jsx(Ju,{className:"h-4 w-4"}):o.jsx(Zu,{className:"h-4 w-4"})})]})}),o.jsx(Ut,{})]})}),o.jsx(ve,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:d,children:d?"Creating your account...":"Create Account"})]})}):o.jsx(Bi,{...x,children:o.jsxs("form",{onSubmit:x.handleSubmit(v),className:"space-y-4",children:[o.jsx(Wt,{control:x.control,name:"identifier",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Username or Email"}),o.jsx($t,{children:o.jsx(Kt,{placeholder:"Enter your username or email",...y})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:x.control,name:"password",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Password"}),o.jsx($t,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Kt,{type:a?"text":"password",placeholder:"Enter your password",...y}),o.jsx(ve,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?o.jsx(Ju,{className:"h-4 w-4"}):o.jsx(Zu,{className:"h-4 w-4"})})]})}),o.jsx(Ut,{})]})}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsx(ve,{variant:"link",className:"px-0 text-sm",children:"Forgot password?"})}),o.jsx(ve,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:d,children:d?"Signing you in...":"Sign In"})]})}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[s==="login"?"Don't have an account yet? ":"Already have an account? ",o.jsx(ve,{variant:"link",className:"px-0 font-medium hover:text-primary animate-pop-in",onClick:()=>i(s==="login"?"signup":"login"),children:s==="login"?"Create one here":"Sign in here"})]})})]})]})]})}var Gte=N.createContext(void 0);function D0(e){const t=N.useContext(Gte);return e||t||"ltr"}var Dw="rovingFocusGroup.onEntryFocus",Kte={bubbles:!1,cancelable:!0},Ab="RovingFocusGroup",[oN,kF,Qte]=ob(Ab),[Xte,Pb]=$s(Ab,[Qte]),[Jte,Zte]=Xte(Ab),_F=N.forwardRef((e,t)=>o.jsx(oN.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(oN.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(ene,{...e,ref:t})})}));_F.displayName=Ab;var ene=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=N.useRef(null),p=Yt(t,f),g=D0(i),[x=null,b]=qo({prop:a,defaultProp:l,onChange:c}),[v,y]=N.useState(!1),w=lr(u),_=kF(n),C=N.useRef(!1),[E,O]=N.useState(0);return N.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Dw,w),()=>T.removeEventListener(Dw,w)},[w]),o.jsx(Jte,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:x,onItemFocus:N.useCallback(T=>b(T),[b]),onItemShiftTab:N.useCallback(()=>y(!0),[]),onFocusableItemAdd:N.useCallback(()=>O(T=>T+1),[]),onFocusableItemRemove:N.useCallback(()=>O(T=>T-1),[]),children:o.jsx(yt.div,{tabIndex:v||E===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{C.current=!0}),onFocus:He(e.onFocus,T=>{const $=!C.current;if(T.target===T.currentTarget&&$&&!v){const B=new CustomEvent(Dw,Kte);if(T.currentTarget.dispatchEvent(B),!B.defaultPrevented){const L=_().filter(W=>W.focusable),P=L.find(W=>W.active),D=L.find(W=>W.id===x),U=[P,D,...L].filter(Boolean).map(W=>W.ref.current);PF(U,d)}}C.current=!1}),onBlur:He(e.onBlur,()=>y(!1))})})}),CF="RovingFocusGroupItem",AF=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=e,l=Xa(),c=i||l,u=Zte(CF,n),d=u.currentTabStopId===c,h=kF(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return N.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),o.jsx(oN.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(yt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:He(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:He(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:He(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=rne(g,u.orientation,u.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=h().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const y=v.indexOf(g.currentTarget);v=u.loop?sne(v,y+1):v.slice(y+1)}setTimeout(()=>PF(v))}})})})});AF.displayName=CF;var tne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nne(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function rne(e,t,n){const r=nne(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tne[r]}function PF(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function sne(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var EF=_F,TF=AF,lN=["Enter"," "],ine=["ArrowDown","PageUp","Home"],MF=["ArrowUp","PageDown","End"],ane=[...ine,...MF],one={ltr:[...lN,"ArrowRight"],rtl:[...lN,"ArrowLeft"]},lne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},R0="Menu",[Wg,cne,une]=ob(R0),[zd,LF]=$s(R0,[une,xu,Pb]),Eb=xu(),IF=Pb(),[dne,Bd]=zd(R0),[hne,O0]=zd(R0),DF=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=e,l=Eb(t),[c,u]=N.useState(null),d=N.useRef(!1),h=lr(i),f=D0(s);return N.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(wk,{...l,children:o.jsx(dne,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(hne,{scope:t,onClose:N.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:a,children:r})})})};DF.displayName=R0;var fne="MenuAnchor",Rk=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Eb(n);return o.jsx(k0,{...s,...r,ref:t})});Rk.displayName=fne;var Ok="MenuPortal",[pne,RF]=zd(Ok,{forceMount:void 0}),OF=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=Bd(Ok,t);return o.jsx(pne,{scope:t,forceMount:n,children:o.jsx(as,{present:n||i.open,children:o.jsx(sp,{asChild:!0,container:s,children:r})})})};OF.displayName=Ok;var va="MenuContent",[mne,Fk]=zd(va),FF=N.forwardRef((e,t)=>{const n=RF(va,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Bd(va,e.__scopeMenu),a=O0(va,e.__scopeMenu);return o.jsx(Wg.Provider,{scope:e.__scopeMenu,children:o.jsx(as,{present:r||i.open,children:o.jsx(Wg.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(gne,{...s,ref:t}):o.jsx(xne,{...s,ref:t})})})})}),gne=N.forwardRef((e,t)=>{const n=Bd(va,e.__scopeMenu),r=N.useRef(null),s=Yt(t,r);return N.useEffect(()=>{const i=r.current;if(i)return wb(i)},[]),o.jsx(zk,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:He(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),xne=N.forwardRef((e,t)=>{const n=Bd(va,e.__scopeMenu);return o.jsx(zk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yne=ru("MenuContent.ScrollLock"),zk=N.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...x}=e,b=Bd(va,n),v=O0(va,n),y=Eb(n),w=IF(n),_=cne(n),[C,E]=N.useState(null),O=N.useRef(null),T=Yt(t,O,b.onContentChange),$=N.useRef(0),B=N.useRef(""),L=N.useRef(0),P=N.useRef(null),D=N.useRef("right"),F=N.useRef(0),U=g?C0:N.Fragment,W=g?{as:yne,allowPinchZoom:!0}:void 0,H=G=>{var oe,ce;const M=B.current+G,ae=_().filter(xe=>!xe.disabled),z=document.activeElement,I=(oe=ae.find(xe=>xe.ref.current===z))==null?void 0:oe.textValue,J=ae.map(xe=>xe.textValue),se=Ene(J,M,I),re=(ce=ae.find(xe=>xe.textValue===se))==null?void 0:ce.ref.current;(function xe(Pe){B.current=Pe,window.clearTimeout($.current),Pe!==""&&($.current=window.setTimeout(()=>xe(""),1e3))})(M),re&&setTimeout(()=>re.focus())};N.useEffect(()=>()=>window.clearTimeout($.current),[]),vb();const R=N.useCallback(G=>{var ae,z;return D.current===((ae=P.current)==null?void 0:ae.side)&&Mne(G,(z=P.current)==null?void 0:z.area)},[]);return o.jsx(mne,{scope:n,searchRef:B,onItemEnter:N.useCallback(G=>{R(G)&&G.preventDefault()},[R]),onItemLeave:N.useCallback(G=>{var M;R(G)||((M=O.current)==null||M.focus(),E(null))},[R]),onTriggerLeave:N.useCallback(G=>{R(G)&&G.preventDefault()},[R]),pointerGraceTimerRef:L,onPointerGraceIntentChange:N.useCallback(G=>{P.current=G},[]),children:o.jsx(U,{...W,children:o.jsx(_0,{asChild:!0,trapped:s,onMountAutoFocus:He(i,G=>{var M;G.preventDefault(),(M=O.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:o.jsx(EF,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:E,onEntryFocus:He(c,G=>{v.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(mb,{role:"menu","aria-orientation":"vertical","data-state":e7(b.open),"data-radix-menu-content":"",dir:v.dir,...y,...x,ref:T,style:{outline:"none",...x.style},onKeyDown:He(x.onKeyDown,G=>{const ae=G.target.closest("[data-radix-menu-content]")===G.currentTarget,z=G.ctrlKey||G.altKey||G.metaKey,I=G.key.length===1;ae&&(G.key==="Tab"&&G.preventDefault(),!z&&I&&H(G.key));const J=O.current;if(G.target!==J||!ane.includes(G.key))return;G.preventDefault();const re=_().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);MF.includes(G.key)&&re.reverse(),Ane(re)}),onBlur:He(e.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout($.current),B.current="")}),onPointerMove:He(e.onPointerMove,Hg(G=>{const M=G.target,ae=F.current!==G.clientX;if(G.currentTarget.contains(M)&&ae){const z=G.clientX>F.current?"right":"left";D.current=z,F.current=G.clientX}}))})})})})})})});FF.displayName=va;var vne="MenuGroup",Bk=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(yt.div,{role:"group",...r,ref:t})});Bk.displayName=vne;var bne="MenuLabel",zF=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(yt.div,{...r,ref:t})});zF.displayName=bne;var f1="MenuItem",eA="menu.itemSelect",Tb=N.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=N.useRef(null),a=O0(f1,e.__scopeMenu),l=Fk(f1,e.__scopeMenu),c=Yt(t,i),u=N.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(eA,{bubbles:!0,cancelable:!0});h.addEventListener(eA,p=>r==null?void 0:r(p),{once:!0}),sk(h,f),f.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(BF,{...s,ref:c,disabled:n,onClick:He(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:He(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:He(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||lN.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Tb.displayName=f1;var BF=N.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,a=Fk(f1,n),l=IF(n),c=N.useRef(null),u=Yt(t,c),[d,h]=N.useState(!1),[f,p]=N.useState("");return N.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),o.jsx(Wg.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:o.jsx(TF,{asChild:!0,...l,focusable:!r,children:o.jsx(yt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:He(e.onPointerMove,Hg(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(e.onPointerLeave,Hg(g=>a.onItemLeave(g))),onFocus:He(e.onFocus,()=>h(!0)),onBlur:He(e.onBlur,()=>h(!1))})})})}),wne="MenuCheckboxItem",$F=N.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return o.jsx(HF,{scope:e.__scopeMenu,checked:n,children:o.jsx(Tb,{role:"menuitemcheckbox","aria-checked":p1(n)?"mixed":n,...s,ref:t,"data-state":Uk(n),onSelect:He(s.onSelect,()=>r==null?void 0:r(p1(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$F.displayName=wne;var UF="MenuRadioGroup",[jne,Nne]=zd(UF,{value:void 0,onValueChange:()=>{}}),VF=N.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=lr(r);return o.jsx(jne,{scope:e.__scopeMenu,value:n,onValueChange:i,children:o.jsx(Bk,{...s,ref:t})})});VF.displayName=UF;var qF="MenuRadioItem",WF=N.forwardRef((e,t)=>{const{value:n,...r}=e,s=Nne(qF,e.__scopeMenu),i=n===s.value;return o.jsx(HF,{scope:e.__scopeMenu,checked:i,children:o.jsx(Tb,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":Uk(i),onSelect:He(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});WF.displayName=qF;var $k="MenuItemIndicator",[HF,Sne]=zd($k,{checked:!1}),YF=N.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=Sne($k,n);return o.jsx(as,{present:r||p1(i.checked)||i.checked===!0,children:o.jsx(yt.span,{...s,ref:t,"data-state":Uk(i.checked)})})});YF.displayName=$k;var kne="MenuSeparator",GF=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(yt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});GF.displayName=kne;var _ne="MenuArrow",KF=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Eb(n);return o.jsx(gb,{...s,...r,ref:t})});KF.displayName=_ne;var Cne="MenuSub",[H2e,QF]=zd(Cne),Nm="MenuSubTrigger",XF=N.forwardRef((e,t)=>{const n=Bd(Nm,e.__scopeMenu),r=O0(Nm,e.__scopeMenu),s=QF(Nm,e.__scopeMenu),i=Fk(Nm,e.__scopeMenu),a=N.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=N.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return N.useEffect(()=>d,[d]),N.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(Rk,{asChild:!0,...u,children:o.jsx(BF,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":e7(n.open),...e,ref:ab(t,s.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:He(e.onPointerMove,Hg(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:He(e.onPointerLeave,Hg(h=>{var p,g;d();const f=(p=n.content)==null?void 0:p.getBoundingClientRect();if(f){const x=(g=n.content)==null?void 0:g.dataset.side,b=x==="right",v=b?-5:5,y=f[b?"left":"right"],w=f[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:y,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:y,y:f.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:He(e.onKeyDown,h=>{var p;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||one[r.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});XF.displayName=Nm;var JF="MenuSubContent",ZF=N.forwardRef((e,t)=>{const n=RF(va,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Bd(va,e.__scopeMenu),a=O0(va,e.__scopeMenu),l=QF(JF,e.__scopeMenu),c=N.useRef(null),u=Yt(t,c);return o.jsx(Wg.Provider,{scope:e.__scopeMenu,children:o.jsx(as,{present:r||i.open,children:o.jsx(Wg.Slot,{scope:e.__scopeMenu,children:o.jsx(zk,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:He(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:He(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:He(e.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=lne[a.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});ZF.displayName=JF;function e7(e){return e?"open":"closed"}function p1(e){return e==="indeterminate"}function Uk(e){return p1(e)?"indeterminate":e?"checked":"unchecked"}function Ane(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Pne(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Ene(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=Pne(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Tne(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,u=t[a].x,d=t[a].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function Mne(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Tne(n,t)}function Hg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Lne=DF,Ine=Rk,Dne=OF,Rne=FF,One=Bk,Fne=zF,zne=Tb,Bne=$F,$ne=VF,Une=WF,Vne=YF,qne=GF,Wne=KF,Hne=XF,Yne=ZF,Vk="DropdownMenu",[Gne,Y2e]=$s(Vk,[LF]),ri=LF(),[Kne,t7]=Gne(Vk),n7=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,c=ri(t),u=N.useRef(null),[d=!1,h]=qo({prop:s,defaultProp:i,onChange:a});return o.jsx(Kne,{scope:t,triggerId:Xa(),triggerRef:u,contentId:Xa(),open:d,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(f=>!f),[h]),modal:l,children:o.jsx(Lne,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};n7.displayName=Vk;var r7="DropdownMenuTrigger",s7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=t7(r7,n),a=ri(n);return o.jsx(Ine,{asChild:!0,...a,children:o.jsx(yt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ab(t,i.triggerRef),onPointerDown:He(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:He(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});s7.displayName=r7;var Qne="DropdownMenuPortal",i7=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ri(t);return o.jsx(Dne,{...r,...n})};i7.displayName=Qne;var a7="DropdownMenuContent",o7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=t7(a7,n),i=ri(n),a=N.useRef(!1);return o.jsx(Rne,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:He(e.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:He(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});o7.displayName=a7;var Xne="DropdownMenuGroup",Jne=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ri(n);return o.jsx(One,{...s,...r,ref:t})});Jne.displayName=Xne;var Zne="DropdownMenuLabel",l7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ri(n);return o.jsx(Fne,{...s,...r,ref:t})});l7.displayName=Zne;var ere="DropdownMenuItem",c7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ri(n);return o.jsx(zne,{...s,...r,ref:t})});c7.displayName=ere;var tre="DropdownMenuCheckboxItem",u7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ri(n);return o.jsx(Bne,{...s,...r,ref:t})});u7.displayName=tre;var nre="DropdownMenuRadioGroup",rre=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ri(n);return o.jsx($ne,{...s,...r,ref:t})});rre.displayName=nre;var sre="DropdownMenuRadioItem",d7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ri(n);return o.jsx(Une,{...s,...r,ref:t})});d7.displayName=sre;var ire="DropdownMenuItemIndicator",h7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ri(n);return o.jsx(Vne,{...s,...r,ref:t})});h7.displayName=ire;var are="DropdownMenuSeparator",f7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ri(n);return o.jsx(qne,{...s,...r,ref:t})});f7.displayName=are;var ore="DropdownMenuArrow",lre=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ri(n);return o.jsx(Wne,{...s,...r,ref:t})});lre.displayName=ore;var cre="DropdownMenuSubTrigger",p7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ri(n);return o.jsx(Hne,{...s,...r,ref:t})});p7.displayName=cre;var ure="DropdownMenuSubContent",m7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ri(n);return o.jsx(Yne,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});m7.displayName=ure;var dre=n7,hre=s7,fre=i7,g7=o7,x7=l7,y7=c7,v7=u7,b7=d7,w7=h7,j7=f7,N7=p7,S7=m7;const pre=dre,mre=hre,gre=N.forwardRef(({className:e,inset:t,children:n,...r},s)=>o.jsxs(N7,{ref:s,className:Je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,o.jsx(ub,{className:"ml-auto h-4 w-4"})]}));gre.displayName=N7.displayName;const xre=N.forwardRef(({className:e,...t},n)=>o.jsx(S7,{ref:n,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));xre.displayName=S7.displayName;const k7=N.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(fre,{children:o.jsx(g7,{ref:r,sideOffset:t,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));k7.displayName=g7.displayName;const cN=N.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(y7,{ref:r,className:Je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));cN.displayName=y7.displayName;const yre=N.forwardRef(({className:e,children:t,checked:n,...r},s)=>o.jsxs(v7,{ref:s,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(w7,{children:o.jsx(Of,{className:"h-4 w-4"})})}),t]}));yre.displayName=v7.displayName;const vre=N.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(b7,{ref:r,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(w7,{children:o.jsx(uQ,{className:"h-2 w-2 fill-current"})})}),t]}));vre.displayName=b7.displayName;const bre=N.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(x7,{ref:r,className:Je("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));bre.displayName=x7.displayName;const wre=N.forwardRef(({className:e,...t},n)=>o.jsx(j7,{ref:n,className:Je("-mx-1 my-1 h-px bg-muted",e),...t}));wre.displayName=j7.displayName;const jre=Ck,Nre=Ak,Sre=Pk,_7=N.forwardRef(({className:e,...t},n)=>o.jsx(A0,{className:Je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));_7.displayName=A0.displayName;const kre=w0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),C7=N.forwardRef(({side:e="right",className:t,children:n,...r},s)=>o.jsxs(Sre,{children:[o.jsx(_7,{}),o.jsxs(P0,{ref:s,className:Je(kre({side:e}),t),...r,children:[n,o.jsxs(jb,{className:"fixed right-4 top-4 rounded-sm opacity-100 ring-offset-background transition-opacity hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary z-[60] bg-white/90 hover:bg-white shadow-md p-1.5",children:[o.jsx(Kr,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));C7.displayName=P0.displayName;const A7=({className:e,...t})=>o.jsx("div",{className:Je("flex flex-col space-y-2 text-center sm:text-left",e),...t});A7.displayName="SheetHeader";const P7=N.forwardRef(({className:e,...t},n)=>o.jsx(E0,{ref:n,className:Je("text-lg font-semibold text-foreground",e),...t}));P7.displayName=E0.displayName;const _re=N.forwardRef(({className:e,...t},n)=>o.jsx(T0,{ref:n,className:Je("text-sm text-muted-foreground",e),...t}));_re.displayName=T0.displayName;function qk({variant:e="button",size:t="sm",children:n}){const r=GO(),{startTourManually:s,setShowTour:i}=r;console.log("OnboardingTrigger: onboarding context:",r),console.log("OnboardingTrigger: startTourManually:",s);const a=()=>{var u;const c=localStorage.getItem("parentjourney_auth");if(c)try{const d=(u=JSON.parse(c))==null?void 0:u.user;d!=null&&d.id&&(localStorage.removeItem(`onboarding_${d.id}`),window.location.reload())}catch(d){console.error("Error parsing auth data:",d)}},l=()=>{console.log("OnboardingTrigger: handleStartTour clicked"),console.log("startTourManually function:",s);try{s(),console.log("OnboardingTrigger: startTourManually called successfully")}catch(c){console.error("OnboardingTrigger: Error calling startTourManually:",c)}};return n?o.jsx("div",{onClick:l,className:"cursor-pointer",children:n}):e==="help"?o.jsxs(ve,{variant:"ghost",size:t,onClick:l,className:"text-muted-foreground hover:text-white hover:bg-primary",children:[o.jsx(Uj,{className:"h-4 w-4 mr-1"}),"Help & Tour"]}):e==="restart"?o.jsxs(ve,{variant:"outline",size:t,onClick:a,className:"text-primary border-primary hover:bg-primary/5",children:[o.jsx(rn,{className:"h-4 w-4 mr-1"}),"Restart Onboarding"]}):o.jsxs(ve,{variant:"ghost",size:t,onClick:l,className:"text-muted-foreground hover:text-white hover:bg-primary",children:[o.jsx(Uj,{className:"h-4 w-4 mr-1"}),"Help & Tour"]})}function Bm(){const{user:e,isAuthenticated:t,isLoading:n}=Yo(),r=ree(),[s,i]=N.useState(!1);return o.jsx("header",{className:"bg-white shadow-sm border-b border-neutral-200 sticky top-0 z-50 animate-pop-fade",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Nn,{href:"/",children:o.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center flex-shrink-0 cursor-pointer hover:bg-primary/90 transition-colors hover-scale button-press",children:o.jsx(Kn,{className:"text-white h-5 w-5"})})}),o.jsxs("div",{children:[o.jsx(Nn,{href:"/",children:o.jsx("h1",{className:"text-xl font-semibold text-neutral-800 cursor-pointer hover:text-primary transition-colors",children:"ParentJourney "})}),o.jsx("p",{className:"text-xs text-neutral-500 truncate pr-2",children:" Reflect. Grow. Thrive. "})]})]}),o.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[o.jsx(Nn,{href:"/journal-history",children:o.jsxs("button",{className:"text-neutral-600 hover:text-primary transition-colors px-3 py-2 rounded-lg hover:bg-neutral-100 text-sm button-press hover-scale",children:[o.jsx(Ng,{className:"h-4 w-4 mr-1 inline"}),"History"]})}),o.jsx(Nn,{href:"/analytics",children:o.jsxs("button",{"data-onboarding":"analytics-link",className:"text-neutral-600 hover:text-primary transition-colors px-3 py-2 rounded-lg hover:bg-neutral-100 text-sm button-press hover-scale",children:[o.jsx(Fl,{className:"h-4 w-4 mr-1 inline"}),"Analytics"]})}),o.jsx(Nn,{href:"/milestones",children:o.jsxs("button",{className:"text-neutral-600 hover:text-primary transition-colors px-3 py-2 rounded-lg hover:bg-neutral-100 text-sm button-press hover-scale",children:[o.jsx(Gj,{className:"h-4 w-4 mr-1 inline"}),"Goals"]})}),o.jsx(Nn,{href:"/community",children:o.jsxs("button",{className:"text-neutral-600 hover:text-primary transition-colors px-3 py-2 rounded-lg hover:bg-neutral-100 text-sm button-press hover-scale",children:[o.jsx(Sg,{className:"h-4 w-4 mr-1 inline"}),"Community"]})}),o.jsx(Nn,{href:"/wellness",children:o.jsxs("button",{className:"text-neutral-600 hover:text-white transition-colors px-3 py-2 rounded-lg hover:bg-primary text-sm button-press hover-scale",children:[o.jsx(Wj,{className:"h-4 w-4 mr-1 inline"}),"Wellness"]})}),o.jsx(Nn,{href:"/settings",children:o.jsxs("button",{"data-onboarding":"profile-link",className:"text-neutral-600 hover:text-white transition-colors px-3 py-2 rounded-lg hover:bg-primary text-sm button-press hover-scale",children:[o.jsx(Kc,{className:"h-4 w-4 mr-1 inline"}),"Settings"]})})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"hidden md:flex items-center",children:n?o.jsx("div",{className:"h-8 w-20 bg-neutral-200 rounded animate-pulse"}):t&&e?o.jsxs(pre,{children:[o.jsx(mre,{asChild:!0,children:o.jsxs(ve,{variant:"ghost",size:"sm",className:"text-neutral-700 hover:text-white hover:bg-primary transition-colors hover-scale button-press",children:[o.jsx(Bl,{className:"h-4 w-4 mr-2"}),"@",e.username]})}),o.jsxs(k7,{align:"end",className:"w-48",children:[o.jsx(cN,{asChild:!0,children:o.jsxs(Nn,{href:"/settings",className:"w-full",children:[o.jsx(Kc,{className:"h-4 w-4 mr-2"}),"Settings"]})}),o.jsxs(cN,{onClick:r,className:"text-red-600 focus:text-red-600",children:[o.jsx(hC,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(jm,{trigger:o.jsxs(ve,{variant:"ghost",size:"sm",className:"text-neutral-700 hover:text-white hover:bg-primary transition-colors hover-scale button-press",children:[o.jsx(Hj,{className:"h-4 w-4 mr-2"}),"Sign In"]})}),o.jsx(jm,{defaultTab:"signup",trigger:o.jsxs(ve,{size:"sm",className:"bg-primary text-white hover:bg-primary/90 hover-scale button-press",children:[o.jsx(Kv,{className:"h-4 w-4 mr-2"}),"Get Started"]})})]})}),o.jsxs(jre,{open:s,onOpenChange:i,children:[o.jsx(Nre,{asChild:!0,children:o.jsx(ve,{variant:"ghost",size:"sm",className:"md:hidden p-2 hover-scale button-press","data-testid":"mobile-menu-button",children:o.jsx(wQ,{className:"h-6 w-6"})})}),o.jsxs(C7,{side:"right",className:"w-80",children:[o.jsx(A7,{children:o.jsxs(P7,{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-primary rounded-xl flex items-center justify-center",children:o.jsx(Kn,{className:"text-white h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("span",{className:"text-lg font-semibold",children:"ParentJourney "}),o.jsx("p",{className:"text-xs text-neutral-500",children:" Reflect. Grow. Thrive. "})]})]})}),o.jsxs("div",{className:"mt-8 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Nn,{href:"/journal-history",children:o.jsxs("button",{onClick:()=>i(!1),className:"w-full flex items-center space-x-3 px-3 py-3 text-left text-neutral-600 hover:text-white hover:bg-primary rounded-lg transition-colors button-press",children:[o.jsx(Ng,{className:"h-5 w-5"}),o.jsx("span",{children:"History"})]})}),o.jsx(Nn,{href:"/analytics",children:o.jsxs("button",{onClick:()=>i(!1),className:"w-full flex items-center space-x-3 px-3 py-3 text-left text-neutral-600 hover:text-white hover:bg-primary rounded-lg transition-colors button-press",children:[o.jsx(Fl,{className:"h-5 w-5"}),o.jsx("span",{children:"Analytics"})]})}),o.jsx(Nn,{href:"/milestones",children:o.jsxs("button",{onClick:()=>i(!1),className:"w-full flex items-center space-x-3 px-3 py-3 text-left text-neutral-600 hover:text-white hover:bg-primary rounded-lg transition-colors button-press",children:[o.jsx(Gj,{className:"h-5 w-5"}),o.jsx("span",{children:"Goals"})]})}),o.jsx(Nn,{href:"/community",children:o.jsxs("button",{onClick:()=>i(!1),className:"w-full flex items-center space-x-3 px-3 py-3 text-left text-neutral-600 hover:text-white hover:bg-primary rounded-lg transition-colors button-press",children:[o.jsx(Sg,{className:"h-5 w-5"}),o.jsx("span",{children:"Community"})]})}),o.jsx(Nn,{href:"/wellness",children:o.jsxs("button",{onClick:()=>i(!1),className:"w-full flex items-center space-x-3 px-3 py-3 text-left text-neutral-600 hover:text-white hover:bg-primary rounded-lg transition-colors button-press",children:[o.jsx(Wj,{className:"h-5 w-5"}),o.jsx("span",{children:"Wellness"})]})}),o.jsx(Nn,{href:"/settings",children:o.jsxs("button",{onClick:()=>i(!1),className:"w-full flex items-center space-x-3 px-3 py-3 text-left text-neutral-600 hover:text-white hover:bg-primary rounded-lg transition-colors button-press",children:[o.jsx(Kc,{className:"h-5 w-5"}),o.jsx("span",{children:"Settings"})]})})]}),o.jsx("div",{className:"pt-4 border-t border-neutral-200",children:o.jsx(qk,{children:o.jsxs("button",{onClick:()=>i(!1),className:"w-full flex items-center space-x-3 px-3 py-3 text-left text-indigo-600 hover:text-white hover:bg-indigo-600 rounded-lg transition-colors button-press text-sm sm:text-base","data-testid":"mobile-help-tour-button",children:[o.jsx(Uj,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Help & Tour"})]})})}),o.jsx("div",{className:"pt-4 border-t border-neutral-200",children:t&&e?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"px-3 py-2 bg-neutral-50 rounded-lg",children:[o.jsxs("p",{className:"text-sm font-medium text-neutral-800",children:["@",e.username]}),o.jsx("p",{className:"text-xs text-neutral-500",children:e.email})]}),o.jsxs("button",{onClick:()=>{r(),i(!1)},className:"w-full flex items-center space-x-3 px-3 py-3 text-left text-red-600 hover:bg-red-50 rounded-lg transition-colors button-press",children:[o.jsx(hC,{className:"h-5 w-5"}),o.jsx("span",{children:"Sign Out"})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsx(jm,{trigger:o.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-3 text-left text-neutral-600 hover:text-white hover:bg-primary rounded-lg transition-colors button-press",children:[o.jsx(Hj,{className:"h-5 w-5"}),o.jsx("span",{children:"Sign In"})]})}),o.jsx(jm,{defaultTab:"signup",trigger:o.jsxs("button",{className:"w-full bg-primary text-white px-3 py-3 rounded-lg hover:bg-primary/90 transition-colors button-press flex items-center justify-center space-x-3",children:[o.jsx(Kv,{className:"h-5 w-5"}),o.jsx("span",{children:"Get Started"})]})})]})})]})]})]})]})]})})})}function Wk(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Hk="Checkbox",[Cre,G2e]=$s(Hk),[Are,Pre]=Cre(Hk),E7=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=N.useState(null),g=Yt(t,_=>p(_)),x=N.useRef(!1),b=f?d||!!f.closest("form"):!0,[v=!1,y]=qo({prop:s,defaultProp:i,onChange:u}),w=N.useRef(v);return N.useEffect(()=>{const _=f==null?void 0:f.form;if(_){const C=()=>y(w.current);return _.addEventListener("reset",C),()=>_.removeEventListener("reset",C)}},[f,y]),o.jsxs(Are,{scope:n,state:v,disabled:l,children:[o.jsx(yt.button,{type:"button",role:"checkbox","aria-checked":Xc(v)?"mixed":v,"aria-required":a,"data-state":L7(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onKeyDown:He(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:He(e.onClick,_=>{y(C=>Xc(C)?!0:!C),b&&(x.current=_.isPropagationStopped(),x.current||_.stopPropagation())})}),b&&o.jsx(Ere,{control:f,bubbles:!x.current,name:r,value:c,checked:v,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Xc(i)?!1:i})]})});E7.displayName=Hk;var T7="CheckboxIndicator",M7=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=Pre(T7,n);return o.jsx(as,{present:r||Xc(i.state)||i.state===!0,children:o.jsx(yt.span,{"data-state":L7(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});M7.displayName=T7;var Ere=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...i}=e,a=N.useRef(null),l=Wk(n),c=yk(t);N.useEffect(()=>{const d=a.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&p){const g=new Event("click",{bubbles:r});d.indeterminate=Xc(n),p.call(d,Xc(n)?!1:n),d.dispatchEvent(g)}},[l,n,r]);const u=N.useRef(Xc(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Xc(e){return e==="indeterminate"}function L7(e){return Xc(e)?"indeterminate":e?"checked":"unchecked"}var I7=E7,Tre=M7;const uN=N.forwardRef(({className:e,...t},n)=>o.jsx(I7,{ref:n,className:Je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(Tre,{className:Je("flex items-center justify-center text-current"),children:o.jsx(Of,{className:"h-4 w-4"})})}));uN.displayName=I7.displayName;function Vt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Xi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Xs(e,t){const n=Vt(e);return isNaN(t)?Xi(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function io(e,t){const n=Vt(e);if(isNaN(t))return Xi(e,NaN);if(!t)return n;const r=n.getDate(),s=Xi(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const Yk=6048e5,Mre=864e5;let Lre={};function F0(){return Lre}function Ji(e,t){var l,c,u,d;const n=F0(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Vt(e),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Td(e){return Ji(e,{weekStartsOn:1})}function D7(e){const t=Vt(e),n=t.getFullYear(),r=Xi(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Td(r),i=Xi(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Td(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Vf(e){const t=Vt(e);return t.setHours(0,0,0,0),t}function m1(e){const t=Vt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ro(e,t){const n=Vf(e),r=Vf(t),s=+n-m1(n),i=+r-m1(r);return Math.round((s-i)/Mre)}function Ire(e){const t=D7(e),n=Xi(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Td(n)}function g1(e,t){const n=t*7;return Xs(e,n)}function Dre(e,t){return io(e,t*12)}function Rre(e){let t;return e.forEach(function(n){const r=Vt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function Ore(e){let t;return e.forEach(n=>{const r=Vt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function $m(e,t){const n=Vt(e),r=Vt(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function xi(e,t){const n=Vf(e),r=Vf(t);return+n==+r}function Gk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Fre(e){if(!Gk(e)&&typeof e!="number")return!1;const t=Vt(e);return!isNaN(Number(t))}function qf(e,t){const n=Vt(e),r=Vt(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function zre(e,t,n){const r=Ji(e,n),s=Ji(t,n),i=+r-m1(r),a=+s-m1(s);return Math.round((i-a)/Yk)}function Bre(e,t){const n=Vt(e),r=Vt(t);return n.getFullYear()-r.getFullYear()}function $re(e){const t=Vt(e);return t.setHours(23,59,59,999),t}function z0(e){const t=Vt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ure(e){const t=Vt(e);return+$re(t)==+z0(t)}function R7(e,t){const n=Vt(e),r=Vt(t),s=$m(n,r),i=Math.abs(qf(n,r));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let l=$m(n,r)===-s;Ure(Vt(e))&&i===1&&$m(e,r)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function O7(e,t){const n=Vt(e),r=Vt(t),s=$m(n,r),i=Math.abs(Bre(n,r));n.setFullYear(1584),r.setFullYear(1584);const a=$m(n,r)===-s,l=s*(i-+a);return l===0?0:l}function Rs(e){const t=Vt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function F7(e){const t=Vt(e),n=Xi(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Wf(e,t){var l,c,u,d;const n=F0(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Vt(e),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function z7(e){return Wf(e,{weekStartsOn:1})}const Vre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qre=(e,t,n)=>{let r;const s=Vre[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Rw(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Wre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gre={date:Rw({formats:Wre,defaultWidth:"full"}),time:Rw({formats:Hre,defaultWidth:"full"}),dateTime:Rw({formats:Yre,defaultWidth:"full"})},Kre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qre=(e,t,n,r)=>Kre[e];function nm(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Xre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ese={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rse=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},sse={ordinalNumber:rse,era:nm({values:Xre,defaultWidth:"wide"}),quarter:nm({values:Jre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:nm({values:Zre,defaultWidth:"wide"}),day:nm({values:ese,defaultWidth:"wide"}),dayPeriod:nm({values:tse,defaultWidth:"wide",formattingValues:nse,defaultFormattingWidth:"wide"})};function rm(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ase(l,h=>h.test(a)):ise(l,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function ise(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function ase(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function ose(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const lse=/^(\d+)(th|st|nd|rd)?/i,cse=/\d+/i,use={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dse={any:[/^b/i,/^(a|c)/i]},hse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fse={any:[/1/i,/2/i,/3/i,/4/i]},pse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bse={ordinalNumber:ose({matchPattern:lse,parsePattern:cse,valueCallback:e=>parseInt(e,10)}),era:rm({matchPatterns:use,defaultMatchWidth:"wide",parsePatterns:dse,defaultParseWidth:"any"}),quarter:rm({matchPatterns:hse,defaultMatchWidth:"wide",parsePatterns:fse,defaultParseWidth:"any",valueCallback:e=>e+1}),month:rm({matchPatterns:pse,defaultMatchWidth:"wide",parsePatterns:mse,defaultParseWidth:"any"}),day:rm({matchPatterns:gse,defaultMatchWidth:"wide",parsePatterns:xse,defaultParseWidth:"any"}),dayPeriod:rm({matchPatterns:yse,defaultMatchWidth:"any",parsePatterns:vse,defaultParseWidth:"any"})},B7={code:"en-US",formatDistance:qre,formatLong:Gre,formatRelative:Qre,localize:sse,match:bse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wse(e){const t=Vt(e);return Ro(t,F7(t))+1}function $7(e){const t=Vt(e),n=+Td(t)-+Ire(t);return Math.round(n/Yk)+1}function U7(e,t){var d,h,f,p;const n=Vt(e),r=n.getFullYear(),s=F0(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=Xi(e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Ji(a,t),c=Xi(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Ji(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function jse(e,t){var l,c,u,d;const n=F0(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=U7(e,t),i=Xi(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Ji(i,t)}function V7(e,t){const n=Vt(e),r=+Ji(n,t)-+jse(n,t);return Math.round(r/Yk)+1}function An(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const dc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return An(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):An(n+1,2)},d(e,t){return An(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return An(e.getHours()%12||12,t.length)},H(e,t){return An(e.getHours(),t.length)},m(e,t){return An(e.getMinutes(),t.length)},s(e,t){return An(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return An(s,t.length)}},Sh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tA={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return dc.y(e,t)},Y:function(e,t,n,r){const s=U7(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return An(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):An(i,t.length)},R:function(e,t){const n=D7(e);return An(n,t.length)},u:function(e,t){const n=e.getFullYear();return An(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return An(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return An(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return dc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return An(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=V7(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):An(s,t.length)},I:function(e,t,n){const r=$7(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):An(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):dc.d(e,t)},D:function(e,t,n){const r=wse(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):An(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return An(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return An(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return An(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Sh.noon:r===0?s=Sh.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Sh.evening:r>=12?s=Sh.afternoon:r>=4?s=Sh.morning:s=Sh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return dc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):dc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):An(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):An(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):dc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):dc.s(e,t)},S:function(e,t){return dc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return rA(r);case"XXXX":case"XX":return Vu(r);case"XXXXX":case"XXX":default:return Vu(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return rA(r);case"xxxx":case"xx":return Vu(r);case"xxxxx":case"xxx":default:return Vu(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nA(r,":");case"OOOO":default:return"GMT"+Vu(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nA(r,":");case"zzzz":default:return"GMT"+Vu(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return An(r,t.length)},T:function(e,t,n){const r=e.getTime();return An(r,t.length)}};function nA(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+An(i,2)}function rA(e,t){return e%60===0?(e>0?"-":"+")+An(Math.abs(e)/60,2):Vu(e,t)}function Vu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=An(Math.trunc(r/60),2),i=An(r%60,2);return n+s+t+i}const sA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},q7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Nse=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return sA(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",sA(r,t)).replace("{{time}}",q7(s,t))},Sse={p:q7,P:Nse},kse=/^D+$/,_se=/^Y+$/,Cse=["D","DD","YY","YYYY"];function Ase(e){return kse.test(e)}function Pse(e){return _se.test(e)}function Ese(e,t,n){const r=Tse(e,t,n);if(console.warn(r),Cse.includes(e))throw new RangeError(r)}function Tse(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Mse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ise=/^'([^]*?)'?$/,Dse=/''/g,Rse=/[a-zA-Z]/;function tn(e,t,n){var d,h,f,p,g,x,b,v;const r=F0(),s=(n==null?void 0:n.locale)??r.locale??B7,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((x=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((v=(b=r.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??0,l=Vt(e);if(!Fre(l))throw new RangeError("Invalid time value");let c=t.match(Lse).map(y=>{const w=y[0];if(w==="p"||w==="P"){const _=Sse[w];return _(y,s.formatLong)}return y}).join("").match(Mse).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:Ose(y)};if(tA[w])return{isToken:!0,value:y};if(w.match(Rse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Pse(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ase(w))&&Ese(w,t,String(e));const _=tA[w[0]];return _(l,w,s.localize,u)}).join("")}function Ose(e){const t=e.match(Ise);return t?t[1].replace(Dse,"'"):e}function Fse(e){const t=Vt(e),n=t.getFullYear(),r=t.getMonth(),s=Xi(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function zse(e){return Math.trunc(+Vt(e)/1e3)}function Bse(e){const t=Vt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function $se(e,t){return zre(Bse(e),Rs(e),t)+1}function dN(e,t){const n=Vt(e),r=Vt(t);return n.getTime()>r.getTime()}function W7(e,t){const n=Vt(e),r=Vt(t);return+n<+r}function Kk(e,t){const n=Vt(e),r=Vt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Use(e,t){const n=Vt(e),r=Vt(t);return n.getFullYear()===r.getFullYear()}function Um(e,t){return Xs(e,-t)}function Ow(e,t){const n=Vt(e),r=n.getFullYear(),s=n.getDate(),i=Xi(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const a=Fse(i);return n.setMonth(t,Math.min(s,a)),n}function iA(e,t){const n=Vt(e);return isNaN(+n)?Xi(e,NaN):(n.setFullYear(t),n)}function Fw(e,t){return g1(e,-t)}function Vse(){const[e,t]=N.useState(""),[n,r]=N.useState([]),[s,i]=N.useState([]),[a,l]=N.useState(!1),[,c]=v0(),{data:u,isLoading:d}=Ht({queryKey:["/api/journal-entries"],queryFn:async()=>{const x=new URLSearchParams;x.set("limit","20"),e&&x.set("search",e);const b=localStorage.getItem("parentjourney_token"),v={};b&&(v.Authorization=`Bearer ${b}`);const y=await fetch(`/api/journal-entries?${x}`,{headers:v,credentials:"include"});if(!y.ok)throw new Error("Failed to fetch entries");return y.json()}}),h=(u==null?void 0:u.filter(x=>{if(n.length>0&&!n.some(v=>x.childProfileId===v||x.childProfileIds&&x.childProfileIds.includes(v)))return!1;if(s.length>0){const b=x.entryType||"shared_journey";if(!s.includes(b))return!1}return!0}))||[],f=h.slice(0,5),{data:p}=Ht({queryKey:["/api/child-profiles"],queryFn:async()=>{const x=localStorage.getItem("parentjourney_token"),b={};x&&(b.Authorization=`Bearer ${x}`);const v=await fetch("/api/child-profiles",{headers:b,credentials:"include"});if(!v.ok)throw new Error("Failed to fetch profiles");return v.json()}}),g=[{value:"shared_journey",label:"Shared Journey"},{value:"quick_moment",label:"Quick Moment"},{value:"daily_reflection",label:"Daily Reflection"}];return o.jsxs("div",{className:"bg-white/70 rounded-lg border border-emerald-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 p-3 pb-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-neutral-800",children:"Your Recent Interactions"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>l(!a),className:"text-xs px-2 py-1 h-6",children:o.jsx(lk,{className:"h-3 w-3"})}),o.jsx(ve,{variant:"ghost",className:"text-xs px-2 py-1 h-6",onClick:()=>c("/journal-history"),children:o.jsx(j0,{className:"h-3 w-3"})})]})]}),a&&o.jsxs("div",{className:"px-3 pb-3 space-y-3 border-b border-neutral-100",children:[p&&p.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-neutral-600 mb-2 block",children:"Filter by Child:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:p.map((x,b)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(uN,{id:`child-${x.id}`,checked:n.includes(x.id),onCheckedChange:v=>{r(v?[...n,x.id]:n.filter(y=>y!==x.id))}}),o.jsxs("label",{htmlFor:`child-${x.id}`,className:"text-xs text-neutral-700 cursor-pointer flex items-center gap-1",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${b%3===0?"bg-blue-400":b%3===1?"bg-purple-400":"bg-pink-400"}`}),x.name]})]},x.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-neutral-600 mb-2 block",children:"Filter by Interaction Type:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(x=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(uN,{id:`type-${x.value}`,checked:s.includes(x.value),onCheckedChange:b=>{i(b?[...s,x.value]:s.filter(v=>v!==x.value))}}),o.jsx("label",{htmlFor:`type-${x.value}`,className:"text-xs text-neutral-700 cursor-pointer",children:x.label})]},x.value))})]}),(n.length>0||s.length>0)&&o.jsx(ve,{variant:"outline",size:"sm",onClick:()=>{r([]),i([])},className:"text-xs h-6",children:"Clear Filters"})]}),o.jsx("div",{className:"p-3 pt-0 space-y-2",children:d?Array.from({length:2}).map((x,b)=>o.jsxs("div",{className:"bg-white/50 rounded border border-neutral-100 p-2",children:[o.jsx(Ls,{className:"h-3 w-20 mb-1"}),o.jsx(Ls,{className:"h-3 w-full mb-1"}),o.jsx(Ls,{className:"h-3 w-3/4"})]},b)):f&&f.length>0?o.jsxs(o.Fragment,{children:[f.slice(0,2).map(x=>{var b;return o.jsxs("div",{className:"bg-white/50 rounded border border-neutral-100 p-2 group hover:bg-white/80 transition-all cursor-pointer",onClick:()=>c("/journal-history"),children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs text-neutral-500",children:tn(new Date(x.createdAt),"MMM d")}),o.jsxs("div",{className:"flex items-center gap-1",children:[(x.aiAnalyzedMood||x.mood)&&o.jsx(xt,{variant:"outline",className:"text-xs px-1 py-0",children:x.aiAnalyzedMood||x.mood}),x.childProfileId&&p&&o.jsx("div",{className:`w-3 h-3 rounded-full ${p.findIndex(v=>v.id===x.childProfileId)%3===0?"bg-blue-400":p.findIndex(v=>v.id===x.childProfileId)%3===1?"bg-purple-400":"bg-pink-400"}`,title:`Entry for ${(b=p.find(v=>v.id===x.childProfileId))==null?void 0:b.name}`})]})]}),o.jsxs("p",{className:"text-xs text-neutral-600 group-hover:text-neutral-700 transition-colors",children:[o.jsx("span",{className:"group-hover:hidden",children:x.content.length>100?`${x.content.substring(0,100)}...`:x.content}),o.jsx("span",{className:"hidden group-hover:block",children:x.content.length>200?`${x.content.substring(0,200)}...`:x.content})]}),x.entryType==="quick_moment"&&!x.aiFeedback&&o.jsx("div",{className:"mt-1",children:o.jsx("p",{className:"text-xs text-amber-600",children:"Don't see AI feedback? It may take a moment to appear after entry is submitted."})}),o.jsx("div",{className:"mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"Read full interaction "})})]},x.id)}),h.length>2&&o.jsx(Nn,{href:"/journal-history",children:o.jsx("button",{className:"w-full text-xs text-emerald-600 hover:text-emerald-700 text-center py-2 hover:bg-emerald-50 rounded transition-colors",children:"See more interactions"})})]}):o.jsx("div",{className:"text-center py-2",children:o.jsx("p",{className:"text-xs text-neutral-500",children:n.length>0||s.length>0?"No interactions match your current filters":"No interactions yet"})})})]})}function qse(e){return e===0?"":e===1?"":e===2?"":e>=3&&e<=4?"":e>=5&&e<=6?"":e>=7&&e<=13?"":e>=14&&e<=20?"":e>=21&&e<=29?"":e>=30?"":""}function Wse(e){return e>=100?15:e>=75?12:e>=50?9:e>=25?6:e>=10?3:1}function Hse({totalEntries:e,weekEntries:t,longestStreak:n,weekSharedJourneys:r,weekQuickMoments:s}){const[i,a]=N.useState(!1),[l,c]=N.useState(!1);N.useEffect(()=>{const d=setTimeout(()=>a(!0),100);return()=>clearTimeout(d)},[]),N.useEffect(()=>{if(e>0&&(e%5===0||n>=7)){c(!0);const d=setTimeout(()=>c(!1),3e3);return()=>clearTimeout(d)}},[e,n]);const u=Wse(e);return o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 sm:gap-3",children:[o.jsxs("div",{className:"bg-primary/5 rounded-lg p-2 sm:p-3 text-center border border-primary/20 animate-pop-in stagger-1",children:[o.jsxs("div",{className:"text-base sm:text-lg md:text-xl font-semibold text-primary",children:[" ",e||0]}),o.jsx("div",{className:"text-xs sm:text-xs text-neutral-600 mt-1",children:"Total Interactions"})]}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-2 sm:p-3 text-center border border-green-200 animate-pop-in stagger-2",children:[o.jsxs("div",{className:"text-base sm:text-lg md:text-xl font-semibold text-green-600",children:[" ",t||0]}),o.jsx("div",{className:"text-xs sm:text-xs text-neutral-600 mt-1",children:"Interactions This Week"})]}),o.jsxs("div",{className:"bg-orange-50 rounded-lg p-2 sm:p-3 text-center border border-orange-200 animate-pop-in stagger-3",children:[o.jsxs("div",{className:"text-base sm:text-lg md:text-xl font-semibold text-orange-600",children:[qse(n)," ",n||"New"]}),o.jsx("div",{className:"text-xs sm:text-xs text-neutral-600 mt-1",children:(n||0)>1?"Day streak!":"Daily Interaction Streak"})]}),o.jsxs("div",{className:"bg-blue-50 rounded-lg p-2 sm:p-3 text-center border border-blue-200 animate-pop-in stagger-4",children:[o.jsxs("div",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-600",children:[" ",r||0]}),o.jsx("div",{className:"text-xs sm:text-xs text-neutral-600 mt-1",children:"Shared Journeys This Week"})]}),o.jsxs("div",{className:"bg-amber-50 rounded-lg p-2 sm:p-3 text-center border border-amber-200 animate-pop-in stagger-5",children:[o.jsxs("div",{className:"text-base sm:text-lg md:text-xl font-semibold text-amber-600",children:[" ",s||0]}),o.jsx("div",{className:"text-xs sm:text-xs text-neutral-600 mt-1",children:"Quick Moments This Week"})]}),o.jsxs("div",{className:"bg-purple-50 rounded-lg p-2 sm:p-3 text-center border border-purple-200 animate-pop-in stagger-6",children:[o.jsxs("div",{className:"flex items-center justify-center mb-1",children:[o.jsx(wR,{className:"h-3 w-3 sm:h-4 sm:w-4 text-purple-600 mr-1"}),o.jsx("div",{className:"text-base sm:text-lg md:text-xl font-semibold text-purple-600",children:u})]}),o.jsx("div",{className:"text-xs sm:text-xs text-neutral-600",children:"Wellness Level"})]})]}),l&&o.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg border border-primary/20 animate-slide-up",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex justify-center items-center space-x-2 mb-2",children:[o.jsx(Vi,{className:"h-5 w-5 text-yellow-500 fill-current animate-wiggle"}),o.jsx("span",{className:"text-lg font-semibold text-neutral-800",children:"Milestone Reached!"}),o.jsx(Vi,{className:"h-5 w-5 text-yellow-500 fill-current animate-wiggle"})]}),o.jsxs("p",{className:"text-sm text-neutral-600",children:[e%5===0&&e>0&&`Congratulations on your ${e} interactions! `,n>=7&&`Amazing ${n}-day streak! `,"Keep up the great work!"]})]})})]})}const bc=[{key:"infant",label:"Infant",ageRange:"0-12 months",description:"Rapid physical and cognitive development",milestones:["Rolling over","Sitting up","First words","Walking"]},{key:"toddler",label:"Toddler",ageRange:"1-3 years",description:"Language development and independence",milestones:["Potty training","Running","Two-word phrases","Playing with others"]},{key:"preschooler",label:"Preschooler",ageRange:"3-5 years",description:"Social skills and emotional regulation",milestones:["Following rules","Drawing shapes","Dressing independently","Making friends"]},{key:"school_age",label:"School Age",ageRange:"6-12 years",description:"Academic learning and peer relationships",milestones:["Reading fluently","Team sports","Problem solving","Independence"]},{key:"adolescent",label:"Adolescent",ageRange:"13-18 years",description:"Identity formation and abstract thinking",milestones:["Identity exploration","Abstract reasoning","Peer influence","Future planning"]},{key:"young_adult",label:"Young Adult",ageRange:"18+ years",description:"Independence and life decisions",milestones:["Career planning","Relationships","Financial independence","Personal values"]}];function Qk(e){const t=new Date(e),n=new Date,r=R7(n,t),s=O7(n,t);return r<12?bc[0]:s<3?bc[1]:s<6?bc[2]:s<13?bc[3]:s<18?bc[4]:bc[5]}function Yse(e){const t=new Date(e),n=new Date,r=O7(n,t),s=R7(n,t)%12;return{years:r,months:s}}function Xk(e){const{years:t,months:n}=Yse(e);return t===0?`${n} month${n!==1?"s":""}`:t<2?`${t} year${t!==1?"s":""}, ${n} month${n!==1?"s":""}`:`${t} year${t!==1?"s":""} old`}function Gse({child:e}){const[,t]=v0(),{data:n,isLoading:r}=Ht({queryKey:["/api/journal-entries",e.id],queryFn:async()=>{const c=localStorage.getItem("parentjourney_token"),u={};c&&(u.Authorization=`Bearer ${c}`);const d=await fetch(`/api/journal-entries?childId=${e.id}&limit=3`,{headers:u,credentials:"include"});if(!d.ok)throw new Error("Failed to fetch entries");return d.json()}});e.developmentalStage&&Qk(e.dateOfBirth);const{data:s}=Ht({queryKey:["/api/child-profiles"]}),i=s?s.findIndex(c=>c.id===e.id):0,a=i%3===0?"border-blue-200 bg-blue-50/50":i%3===1?"border-purple-200 bg-purple-50/50":"border-pink-200 bg-pink-50/50",l=i%3===0?"bg-blue-400":i%3===1?"bg-purple-400":"bg-pink-400";return o.jsxs("div",{className:`bg-white/70 rounded-lg border p-3 hover-lift animate-fade-in ${a}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${l}`}),o.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsx(gs,{className:"text-primary h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-neutral-800",children:e.name}),o.jsx("p",{className:"text-xs text-neutral-600",children:Xk(e.dateOfBirth)})]})]}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>t(`/child-entries?childId=${e.id}`),className:"text-xs px-2 py-1 h-6",children:o.jsx(j0,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h4",{className:"text-xs font-medium text-neutral-600 flex items-center",children:[o.jsx(Sl,{className:"mr-1 h-3 w-3"}),"Latest"]}),r?o.jsx("div",{className:"space-y-2",children:[...Array(2)].map((c,u)=>o.jsxs("div",{className:"p-3 bg-neutral-50 rounded-lg",children:[o.jsx(Ls,{className:"h-3 w-1/4 mb-1"}),o.jsx(Ls,{className:"h-3 w-full"})]},u))}):n&&n.length>0?o.jsxs("div",{className:"space-y-1",children:[n.slice(0,1).map(c=>o.jsxs("div",{className:"p-2 bg-white/50 rounded border border-neutral-100 group hover:bg-white/80 transition-all cursor-pointer",onClick:()=>t(`/journal-history?childId=${e.id}`),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-xs text-neutral-500 flex items-center",children:[o.jsx(rs,{className:"mr-1 h-3 w-3"}),tn(new Date(c.createdAt),"MMM d")]}),(c.aiAnalyzedMood||c.mood)&&o.jsx(xt,{variant:"outline",className:"text-xs",children:c.aiAnalyzedMood||c.mood})]}),o.jsx("p",{className:"text-xs text-neutral-600 group-hover:text-neutral-700 transition-colors",children:c.content.length>80?`${c.content.substring(0,80)}...`:c.content}),o.jsx("div",{className:"mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Read full entry "})})]},c.id)),n.length>1&&o.jsxs("button",{onClick:()=>t(`/journal-history?childId=${e.id}`),className:"w-full text-xs text-blue-600 hover:text-blue-700 text-center py-1 hover:bg-blue-50 rounded transition-colors",children:["View more reflections for ",e.name]})]}):o.jsxs("div",{className:"text-center py-3 bg-white/30 rounded-lg border border-dashed border-neutral-200",children:[o.jsxs("p",{className:"text-xs text-neutral-500",children:["No entries yet for ",e.name]}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Journal entries will appear here"})]})]})]})}function yi({content:e,children:t,position:n="top",className:r="",supportive:s=!0}){const[i,a]=N.useState(!1),l={top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"},c={top:"top-full left-1/2 transform -translate-x-1/2 border-l-transparent border-r-transparent border-b-transparent border-t-blue-100",bottom:"bottom-full left-1/2 transform -translate-x-1/2 border-l-transparent border-r-transparent border-t-transparent border-b-blue-100",left:"left-full top-1/2 transform -translate-y-1/2 border-t-transparent border-b-transparent border-r-transparent border-l-blue-100",right:"right-full top-1/2 transform -translate-y-1/2 border-t-transparent border-b-transparent border-l-transparent border-r-blue-100"};return o.jsxs("div",{className:`relative inline-block ${r}`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onTouchStart:()=>a(!0),onTouchEnd:()=>setTimeout(()=>a(!1),2e3),children:[t,i&&o.jsxs("div",{className:`absolute z-50 ${l[n]}`,children:[o.jsx(Ye,{className:`px-3 py-2 text-sm max-w-xs shadow-lg border-2 transition-all duration-200 animate-pop-in ${s?"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200 text-blue-800":"bg-white border-gray-200 text-gray-700"}`,children:o.jsxs("div",{className:"relative",children:[e,s&&o.jsx("div",{className:"absolute -right-1 -top-1 text-xs",children:""})]})}),o.jsx("div",{className:`absolute w-0 h-0 border-4 ${c[n]}`})]})]})}var Jk="Progress",Zk=100,[Kse,K2e]=$s(Jk),[Qse,Xse]=Kse(Jk),H7=N.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=Jse,...a}=e;(s||s===0)&&!aA(s)&&console.error(Zse(`${s}`,"Progress"));const l=aA(s)?s:Zk;r!==null&&!oA(r,l)&&console.error(eie(`${r}`,"Progress"));const c=oA(r,l)?r:null,u=x1(c)?i(c,l):void 0;return o.jsx(Qse,{scope:n,value:c,max:l,children:o.jsx(yt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":x1(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":K7(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});H7.displayName=Jk;var Y7="ProgressIndicator",G7=N.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=Xse(Y7,n);return o.jsx(yt.div,{"data-state":K7(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});G7.displayName=Y7;function Jse(e,t){return`${Math.round(e/t*100)}%`}function K7(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function x1(e){return typeof e=="number"}function aA(e){return x1(e)&&!isNaN(e)&&e>0}function oA(e,t){return x1(e)&&!isNaN(e)&&e<=t&&e>=0}function Zse(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Zk}\`.`}function eie(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Zk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Q7=H7,tie=G7;const X7=N.forwardRef(({className:e,value:t,...n},r)=>o.jsx(Q7,{ref:r,className:Je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:o.jsx(tie,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));X7.displayName=Q7.displayName;function nie({onClose:e}){const[t,n]=N.useState(!1);N.useEffect(()=>{const s=setTimeout(()=>n(!0),500);return()=>clearTimeout(s)},[]);const r=Array.from({length:50},(s,i)=>({id:i,color:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8"][i%7],delay:Math.random()*3,duration:3+Math.random()*2,left:Math.random()*100,size:8+Math.random()*4}));return o.jsxs("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:[o.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:r.map(s=>o.jsx("div",{className:"absolute animate-bounce",style:{left:`${s.left}%`,top:"-20px",backgroundColor:s.color,width:`${s.size}px`,height:`${s.size}px`,borderRadius:"2px",animationDelay:`${s.delay}s`,animationDuration:`${s.duration}s`,animationIterationCount:"infinite",transform:"rotate(45deg)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}},s.id))}),o.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((s,i)=>o.jsx("div",{className:"absolute animate-ping",style:{left:`${20+i*12}%`,top:`${30+i%3*20}%`,animationDelay:`${i*.3}s`,animationDuration:"2s"},children:o.jsx(rn,{className:"h-6 w-6 text-yellow-400"})},i))}),o.jsx(Ye,{className:`w-full max-w-2xl max-h-[80vh] overflow-y-auto bg-white shadow-2xl transition-all duration-700 ${t?"scale-100 opacity-100":"scale-75 opacity-0"}`,children:o.jsxs(Xe,{className:"p-6 sm:p-8 text-center space-y-6",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx(zl,{className:"h-16 w-16 sm:h-20 sm:w-20 text-green-500 animate-pulse"}),o.jsx("div",{className:"absolute -top-2 -right-2",children:o.jsx(rn,{className:"h-8 w-8 text-yellow-400 animate-spin"})})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:" Daily Check-In Complete! "}),o.jsx("p",{className:"text-lg sm:text-xl text-green-600 font-semibold",children:"Amazing work on prioritizing your wellness today!"})]}),o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 sm:p-6 text-left space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-blue-800",children:[o.jsx(Kn,{className:"h-5 w-5"}),o.jsx("h3",{className:"font-semibold text-lg",children:"Why Daily Check-Ins Matter"})]}),o.jsxs("div",{className:"space-y-3 text-gray-700",children:[o.jsxs("p",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-500 font-bold",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Self-Awareness:"})," Regular reflection helps you recognize patterns in your emotional and physical well-being"]})]}),o.jsxs("p",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-500 font-bold",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Early Intervention:"})," Catching stress or burnout early allows you to take action before it impacts your family"]})]}),o.jsxs("p",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-500 font-bold",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Parenting Growth:"})," Tracking your confidence and connection helps you become the parent you want to be"]})]})]})]}),o.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 sm:p-6 text-left space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-purple-800",children:[o.jsx(ji,{className:"h-5 w-5"}),o.jsx("h3",{className:"font-semibold text-lg",children:"Your Wellness Insights"})]}),o.jsxs("div",{className:"space-y-2 text-gray-700",children:[o.jsx("p",{children:"Your check-in data will help us provide:"}),o.jsxs("div",{className:"space-y-2 ml-4",children:[o.jsxs("p",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-purple-500",children:""}),o.jsx("span",{children:"Personalized wellness trends and patterns"})]}),o.jsxs("p",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-purple-500",children:""}),o.jsx("span",{children:"AI-powered parenting tips based on your current state"})]}),o.jsxs("p",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-purple-500",children:""}),o.jsx("span",{children:"Early warning signals for burnout or stress"})]}),o.jsxs("p",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-purple-500",children:""}),o.jsx("span",{children:"Celebration of your parenting victories and growth"})]})]})]})]}),o.jsx("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:o.jsx("p",{className:"text-green-800 font-medium",children:"Keep up the excellent work! Consistent check-ins lead to better insights and a healthier, happier parenting journey."})}),o.jsx(ve,{onClick:e,className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold py-3 text-lg transition-all hover-scale button-press",children:"Continue Your Journey "})]})})]})}const lA=[{key:"energyLevel",title:"Energy Level",question:"How was your energy level today?",options:[{value:"completely_drained",label:"Completely Drained",emoji:""},{value:"exhausted",label:"Exhausted",emoji:""},{value:"very_tired",label:"Very Tired",emoji:""},{value:"tired",label:"Tired",emoji:""},{value:"okay",label:"Okay",emoji:""},{value:"good",label:"Good",emoji:""},{value:"energetic",label:"Energetic",emoji:""},{value:"vibrant",label:"Vibrant",emoji:""}]},{key:"patienceLevel",title:"Patience Level",question:"How was your patience level today?",options:[{value:"explosive",label:"Explosive",emoji:""},{value:"very_short_fuse",label:"Very Short Fuse",emoji:""},{value:"short_fuse",label:"Short Fuse",emoji:""},{value:"impatient",label:"Impatient",emoji:""},{value:"neutral",label:"Neutral",emoji:""},{value:"mostly_patient",label:"Mostly Patient",emoji:""},{value:"patient",label:"Patient",emoji:""},{value:"zen",label:"Zen",emoji:""}]},{key:"parentChildConnection",title:"Parent-Child Connection",question:"How was your connection with your child today?",options:[{value:"completely_disconnected",label:"Completely Disconnected",emoji:""},{value:"very_distant",label:"Very Distant",emoji:""},{value:"distant",label:"Distant",emoji:""},{value:"strained",label:"Strained",emoji:""},{value:"okay",label:"Okay",emoji:""},{value:"good",label:"Good",emoji:""},{value:"close",label:"Close",emoji:""},{value:"deeply_bonded",label:"Deeply Bonded",emoji:""}]},{key:"parentingConfidence",title:"Parenting Confidence",question:"How confident did you feel in your parenting today?",options:[{value:"completely_lost",label:"Completely Lost",emoji:""},{value:"very_doubting",label:"Very Doubting",emoji:""},{value:"doubting",label:"Doubting",emoji:""},{value:"unsure",label:"Unsure",emoji:""},{value:"neutral",label:"Neutral",emoji:""},{value:"somewhat_confident",label:"Somewhat Confident",emoji:""},{value:"confident",label:"Confident",emoji:""},{value:"very_empowered",label:"Very Empowered",emoji:""}]},{key:"parentSelfCare",title:"Parent Self-Care",question:"How did you take care of yourself today?",options:[{value:"completely_neglected",label:"Completely Neglected",emoji:""},{value:"very_neglected",label:"Very Neglected",emoji:""},{value:"neglected",label:"Neglected",emoji:""},{value:"minimal",label:"Minimal",emoji:""},{value:"basic",label:"Basic",emoji:""},{value:"decent",label:"Decent",emoji:""},{value:"good",label:"Good",emoji:""},{value:"deeply_nurtured",label:"Deeply Nurtured",emoji:""}]},{key:"supportSystemContact",title:"Support System Contact",question:"How was your connection with your support system today?",options:[{value:"completely_isolated",label:"Completely Isolated",emoji:""},{value:"very_isolated",label:"Very Isolated",emoji:""},{value:"isolated",label:"Isolated",emoji:""},{value:"alone",label:"Alone",emoji:""},{value:"some_contact",label:"Some Contact",emoji:""},{value:"decent_contact",label:"Decent Contact",emoji:""},{value:"connected",label:"Connected",emoji:""},{value:"very_supported",label:"Very Supported",emoji:""}]},{key:"argumentsOrTension",title:"Arguments or Tension in Home",question:"How much tension or conflict was there at home today?",options:[{value:"explosive_conflict",label:"Explosive Conflict",emoji:""},{value:"very_high_conflict",label:"Very High Conflict",emoji:""},{value:"high_conflict",label:"High Conflict",emoji:""},{value:"moderate_tension",label:"Moderate Tension",emoji:""},{value:"some_tension",label:"Some Tension",emoji:""},{value:"minor_issues",label:"Minor Issues",emoji:""},{value:"mostly_calm",label:"Mostly Calm",emoji:""},{value:"completely_peaceful",label:"Completely Peaceful",emoji:""}]},{key:"emotionalRegulation",title:"Emotional Regulation",question:"How well did you handle your emotions today?",options:[{value:"completely_overwhelmed",label:"Completely Overwhelmed",emoji:""},{value:"very_overwhelmed",label:"Very Overwhelmed",emoji:""},{value:"overwhelmed",label:"Overwhelmed",emoji:""},{value:"struggled",label:"Struggled",emoji:""},{value:"managed",label:"Managed",emoji:""},{value:"handled_well",label:"Handled Well",emoji:""},{value:"balanced",label:"Balanced",emoji:""},{value:"completely_centered",label:"Completely Centered",emoji:""}]},{key:"disciplineStyle",title:"Discipline Style Used Today",question:"What discipline approach did you use most today?",options:[{value:"very_harsh",label:"Very Harsh",emoji:""},{value:"too_harsh",label:"Too Harsh",emoji:""},{value:"harsh",label:"Harsh",emoji:""},{value:"strict",label:"Strict",emoji:""},{value:"firm_but_fair",label:"Firm but Fair",emoji:""},{value:"gentle",label:"Gentle",emoji:""},{value:"kind",label:"Kind",emoji:""},{value:"loving_guide",label:"Loving Guide",emoji:""}]},{key:"winsOfTheDay",title:"Wins of the Day",question:"What positive moments did you have today?",options:[{value:"very_rough_day",label:"Very Rough Day",emoji:""},{value:"rough_day",label:"Rough Day",emoji:""},{value:"challenging_day",label:"Challenging Day",emoji:""},{value:"few_bright_spots",label:"Few Bright Spots",emoji:""},{value:"some_wins",label:"Some Wins",emoji:""},{value:"good_moments",label:"Good Moments",emoji:""},{value:"great_moments",label:"Great Moments",emoji:""},{value:"absolutely_amazing",label:"Absolutely Amazing",emoji:""}]}];function J7({onComplete:e,onCancel:t}){const[n,r]=N.useState(0),[s,i]=N.useState({}),[a,l]=N.useState(!1),c=lA[n],u=lA.length,d=(n+1)/u*100,h=b=>{const v={...s,[c.key]:b};i(v),setTimeout(()=>{n<u-1?r(n+1):l(!0)},500)},f=()=>{n>0&&r(n-1)},p=()=>{n<u-1&&r(n+1)},g=()=>{l(!1),e(s)},x=s[c.key];return a?o.jsx(nie,{onClose:g}):o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(Ye,{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsxs(Mt,{className:"pb-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Dt,{className:"text-xl font-semibold text-neutral-800",children:"Daily Check-In"}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:t,children:""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm text-neutral-600",children:[o.jsxs("span",{children:["Question ",n+1," of ",u]}),o.jsxs("span",{children:[Math.round(d),"% complete"]})]}),o.jsx(X7,{value:d,className:"h-2"})]})]}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-800",children:c.title}),o.jsx("p",{className:"text-neutral-600",children:c.question})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3",children:c.options.map(b=>o.jsxs(ve,{variant:s[c.key]===b.value?"default":"outline",size:"sm",className:`h-auto p-2 sm:p-3 flex flex-col items-center space-y-1 text-center transition-all hover-scale button-press ${s[c.key]===b.value?"bg-primary text-white shadow-lg scale-105":"hover:bg-primary/5"}`,onClick:()=>h(b.value),children:[o.jsx("span",{className:"text-lg sm:text-xl",children:b.emoji}),o.jsx("span",{className:"text-xs sm:text-sm font-medium leading-tight",children:b.label}),s[c.key]===b.value&&o.jsx(zl,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"})]},b.value))}),o.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[o.jsxs(ve,{variant:"outline",onClick:f,disabled:n===0,children:[o.jsx(kR,{className:"h-4 w-4 mr-2"}),"Previous"]}),o.jsxs(ve,{variant:"outline",onClick:p,disabled:n===u-1||!x,children:["Next",o.jsx(ub,{className:"h-4 w-4 ml-2"})]})]})]})]})})}function Z7({message:e="AI is thinking...",size:t="md"}){const r={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[t];return o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsxs("div",{className:"relative mb-8",children:[o.jsx(rn,{className:`${r} text-primary animate-pulse`,style:{animationDuration:"1.5s",animationTimingFunction:"ease-in-out"}}),o.jsxs("div",{className:"absolute inset-0 -m-8",children:[o.jsx(rn,{className:"h-3 w-3 text-purple-400 absolute top-0 left-1/2 transform -translate-x-1/2 animate-bounce",style:{animationDelay:"0.2s",animationDuration:"2s"}}),o.jsx(rn,{className:"h-2 w-2 text-blue-400 absolute top-1 right-0 animate-pulse",style:{animationDelay:"0.8s",animationDuration:"1.8s"}}),o.jsx(rn,{className:"h-3 w-3 text-pink-400 absolute right-0 top-1/2 transform -translate-y-1/2 animate-bounce",style:{animationDelay:"0.4s",animationDuration:"2.2s"}}),o.jsx(rn,{className:"h-2 w-2 text-indigo-400 absolute bottom-1 right-1 animate-pulse",style:{animationDelay:"1.2s",animationDuration:"1.6s"}}),o.jsx(rn,{className:"h-3 w-3 text-teal-400 absolute bottom-0 left-1/2 transform -translate-x-1/2 animate-bounce",style:{animationDelay:"0.6s",animationDuration:"2.4s"}}),o.jsx(rn,{className:"h-2 w-2 text-green-400 absolute bottom-1 left-1 animate-pulse",style:{animationDelay:"1.4s",animationDuration:"1.4s"}}),o.jsx(rn,{className:"h-3 w-3 text-yellow-400 absolute left-0 top-1/2 transform -translate-y-1/2 animate-bounce",style:{animationDelay:"1s",animationDuration:"2.6s"}}),o.jsx(rn,{className:"h-2 w-2 text-orange-400 absolute top-1 left-1 animate-pulse",style:{animationDelay:"0.3s",animationDuration:"2s"}})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-primary font-medium text-sm animate-pulse",children:e}),o.jsxs("div",{className:"flex justify-center space-x-1 mt-2",children:[o.jsx("div",{className:"w-1 h-1 bg-primary rounded-full animate-bounce",style:{animationDelay:"0s"}}),o.jsx("div",{className:"w-1 h-1 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),o.jsx("div",{className:"w-1 h-1 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]})]})}function e9({onInsightClick:e}){var L,P;const[t,n]=N.useState(null),[r,s]=N.useState(!1),[i,a]=N.useState(null),l=Bs();console.log("Current analysisData state:",i),console.log("Selected insight:",t),console.log("Is loading:",r);const{data:c}=Ht({queryKey:["/auth/user"]}),u=!!(c!=null&&c.success&&(c!=null&&c.user)),{data:d}=Ht({queryKey:["/api/journal-entries"],enabled:u,queryFn:async()=>{const D=localStorage.getItem("parentjourney_token"),F=await fetch("/api/journal-entries",{headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},credentials:"include"});if(!F.ok)throw new Error("Failed to fetch journal entries");return F.json()}}),{data:h}=Ht({queryKey:["/api/child-profiles"],enabled:u,queryFn:async()=>{const D=localStorage.getItem("parentjourney_token"),F=await fetch("/api/child-profiles",{headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},credentials:"include"});if(!F.ok)throw new Error("Failed to fetch child profiles");return F.json()}}),{data:f}=Ht({queryKey:["/api/parent-profile"],enabled:u,queryFn:async()=>{const D=localStorage.getItem("parentjourney_token"),F=await fetch("/api/parent-profile",{headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},credentials:"include"});if(!F.ok)throw new Error("Failed to fetch parent profile");return F.json()}}),p=async()=>{localStorage.getItem("parentjourney_token")&&(await l.invalidateQueries({queryKey:["/api/child-profiles"]}),await l.invalidateQueries({queryKey:["/api/journal-entries"]}),await l.invalidateQueries({queryKey:["/api/parent-profile"]}),console.log(" Forced refresh of all data queries"))},g=async D=>{n(D),s(!0);try{await p();const F=localStorage.getItem("parentjourney_token"),U=c,W=(U==null?void 0:U.success)&&(U==null?void 0:U.user)&&F;console.log(" DEBUGGING AI Analysis Request:"),console.log("- Auth user data:",U),console.log(`- Token present: ${F?"YES":"NO"}`),console.log(`- isAuthenticated: ${u}`),console.log(`- hasValidAuth: ${W}`),console.log(`- Available data - entries: ${(d==null?void 0:d.length)||0}, children: ${(h==null?void 0:h.length)||0}, parent: ${f?"present":"missing"}`),await new Promise(J=>setTimeout(J,1e3));const H=l.getQueryData(["/api/child-profiles"])||[],R=l.getQueryData(["/api/journal-entries"])||[],G=l.getQueryData(["/api/parent-profile"])||null;let M=R,ae=H,z=G;if((!M||M.length===0)&&F){console.log(" Cache empty, fetching entries directly...");try{const J=await fetch("/api/journal-entries",{headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},credentials:"include"});J.ok&&(M=await J.json(),console.log(` Direct fetch got ${(M==null?void 0:M.length)||0} entries`))}catch(J){console.log(" Direct entries fetch failed:",J)}}if((!ae||ae.length===0)&&F){console.log(" Cache empty, fetching child profiles directly...");try{const J=await fetch("/api/child-profiles",{headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},credentials:"include"});J.ok&&(ae=await J.json(),console.log(` Direct fetch got ${(ae==null?void 0:ae.length)||0} child profiles`))}catch(J){console.log(" Direct child profiles fetch failed:",J)}}if(!z&&F){console.log(" Cache empty, fetching parent profile directly...");try{const J=await fetch("/api/parent-profile",{headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},credentials:"include"});J.ok&&(z=await J.json(),console.log(` Direct fetch got parent profile: ${(z==null?void 0:z.name)||"unknown"}`))}catch(J){console.log(" Direct parent profile fetch failed:",J)}}if(console.log(` FINAL DATA CHECK - entries: ${(M==null?void 0:M.length)||0}, children: ${(ae==null?void 0:ae.length)||0} (${(ae==null?void 0:ae.map(J=>J.name).join(", "))||"none"}), parent: ${(z==null?void 0:z.name)||"missing"}`),!(F&&(((M==null?void 0:M.length)??0)>0||((ae==null?void 0:ae.length)??0)>0||z)))console.log(" No token or no data available, showing explainer"),a(_(D));else{console.log(" DATA AND TOKEN FOUND - Proceeding with REAL AI analysis"),console.log(`- Children found: ${(ae==null?void 0:ae.map(ce=>ce.name).join(", "))||"none"}`),console.log(`- Parent: ${(z==null?void 0:z.name)||"unknown"}`),console.log(`- Journal entries: ${(M==null?void 0:M.length)||0}`);const se=await(await fetch("/api/auth/user",{headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},credentials:"include"})).json();if(console.log(" Auth test result:",se),!se.success){console.log(" Auth test failed, using fallback with available data");const ce=C(D,M||[],ae||[],z);a(ce);return}console.log(` Making REAL AI analysis request for: ${D}`),console.log(` Children: ${(ae==null?void 0:ae.map(ce=>ce.name).join(", "))||"none"}`),console.log(` Parent: ${(z==null?void 0:z.name)||"unknown"}`),console.log(` Journal Entries to send: ${(M==null?void 0:M.length)||0} entries`),console.log(" ENTRIES TO BE SENT:",M==null?void 0:M.map(ce=>{var xe,Pe,Ce;return{title:ce.title||((xe=ce.content)==null?void 0:xe.substring(0,50)),content:(Pe=ce.content)==null?void 0:Pe.substring(0,100),mood:ce.mood,childName:((Ce=ae==null?void 0:ae.find(De=>De.id===ce.childProfileId))==null?void 0:Ce.name)||"General"}})),console.log(" CHILD PROFILES TO BE SENT:",ae==null?void 0:ae.map(ce=>({name:ce.name,age:ce.dateOfBirth?Math.floor((Date.now()-new Date(ce.dateOfBirth).getTime())/(365.25*24*60*60*1e3)):"unknown"}))),console.log(" PARENT PROFILE TO BE SENT:",z?{name:z.name,parentingStyle:z.parentingStyle}:"null");const re=await fetch(`/api/ai-analysis/${D}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},credentials:"include",body:JSON.stringify({entries:M||[],childProfiles:ae||[],parentProfile:z})});if(!re.ok){const ce=await re.text();throw console.error(` AI analysis API failed: ${re.status} ${re.statusText} - ${ce}`),new Error(`Failed to fetch AI analysis: ${re.statusText}`)}const oe=await re.json();console.log(` SUCCESS: Received REAL AI analysis result for ${D}:`,oe),a(oe)}}catch(F){console.error(" Error fetching AI analysis:",F);const U=localStorage.getItem("parentjourney_token"),W=c,H=(W==null?void 0:W.success)&&(W==null?void 0:W.user)&&U;if(d&&d.length>0||h&&h.length>0||f||H){console.log(" API failed, using local fallback processing with user data");const G=C(D,d||[],h||[],f);a(G)}else console.log(" No auth and no user data, showing explainer"),a(_(D))}finally{s(!1)}e==null||e(D)},x=D=>{const F=new Date(D),U=new Date;let W=(U.getFullYear()-F.getFullYear())*12;W+=U.getMonth()-F.getMonth(),U.getDate()<F.getDate()&&W--;const H=Math.floor(W/12),R=W%12;return H===0?`${R} ${R===1?"month":"months"} old`:R===0?`${H} ${H===1?"year":"years"} old`:`${H} ${H===1?"year":"years"}, ${R} ${R===1?"month":"months"} old`},b=D=>{const F=new Date(D),U=new Date,W=(U.getFullYear()-F.getFullYear())*12+U.getMonth()-F.getMonth();return W<12?"Infant Development":W<36?"Toddler Development":W<60?"Preschool Development":W<144?"School-Age Development":"Adolescent Development"},v=D=>{const F=new Date(D),U=new Date,W=(U.getFullYear()-F.getFullYear())*12+U.getMonth()-F.getMonth();return W<12?["Motor skills and physical coordination","Attachment and bonding development","Communication through crying and gestures","Sensory exploration and recognition"]:W<36?["Language explosion and vocabulary growth","Independence and self-assertion","Social play and interaction skills","Emotional regulation development"]:W<60?["Social skills and peer interaction","Emotional expression and empathy","Creative play and imagination","Pre-academic skills development"]:W<144?["Academic skills and learning abilities","Friendship formation and social dynamics","Self-confidence and identity development","Problem-solving and critical thinking"]:["Identity formation and self-discovery","Peer relationships and social belonging","Independence and responsibility","Future planning and goal setting"]},y=D=>{const F=["Emotional regulation","Social skills","Independence","Creative expression"],U=D.personalityTraits||[];return(U.includes("shy")||U.includes("introverted"))&&F.push("Building confidence in social situations"),(U.includes("energetic")||U.includes("active"))&&F.push("Channeling energy into positive activities"),(U.includes("sensitive")||U.includes("emotional"))&&F.push("Emotional processing and coping skills"),F.slice(0,4)},w=D=>{const F=D.personalityTraits||[];let U="Encourage exploration through play, maintain consistent routines, and provide positive reinforcement. ";return(F.includes("creative")||F.includes("imaginative"))&&(U+="Foster their creativity with art, music, and open-ended play activities. "),(F.includes("analytical")||F.includes("curious"))&&(U+="Provide opportunities for exploration, experiments, and problem-solving challenges. "),(F.includes("social")||F.includes("outgoing"))&&(U+="Arrange playdates and group activities to support their social nature. "),U},_=D=>{switch(D){case"parenting-progress":return{isExplainer:!0,title:"Your Parenting Progress Analysis",description:"This analysis provides personalized insights into your parenting journey, growth areas, and progress over time.",features:["Track your parenting strengths and achievements","Identify areas for continued growth and development","Receive personalized recommendations based on your journal entries","Monitor your emotional patterns and stress management"],callToAction:"Sign up or log in to see your personalized parenting progress analysis based on your journal entries and experiences."};case"child-development":return{isExplainer:!0,title:"Child Development Patterns",description:"Get comprehensive insights into each child's developmental progress, milestones, and personalized recommendations.",features:["Age-appropriate milestone tracking for each child","Personalized development focus areas","Custom recommendations based on personality traits","Family dynamics and sibling interaction insights"],callToAction:"Create an account to track your children's development patterns and receive AI-powered insights tailored to their unique needs."};default:return{isExplainer:!0,title:"AI-Powered Insights",description:"Discover personalized parenting insights based on your unique family situation and journal entries.",features:["Personalized analysis of your parenting journey","Child-specific developmental insights","Mood and stress pattern recognition","Customized recommendations and guidance"],callToAction:"Join ParentJourney to unlock comprehensive AI insights for your family."}}},C=(D,F,U,W)=>{if(console.log(`Generating user-specific data for: ${D}`),console.log(`Entries count: ${(F==null?void 0:F.length)||0}`),console.log(`Child profiles count: ${(U==null?void 0:U.length)||0}`),console.log(`Parent profile exists: ${!!W}`),!F||F.length===0)return{noDataMessage:"Start journaling to unlock personalized AI insights based on your parenting experiences.",isEmptyState:!0};switch(D){case"parenting-progress":return E(F);case"child-development":return O(F,U);case"personalized-tips":return T(F,U,W);case"considerations":return $(F,U,W);default:return{noDataMessage:"Analysis not available yet. Continue journaling to unlock personalized insights.",isEmptyState:!0}}},E=(D,F)=>{const U=D.slice(0,10),W=D.length,H=D.filter(M=>M.mood).map(M=>parseFloat(M.mood)||5),R=H.length>0?(H.reduce((M,ae)=>M+ae,0)/H.length).toFixed(1):"Not tracked",G=D.filter(M=>M.aiFeedback&&M.aiFeedback.trim()!=="").length;return{progressOverview:`Based on your ${W} journal entries, you're actively documenting your parenting journey. Your average mood rating is ${R}/10, showing your emotional awareness and commitment to growth.`,strengths:[`Consistent journaling practice with ${W} documented experiences`,"Active reflection on parenting situations and outcomes",G>0?`Engaged with AI feedback on ${G} entries`:"Growing awareness through self-reflection","Commitment to understanding and improving your parenting approach"],growthAreas:[H.length>0&&R<"7"?"Focus on stress management and self-care strategies":"Continue maintaining emotional balance","Explore new parenting strategies based on your documented experiences","Consider patterns in challenging situations from your journal entries","Celebrate progress and acknowledge your parenting wins"],nextSteps:`Continue your journaling practice and focus on patterns you've documented. With ${W} entries, you have valuable insights to draw from. Consider what themes emerge from your recent experiences.`,userStats:{totalEntries:W,averageMood:R,entriesWithFeedback:G,recentThemes:U.slice(0,3).map(M=>M.title||"Untitled entry")}}},O=(D,F)=>{const U=D.filter(W=>W.childProfileId);return{developmentOverview:`Based on your journal entries about your ${(F==null?void 0:F.length)||0} child${(F==null?void 0:F.length)===1?"":"ren"}, you're actively tracking their growth and development. You've documented ${U.length} child-specific experiences.`,children:(F==null?void 0:F.map(W=>{const H=D.filter(R=>R.childProfileId===W.id);return{name:W.name,age:x(W.dateOfBirth),developmentalStage:b(W.dateOfBirth),milestones:v(W.dateOfBirth),focusAreas:y(W),recommendations:w(W),entryCount:H.length,recentExperiences:H.slice(0,2).map(R=>R.title||"Recent experience")}}))||[],familyDynamics:F&&F.length>1?`With ${F.length} children, you're managing different developmental needs and personalities. Your journal shows attention to each child's individual journey.`:`You're focused on your child's individual development with ${U.length} documented experiences specific to their growth.`}},T=(D,F,U)=>{var R,G;const W=(U==null?void 0:U.name)||"Parent";return{personalizedTips:[{category:"Based on Your Journal Patterns",tip:D.slice(0,5).filter(M=>M.content&&(M.content.toLowerCase().includes("difficult")||M.content.toLowerCase().includes("challenge")||M.content.toLowerCase().includes("struggle"))).length>0?`${W}, I notice you've documented some challenging moments in your recent entries. Consider creating a simple response plan for similar situations with ${(F==null?void 0:F.map(M=>M.name).join(" and "))||"your children"}.`:`${W}, your recent entries show thoughtful reflection on your parenting journey. Try documenting what worked well with ${(F==null?void 0:F.map(M=>M.name).join(" and "))||"your family"} to build on those successes.`,reasoning:`Your ${D.length} journal entries provide valuable insights into what strategies align with your family's specific needs and dynamics.`,implementation:"Review your last 3 entries and identify one successful approach you can replicate."},{category:"Child-Specific Strategies",tip:F&&F.length>0?`For ${((R=F[0])==null?void 0:R.name)||"your child"} at ${x((G=F[0])==null?void 0:G.dateOfBirth)}, ${W}, focus on age-appropriate independence activities that match their current developmental stage.`:`${W}, create simple routines that support your child's current developmental stage based on the experiences you've documented.`,reasoning:`Your child profiles and journal entries about ${(F==null?void 0:F.map(M=>M.name).join(" and "))||"your children"} show specific developmental needs that can guide your approach.`,implementation:"Choose one small independence skill to practice with them this week."},{category:"Self-Care for Parents",tip:`${W}, with ${D.length} journal entries, you're clearly committed to growth and reflection. Now prioritize 10 minutes daily for personal relaxation or mindfulness.`,reasoning:"Your consistent journaling shows dedication to your family - balancing this with self-care will support your long-term well-being and patience.",implementation:"Set a daily 10-minute timer for a personal activity that brings you peace."}]}},$=(D,F,U)=>{const W=(U==null?void 0:U.name)||"Parent",H=(F==null?void 0:F.map(R=>R.name).join(" and "))||"your children";return{considerations:[{concept:"Journal Pattern Recognition",description:`${W}, with your ${D.length} documented entries, you might notice recurring themes in your parenting experiences with ${H}. What patterns do you see emerging in your most challenging or successful moments?`,importance:`Your consistent documentation provides valuable data about what approaches work best for your specific family dynamics. Based on your entries, you can identify what strategies consistently lead to positive outcomes with ${H}.`},{concept:"Individual Child Approaches",description:F&&F.length>0?`${W}, each of your ${F.length} child${F.length===1?"":"ren"} - ${H} - has unique needs and personalities. Are you adapting your parenting style to match each of their individual characteristics?`:`${W}, consider how your child's unique personality traits, as documented in your journal entries, influence the most effective parenting strategies.`,importance:`Your journal entries about ${H} provide insights into their individual responses to different approaches. Tailoring your parenting style to each child's personality can lead to more effective communication and stronger relationships.`},{concept:"Emotional Regulation Modeling",description:`${W}, based on your journal reflections, children learn emotional regulation by observing how you handle stress and challenging moments with ${H}. How are you modeling healthy coping strategies?`,importance:`Your documented experiences show that when you remain calm during difficult moments, you provide a secure foundation that helps ${H} learn to self-regulate over time. Your journal entries can help you identify patterns in your emotional responses.`}]}},B=[{id:"parenting-progress",title:"Your Growth as a Parent",description:"AI insights on your parenting strengths, patterns, and growthbased on your journal entries and reflections. We'll highlight key moments, trends, and tips you can use today.",tooltip:"Track your parenting journey progress through AI analysis of your journal entries",icon:o.jsx(ji,{className:"h-5 w-5 stroke-1"}),color:"text-blue-700",bgColor:"bg-white",borderColor:"border-blue-300",hoverBorder:"hover:border-blue-500",hoverBg:"hover:bg-blue-50"},{id:"child-development",title:"Your Children's Development",description:"Understand your child's developmental stages and behavior trends with personalized guidance just for your family. We'll highlight key moments, trends, and tips you can use today.",tooltip:"Get developmental insights specific to each of your children's ages and personalities",icon:o.jsx(gs,{className:"h-5 w-5 stroke-1"}),color:"text-blue-700",bgColor:"bg-white",borderColor:"border-blue-300",hoverBorder:"hover:border-blue-500",hoverBg:"hover:bg-blue-50"},{id:"personalized-tips",title:"Personalized Tips",description:"Custom recommendations based on your parenting style, child's personality, and recent experiences",tooltip:"Receive actionable tips tailored to your family's unique situation and parenting style",icon:o.jsx(Na,{className:"h-5 w-5 stroke-1"}),color:"text-blue-700",bgColor:"bg-white",borderColor:"border-blue-300",hoverBorder:"hover:border-blue-500",hoverBg:"hover:bg-blue-50"},{id:"considerations",title:"Have You Considered",description:"Three thoughtful suggestions to enhance your parenting journey and family dynamics",tooltip:"Explore new parenting perspectives and strategies you might not have considered",icon:o.jsx(kg,{className:"h-5 w-5 stroke-1"}),color:"text-blue-700",bgColor:"bg-white",borderColor:"border-blue-300",hoverBorder:"hover:border-blue-500",hoverBg:"hover:bg-blue-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border-2 border-blue-200 shadow-lg p-4 animate-pop-fade ring-2 ring-blue-100/50",children:[o.jsxs("h3",{className:"text-xl font-bold text-blue-900 mb-3 flex items-center",children:[o.jsx(rn,{className:"mr-2 h-6 w-6 text-blue-600"}),"AI Insights & Guidance"]}),o.jsx("p",{className:"text-sm text-blue-700 mb-4 leading-relaxed",children:"Personalized insights powered by your journal entries and parenting journey"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:B.map(D=>o.jsxs("div",{onClick:()=>g(D.id),className:`${D.bgColor} rounded-lg p-3 sm:p-4 border ${D.borderColor} interactive-card hover-lift button-press cursor-pointer ${D.hoverBorder} ${D.hoverBg} hover:shadow-md transition-all duration-200`,title:D.tooltip,children:[o.jsxs("div",{className:"flex flex-col items-center text-center mb-3 sm:hidden",children:[o.jsx("div",{className:`${D.color} mb-2 p-2 bg-blue-100 rounded-full`,children:D.icon}),o.jsx("h4",{className:`font-medium ${D.color} text-sm`,children:D.title})]}),o.jsxs("div",{className:"hidden sm:flex items-start mb-2",children:[o.jsx("div",{className:`${D.color} mr-2 flex-shrink-0`,children:D.icon}),o.jsx("h4",{className:`font-medium ${D.color} flex-1`,children:D.title})]}),o.jsx("p",{className:"text-xs sm:text-sm text-neutral-700 leading-relaxed px-1 sm:px-0",children:D.description})]},D.id))})]}),t&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:()=>n(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto relative",onClick:D=>D.stopPropagation(),style:{backgroundColor:"white",borderRadius:"8px",maxWidth:"672px",width:"100%",margin:"0 16px",maxHeight:"80vh",overflowY:"auto",position:"relative",padding:"24px"},children:[o.jsx("button",{onClick:()=>n(null),className:"absolute top-4 right-4 z-50 p-2 hover:bg-neutral-100 rounded-full transition-colors",style:{position:"absolute",top:"16px",right:"16px",zIndex:50,padding:"8px",borderRadius:"50%",border:"none",backgroundColor:"transparent",cursor:"pointer"},children:o.jsx(Kr,{className:"h-4 w-4 text-neutral-500 hover:text-neutral-700"})}),o.jsxs("div",{className:"pr-12 pb-4",style:{paddingRight:"48px",paddingBottom:"16px"},children:[o.jsxs("h2",{className:"flex items-center gap-2 text-lg font-bold text-neutral-900",style:{fontSize:"18px",fontWeight:"bold",color:"#171717",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(rn,{className:"h-5 w-5 text-primary"}),(L=B.find(D=>D.id===t))==null?void 0:L.title]}),o.jsx("p",{className:"text-sm text-neutral-600 mt-2",style:{fontSize:"14px",color:"#525252",marginTop:"8px"},children:(P=B.find(D=>D.id===t))==null?void 0:P.description})]}),o.jsx("div",{className:"space-y-4",style:{marginTop:"16px"},children:r?o.jsx(Z7,{message:"AI is analyzing your parenting journey...",size:"lg"}):o.jsxs("div",{children:[t==="parenting-progress"&&o.jsx(rie,{data:i}),t==="child-development"&&o.jsx(sie,{data:i}),t==="personalized-tips"&&o.jsx(iie,{data:i}),t==="considerations"&&o.jsx(aie,{data:i})]})})]})})]})}function rie({data:e}){return console.log("ParentingProgressAnalysis received data:",e),!e||e.isEmptyState?o.jsx("div",{className:"text-center py-8",children:o.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 mb-4",children:[o.jsx(Wo,{className:"h-12 w-12 text-neutral-400 mx-auto mb-3"}),o.jsx("h3",{className:"font-medium text-neutral-700 mb-2",children:"No Journal Data Yet"}),o.jsx("p",{className:"text-sm text-neutral-600 leading-relaxed",children:(e==null?void 0:e.noDataMessage)||"Start writing journal entries to see your personalized parenting progress analysis."})]})}):e?e.isExplainer?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[o.jsxs("h4",{className:"font-semibold text-blue-800 mb-4 flex items-center text-lg",children:[o.jsx(rn,{className:"mr-3 h-5 w-5"}),e.title]}),o.jsx("p",{className:"text-blue-700 leading-relaxed mb-4",children:e.description}),o.jsx("div",{className:"space-y-3",children:e.features.map((t,n)=>o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-blue-700 leading-relaxed",children:t})]},n))})]}),o.jsxs("div",{className:"bg-amber-50 rounded-xl p-6 border border-amber-200 text-center",children:[o.jsx("h5",{className:"font-medium text-amber-800 mb-3",children:"Ready to Get Started?"}),o.jsx("p",{className:"text-amber-700 leading-relaxed",children:e.callToAction})]})]}):o.jsxs("div",{className:"space-y-6",style:{minHeight:"400px",display:"block",visibility:"visible"},children:[o.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 sm:p-6 border border-blue-200",style:{backgroundColor:"#eff6ff",border:"1px solid #bfdbfe"},children:[o.jsxs("div",{className:"flex flex-col items-center text-center mb-4 sm:hidden",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full mb-3",children:o.jsx(ji,{className:"h-5 w-5 text-blue-600"})}),o.jsx("h4",{className:"font-semibold text-blue-800 text-lg",style:{color:"#1e40af",fontSize:"18px",fontWeight:"600"},children:"Your Parenting Journey"})]}),o.jsxs("h4",{className:"hidden sm:flex font-semibold text-blue-800 mb-4 items-center text-lg",style:{color:"#1e40af",fontSize:"18px",fontWeight:"600"},children:[o.jsx(ji,{className:"mr-3 h-5 w-5 flex-shrink-0"}),"Your Parenting Journey"]}),o.jsx("p",{className:"text-blue-700 leading-relaxed px-1 sm:px-0",style:{color:"#1d4ed8",lineHeight:"1.6"},children:e.progressOverview||"Based on your journal entries and reflections, you're developing consistent parenting practices and growing in self-awareness."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-green-50 rounded-xl p-5 border border-green-200",style:{backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",padding:"20px"},children:[o.jsxs("h5",{className:"font-medium text-green-800 mb-4 flex items-center",style:{color:"#166534",fontSize:"16px",fontWeight:"500"},children:[o.jsx(zl,{className:"mr-3 h-5 w-5"}),"Your Strengths"]}),o.jsx("div",{className:"space-y-3",children:(e.strengths||["Consistent reflection habits","Emotional awareness","Growth mindset"]).map((t,n)=>o.jsxs("div",{className:"flex items-start",style:{display:"flex",alignItems:"flex-start",marginBottom:"12px"},children:[o.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2 mr-3 flex-shrink-0",style:{width:"8px",height:"8px",backgroundColor:"#16a34a",borderRadius:"50%",marginTop:"8px",marginRight:"12px"}}),o.jsx("span",{className:"text-green-700 leading-relaxed",style:{color:"#15803d",lineHeight:"1.6"},children:t})]},n))})]}),o.jsxs("div",{className:"bg-orange-50 rounded-xl p-5 border border-orange-200",style:{backgroundColor:"#fff7ed",border:"1px solid #fed7aa",padding:"20px"},children:[o.jsxs("h5",{className:"font-medium text-orange-800 mb-4 flex items-center",style:{color:"#9a3412",fontSize:"16px",fontWeight:"500"},children:[o.jsx(Wo,{className:"mr-3 h-5 w-5"}),"Growth Opportunities"]}),o.jsx("div",{className:"space-y-3",children:(e.growthAreas||["Consistency in responses","Patience during challenges"]).map((t,n)=>o.jsxs("div",{className:"flex items-start",style:{display:"flex",alignItems:"flex-start",marginBottom:"12px"},children:[o.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full mt-2 mr-3 flex-shrink-0",style:{width:"8px",height:"8px",backgroundColor:"#ea580c",borderRadius:"50%",marginTop:"8px",marginRight:"12px"}}),o.jsx("span",{className:"text-orange-700 leading-relaxed",style:{color:"#c2410c",lineHeight:"1.6"},children:t})]},n))})]})]}),o.jsxs("div",{className:"bg-amber-50 rounded-xl p-6 border border-amber-200",style:{backgroundColor:"#fffbeb",border:"1px solid #fcd34d",padding:"24px"},children:[o.jsxs("h5",{className:"font-medium text-amber-800 mb-4 flex items-center",style:{color:"#92400e",fontSize:"16px",fontWeight:"500"},children:[o.jsx(rn,{className:"mr-3 h-5 w-5"}),"Next Steps"]}),o.jsx("p",{className:"text-amber-700 leading-relaxed",style:{color:"#b45309",lineHeight:"1.6"},children:e.nextSteps||"Continue documenting your experiences, focus on celebrating small wins, and consider exploring new parenting strategies that align with your values."})]}),o.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[o.jsxs("h5",{className:"font-medium text-slate-800 mb-4 flex items-center",children:[o.jsx(kg,{className:"mr-3 h-5 w-5"}),"In-Depth Analysis & Context"]}),o.jsxs("div",{className:"space-y-4 text-slate-700 leading-relaxed",children:[o.jsx("p",{children:"Your parenting journey reflects a thoughtful and intentional approach to raising your children. The patterns in your journal entries reveal someone who values reflection, growth, and emotional awareness. This combination of self-awareness and commitment to improvement creates a strong foundation for effective parenting."}),o.jsx("p",{children:"Parenting is fundamentally about building relationships while guiding development, and your approach demonstrates understanding of this balance. The challenges you face - from managing difficult moments to maintaining consistency - are universal experiences that every parent navigates. What sets successful parenting apart is not the absence of these challenges, but how we respond to and learn from them."}),o.jsx("p",{children:"Your emotional awareness, as evidenced by your journaling practice, provides a crucial advantage. Children learn emotional regulation primarily through modeling, and parents who understand their own emotional patterns are better equipped to help their children develop healthy coping strategies. This self-reflection also helps identify triggers and develop proactive strategies for challenging situations."}),o.jsx("p",{children:"Moving forward, focus on building upon your existing strengths while gradually addressing growth areas. Small, consistent changes often create more lasting impact than dramatic shifts. Remember that parenting is a long-term endeavor where patience with yourself is just as important as patience with your children."})]})]})]}):(console.log("ParentingProgressAnalysis: No data provided"),o.jsx("div",{className:"text-center py-6 text-neutral-500",children:"No analysis available yet"}))}function sie({data:e}){return!e||e.isEmptyState?o.jsx("div",{className:"text-center py-8",children:o.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 mb-4",children:[o.jsx(gs,{className:"h-12 w-12 text-neutral-400 mx-auto mb-3"}),o.jsx("h3",{className:"font-medium text-neutral-700 mb-2",children:"No Child Development Data"}),o.jsx("p",{className:"text-sm text-neutral-600 leading-relaxed",children:(e==null?void 0:e.noDataMessage)||"Add child profiles and start journaling to see personalized development insights."})]})}):e?e.isExplainer?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[o.jsxs("h4",{className:"font-semibold text-purple-800 mb-4 flex items-center text-lg",children:[o.jsx(gs,{className:"mr-3 h-5 w-5"}),e.title]}),o.jsx("p",{className:"text-purple-700 leading-relaxed mb-4",children:e.description}),o.jsx("div",{className:"space-y-3",children:e.features.map((t,n)=>o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mt-2 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-purple-700 leading-relaxed",children:t})]},n))})]}),o.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border border-green-200 text-center",children:[o.jsx("h5",{className:"font-medium text-green-800 mb-3",children:"Start Your Journey"}),o.jsx("p",{className:"text-green-700 leading-relaxed",children:e.callToAction})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-accent/5 rounded-xl p-6 border border-accent/20",children:[o.jsxs("h4",{className:"font-semibold text-accent mb-4 flex items-center text-lg",children:[o.jsx(gs,{className:"mr-3 h-5 w-5"}),"Family Development Overview"]}),o.jsx("p",{className:"text-neutral-700 leading-relaxed",children:e.developmentOverview||"Your children are showing healthy developmental patterns across multiple areas. Each child has unique growth needs."})]}),e.childrenInsights&&e.childrenInsights.map((t,n)=>{var r,s;return o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 shadow-sm",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-accent rounded-full flex items-center justify-center mr-3",children:o.jsx(Bl,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-neutral-800 text-lg",children:t.childName}),o.jsx("p",{className:"text-sm text-neutral-600",children:t.age})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 sm:p-4 border border-purple-200",children:[o.jsxs("div",{className:"flex flex-col items-center text-center mb-3 sm:hidden",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-100 rounded-full mb-2",children:o.jsx(zl,{className:"h-4 w-4 text-purple-600"})}),o.jsxs("h6",{className:"font-medium text-purple-800 text-sm",children:["Key Milestones for ",t.childName]})]}),o.jsxs("h6",{className:"hidden sm:flex font-medium text-purple-800 mb-3 items-center text-sm",children:[o.jsx(zl,{className:"mr-2 h-4 w-4 flex-shrink-0"}),"Key Milestones for ",t.childName]}),o.jsx("div",{className:"space-y-2",children:(r=t.milestones)==null?void 0:r.map((i,a)=>o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-purple-600 rounded-full mt-2 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-purple-700 text-sm leading-relaxed",children:i})]},a))})]}),o.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 sm:p-4 border border-blue-200",children:[o.jsxs("div",{className:"flex flex-col items-center text-center mb-3 sm:hidden",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full mb-2",children:o.jsx(Wo,{className:"h-4 w-4 text-blue-600"})}),o.jsxs("h6",{className:"font-medium text-blue-800 text-sm",children:["Focus Areas for ",t.childName]})]}),o.jsxs("h6",{className:"hidden sm:flex font-medium text-blue-800 mb-3 items-center text-sm",children:[o.jsx(Wo,{className:"mr-2 h-4 w-4 flex-shrink-0"}),"Focus Areas for ",t.childName]}),o.jsx("div",{className:"space-y-2",children:(s=t.focusAreas)==null?void 0:s.map((i,a)=>o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mt-2 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-blue-700 text-sm leading-relaxed",children:i})]},a))})]})]}),o.jsxs("div",{className:"mt-4 bg-green-50 rounded-lg p-4 border border-green-200",children:[o.jsxs("h6",{className:"font-medium text-green-800 mb-2 flex items-center text-sm",children:[o.jsx(Na,{className:"mr-2 h-4 w-4"}),"Personalized Recommendations for ",t.childName]}),o.jsx("p",{className:"text-green-700 text-sm leading-relaxed",children:t.recommendations})]})]},n)}),e.familyDynamics&&o.jsxs("div",{className:"bg-amber-50 rounded-xl p-6 border border-amber-200",children:[o.jsxs("h5",{className:"font-medium text-amber-800 mb-4 flex items-center",children:[o.jsx(Kn,{className:"mr-3 h-5 w-5"}),"Family Dynamics & Multi-Child Considerations"]}),o.jsx("p",{className:"text-amber-700 leading-relaxed",children:e.familyDynamics})]}),o.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[o.jsxs("h5",{className:"font-medium text-slate-800 mb-4 flex items-center",children:[o.jsx(kg,{className:"mr-3 h-5 w-5"}),"Comprehensive Development Insights"]}),o.jsxs("div",{className:"space-y-4 text-slate-700 leading-relaxed",children:[o.jsx("p",{children:"Child development is a remarkable process that unfolds uniquely for each individual while following predictable patterns. Understanding these patterns helps parents provide appropriate support, set realistic expectations, and celebrate meaningful progress along the way."}),o.jsx("p",{children:"Every child progresses through developmental stages at their own pace, influenced by their temperament, environment, experiences, and individual neurodevelopment. What appears as a challenge in one developmental phase often becomes a strength in another, as children integrate new skills and capabilities."}),o.jsx("p",{children:"The key to supporting healthy development lies in offering experiences that match your child's current capabilities while gently challenging them to grow. This means providing emotional support during difficult transitions, celebrating small victories, and maintaining realistic expectations based on developmental science rather than comparisons with other children."}),o.jsx("p",{children:"Remember that development isn't linear - children often show rapid progress in some areas while consolidating skills in others. Periods of regression or challenging behavior often precede significant developmental leaps. Your consistent presence, patience, and understanding during these times provides the security children need to navigate growth successfully."}),o.jsx("p",{children:"Focus on building strong emotional connections, fostering your child's natural curiosity, and creating an environment where they feel safe to explore, make mistakes, and learn. These foundations support not just immediate development but also long-term resilience and emotional well-being."})]})]})]}):o.jsx("div",{className:"text-center py-6 text-neutral-500",children:"No analysis available yet"})}function iie({data:e}){return e?e.isExplainer?o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-6 border border-yellow-200",children:[o.jsxs("h4",{className:"font-semibold text-yellow-800 mb-4 flex items-center text-lg",children:[o.jsx(Na,{className:"mr-3 h-5 w-5"}),e.title]}),o.jsx("p",{className:"text-yellow-700 leading-relaxed mb-4",children:e.description}),o.jsx("div",{className:"space-y-3",children:e.features.map((t,n)=>o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-yellow-700 text-sm",children:t})]},n))}),o.jsx("div",{className:"mt-6 p-4 bg-yellow-100 rounded-lg",children:o.jsx("p",{className:"text-yellow-800 font-medium text-center",children:e.callToAction})})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-secondary/5 rounded-xl p-6 border border-secondary/20",children:[o.jsxs("h4",{className:"font-semibold text-secondary mb-4 flex items-center text-lg",children:[o.jsx(Na,{className:"mr-3 h-5 w-5"}),"Personalized Tips"]}),o.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"Based on your parenting style, children's personalities, and recent experiences, here are tailored suggestions for your family."})]}),o.jsx("div",{className:"space-y-4",children:(e.personalizedTips||[]).map((t,n)=>o.jsx("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 shadow-sm",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"w-10 h-10 bg-secondary rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:o.jsx("span",{className:"text-white font-semibold",children:n+1})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-center mb-3",children:o.jsx(xt,{variant:"secondary",className:"text-xs",children:t.category})}),o.jsx("p",{className:"text-neutral-800 mb-3 font-medium leading-relaxed",children:t.tip}),o.jsxs("p",{className:"text-neutral-600 text-sm leading-relaxed mb-2",children:[o.jsx("strong",{children:"Why this helps:"})," ",t.reasoning]}),t.implementation&&o.jsxs("p",{className:"text-neutral-500 text-xs leading-relaxed",children:[o.jsx("strong",{children:"How to implement:"})," ",t.implementation]})]})]})},n))})]}):o.jsx("div",{className:"text-center py-6 text-neutral-500",children:"No analysis available yet"})}function aie({data:e}){return e?e.isExplainer?o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-6 border border-purple-200",children:[o.jsxs("h4",{className:"font-semibold text-purple-800 mb-4 flex items-center text-lg",children:[o.jsx(kg,{className:"mr-3 h-5 w-5"}),e.title]}),o.jsx("p",{className:"text-purple-700 leading-relaxed mb-4",children:e.description}),o.jsx("div",{className:"space-y-3",children:e.features.map((t,n)=>o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-purple-700 text-sm",children:t})]},n))}),o.jsx("div",{className:"mt-6 p-4 bg-purple-100 rounded-lg",children:o.jsx("p",{className:"text-purple-800 font-medium text-center",children:e.callToAction})})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-primary/5 rounded-xl p-6 border border-primary/20",children:[o.jsxs("h4",{className:"font-semibold text-primary mb-4 flex items-center text-lg",children:[o.jsx(kg,{className:"mr-3 h-5 w-5"}),"Have You Considered..."]}),o.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"Research-backed concepts and strategies that could enhance your parenting approach and family dynamics based on your specific situation."})]}),o.jsx("div",{className:"space-y-6",children:(e.considerations||[{concept:"Emotional Co-regulation",description:"The practice of helping your child manage their emotions by first managing your own emotional state.",importance:"When you remain calm during your child's emotional moments, you provide a secure base that helps them learn to self-regulate over time."},{concept:"Growth Mindset Modeling",description:"Demonstrating how to approach challenges as learning opportunities rather than fixed abilities.",importance:"Children who develop a growth mindset are more resilient, creative, and willing to take on challenges throughout their lives."}]).map((t,n)=>o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 shadow-sm",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("h5",{className:"font-semibold text-neutral-800 text-lg mb-3 flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-primary text-sm font-bold",children:n+1})}),t.concept]}),o.jsx("p",{className:"text-neutral-700 leading-relaxed mb-4",children:t.description})]}),o.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 sm:p-4 border-l-4 border-blue-400",children:[o.jsx("p",{className:"text-blue-800 font-medium mb-2 text-center sm:text-left",children:"Why it matters:"}),o.jsx("p",{className:"text-blue-700 leading-relaxed px-1 sm:px-0",children:t.importance})]})]},n))})]}):o.jsx("div",{className:"text-center py-6 text-neutral-500",children:"No analysis available yet"})}function oie({onCheckInComplete:e}){const[t,n]=N.useState(!1),[r,s]=N.useState(!1),{data:i=[]}=Ht({queryKey:["/api/journal-entries"],select:h=>h||[]}),l=(()=>{if(!i.length)return 0;const h=[...i].sort((g,x)=>new Date(x.createdAt).getTime()-new Date(g.createdAt).getTime());let f=0;const p=new Date;p.setHours(0,0,0,0);for(let g=0;g<h.length;g++){const x=new Date(h[g].createdAt);if(x.setHours(0,0,0,0),Math.floor((p.getTime()-x.getTime())/(1e3*60*60*24))===f)f++;else break}return f})(),u=(()=>{if(!i.length)return null;const f=[...i].sort((g,x)=>new Date(x.createdAt).getTime()-new Date(g.createdAt).getTime())[0].createdAt,p=new Date(f);return isNaN(p.getTime())?null:p})(),d=async h=>{console.log("Daily check-in completed:",h);try{const f=await fetch("/api/daily-checkin",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(h)});if(f.ok){const p=await f.json();console.log("Check-in saved successfully:",p),window.location.reload()}else console.error("Failed to save check-in")}catch(f){console.error("Error saving check-in:",f)}n(!1),e==null||e(h)};return o.jsxs(o.Fragment,{children:[o.jsx(Ye,{className:"bg-white shadow-lg border-2 border-primary/30 hover-lift opacity-100 visible",children:o.jsx(Xe,{className:"p-3 sm:p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Kn,{className:"text-blue-600 h-5 w-5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm sm:text-base font-bold text-gray-900 leading-tight",children:"How are you really doing today?"}),o.jsx("p",{className:"text-gray-600 text-xs sm:text-sm leading-tight mt-0.5",children:"Take a 2-minute check-in across 10 key areas of your life."})]})]}),o.jsxs("div",{className:"flex items-center justify-center sm:justify-end space-x-2 flex-shrink-0",children:[o.jsxs(ve,{onClick:()=>n(!0),className:"bg-primary hover:bg-primary/90 text-white font-medium text-xs sm:text-sm px-3 sm:px-4 py-2 rounded-lg transition-all hover-scale button-press flex-1 sm:flex-initial",children:[o.jsx("span",{className:"sm:hidden",children:" Check-In"}),o.jsx("span",{className:"hidden sm:inline",children:" Begin My Check-In"})]}),o.jsx(yi,{content:"See My Past Check-Ins",children:o.jsx(Nn,{href:"/analytics",children:o.jsx(ve,{variant:"outline",className:"border-primary/30 text-primary hover:bg-primary/5 p-2 rounded-lg transition-all hover-scale button-press",children:o.jsx(Fl,{className:"h-4 w-4"})})})}),o.jsx(yi,{content:"See Personalized Suggestions",children:o.jsx(ve,{variant:"outline",onClick:()=>s(!0),className:"border-amber-300 text-amber-600 hover:bg-amber-50 p-2 rounded-lg transition-all hover-scale button-press",children:o.jsx(rn,{className:"h-4 w-4"})})})]}),o.jsxs("div",{className:"flex items-center justify-center text-xs text-amber-600 flex-wrap",children:[o.jsx("span",{className:"mr-1",children:l===0?"":l===1?"":l===2?"":l>=3&&l<=4?"":l>=5&&l<=6?"":l>=7&&l<=13?"":l>=14&&l<=20?"":l>=21&&l<=29?"":l>=30?"":""}),o.jsxs("span",{className:"font-semibold",children:[l," day streak!"]}),o.jsx("span",{className:"mx-2 text-gray-400 hidden xs:inline",children:""}),o.jsxs("span",{className:"text-gray-500 ml-2 xs:ml-0",children:["Last: ",u?tn(u,"MMM d"):"No entries yet"]})]})]})})}),t&&o.jsx(J7,{onComplete:d,onCancel:()=>n(!1)}),o.jsx(yr,{open:r,onOpenChange:s,children:o.jsxs(rr,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(sr,{children:o.jsx(ir,{children:"Your Personalized Parenting Suggestions"})}),o.jsx(e9,{})]})})]})}const lie=oie;function hN(e,[t,n]){return Math.min(n,Math.max(t,e))}var cie=[" ","Enter","ArrowUp","ArrowDown"],uie=[" ","Enter"],B0="Select",[Mb,Lb,die]=ob(B0),[lp,Q2e]=$s(B0,[die,xu]),Ib=xu(),[hie,yu]=lp(B0),[fie,pie]=lp(B0),t9=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:g}=e,x=Ib(t),[b,v]=N.useState(null),[y,w]=N.useState(null),[_,C]=N.useState(!1),E=D0(u),[O=!1,T]=qo({prop:r,defaultProp:s,onChange:i}),[$,B]=qo({prop:a,defaultProp:l,onChange:c}),L=N.useRef(null),P=b?g||!!b.closest("form"):!0,[D,F]=N.useState(new Set),U=Array.from(D).map(W=>W.props.value).join(";");return o.jsx(wk,{...x,children:o.jsxs(hie,{required:p,scope:t,trigger:b,onTriggerChange:v,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:Xa(),value:$,onValueChange:B,open:O,onOpenChange:T,dir:E,triggerPointerDownPosRef:L,disabled:f,children:[o.jsx(Mb.Provider,{scope:t,children:o.jsx(fie,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(W=>{F(H=>new Set(H).add(W))},[]),onNativeOptionRemove:N.useCallback(W=>{F(H=>{const R=new Set(H);return R.delete(W),R})},[]),children:n})}),P?o.jsxs(_9,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:$,onChange:W=>B(W.target.value),disabled:f,form:g,children:[$===void 0?o.jsx("option",{value:""}):null,Array.from(D)]},U):null]})})};t9.displayName=B0;var n9="SelectTrigger",r9=N.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Ib(n),a=yu(n9,n),l=a.disabled||r,c=Yt(t,a.onTriggerChange),u=Lb(n),d=N.useRef("touch"),[h,f,p]=C9(x=>{const b=u().filter(w=>!w.disabled),v=b.find(w=>w.value===a.value),y=A9(b,x,v);y!==void 0&&a.onValueChange(y.value)}),g=x=>{l||(a.onOpenChange(!0),p()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(k0,{asChild:!0,...i,children:o.jsx(yt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":k9(a.value)?"":void 0,...s,ref:c,onClick:He(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&g(x)}),onPointerDown:He(s.onPointerDown,x=>{d.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(g(x),x.preventDefault())}),onKeyDown:He(s.onKeyDown,x=>{const b=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&f(x.key),!(b&&x.key===" ")&&cie.includes(x.key)&&(g(),x.preventDefault())})})})});r9.displayName=n9;var s9="SelectValue",i9=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=e,c=yu(s9,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Yt(t,c.onValueNodeChange);return ys(()=>{u(d)},[u,d]),o.jsx(yt.span,{...l,ref:h,style:{pointerEvents:"none"},children:k9(c.value)?o.jsx(o.Fragment,{children:a}):i})});i9.displayName=s9;var mie="SelectIcon",a9=N.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(yt.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});a9.displayName=mie;var gie="SelectPortal",o9=e=>o.jsx(sp,{asChild:!0,...e});o9.displayName=gie;var Md="SelectContent",l9=N.forwardRef((e,t)=>{const n=yu(Md,e.__scopeSelect),[r,s]=N.useState();if(ys(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Od.createPortal(o.jsx(c9,{scope:e.__scopeSelect,children:o.jsx(Mb.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(u9,{...e,ref:t})});l9.displayName=Md;var Fa=10,[c9,vu]=lp(Md),xie="SelectContentImpl",yie=ru("SelectContent.RemoveScroll"),u9=N.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:x,avoidCollisions:b,...v}=e,y=yu(Md,n),[w,_]=N.useState(null),[C,E]=N.useState(null),O=Yt(t,oe=>_(oe)),[T,$]=N.useState(null),[B,L]=N.useState(null),P=Lb(n),[D,F]=N.useState(!1),U=N.useRef(!1);N.useEffect(()=>{if(w)return wb(w)},[w]),vb();const W=N.useCallback(oe=>{const[ce,...xe]=P().map(De=>De.ref.current),[Pe]=xe.slice(-1),Ce=document.activeElement;for(const De of oe)if(De===Ce||(De==null||De.scrollIntoView({block:"nearest"}),De===ce&&C&&(C.scrollTop=0),De===Pe&&C&&(C.scrollTop=C.scrollHeight),De==null||De.focus(),document.activeElement!==Ce))return},[P,C]),H=N.useCallback(()=>W([T,w]),[W,T,w]);N.useEffect(()=>{D&&H()},[D,H]);const{onOpenChange:R,triggerPointerDownPosRef:G}=y;N.useEffect(()=>{if(w){let oe={x:0,y:0};const ce=Pe=>{var Ce,De;oe={x:Math.abs(Math.round(Pe.pageX)-(((Ce=G.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((De=G.current)==null?void 0:De.y)??0))}},xe=Pe=>{oe.x<=10&&oe.y<=10?Pe.preventDefault():w.contains(Pe.target)||R(!1),document.removeEventListener("pointermove",ce),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",xe,{capture:!0})}}},[w,R,G]),N.useEffect(()=>{const oe=()=>R(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[R]);const[M,ae]=C9(oe=>{const ce=P().filter(Ce=>!Ce.disabled),xe=ce.find(Ce=>Ce.ref.current===document.activeElement),Pe=A9(ce,oe,xe);Pe&&setTimeout(()=>Pe.ref.current.focus())}),z=N.useCallback((oe,ce,xe)=>{const Pe=!U.current&&!xe;(y.value!==void 0&&y.value===ce||Pe)&&($(oe),Pe&&(U.current=!0))},[y.value]),I=N.useCallback(()=>w==null?void 0:w.focus(),[w]),J=N.useCallback((oe,ce,xe)=>{const Pe=!U.current&&!xe;(y.value!==void 0&&y.value===ce||Pe)&&L(oe)},[y.value]),se=r==="popper"?fN:d9,re=se===fN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:x,avoidCollisions:b}:{};return o.jsx(c9,{scope:n,content:w,viewport:C,onViewportChange:E,itemRefCallback:z,selectedItem:T,onItemLeave:I,itemTextRefCallback:J,focusSelectedItem:H,selectedItemText:B,position:r,isPositioned:D,searchRef:M,children:o.jsx(C0,{as:yie,allowPinchZoom:!0,children:o.jsx(_0,{asChild:!0,trapped:y.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:He(s,oe=>{var ce;(ce=y.trigger)==null||ce.focus({preventScroll:!0}),oe.preventDefault()}),children:o.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(se,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:oe=>oe.preventDefault(),...v,...re,onPlaced:()=>F(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:He(v.onKeyDown,oe=>{const ce=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ce&&oe.key.length===1&&ae(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Pe=P().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Ce=oe.target,De=Pe.indexOf(Ce);Pe=Pe.slice(De+1)}setTimeout(()=>W(Pe)),oe.preventDefault()}})})})})})})});u9.displayName=xie;var vie="SelectItemAlignedPosition",d9=N.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=yu(Md,n),a=vu(Md,n),[l,c]=N.useState(null),[u,d]=N.useState(null),h=Yt(t,O=>d(O)),f=Lb(n),p=N.useRef(!1),g=N.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:v,focusSelectedItem:y}=a,w=N.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&b&&v){const O=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),B=v.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=B.left-T.left,De=$.left-Ce,Ue=O.left-De,ct=O.width+Ue,ke=Math.max(ct,T.width),ne=window.innerWidth-Fa,gt=hN(De,[Fa,Math.max(Fa,ne-ke)]);l.style.minWidth=ct+"px",l.style.left=gt+"px"}else{const Ce=T.right-B.right,De=window.innerWidth-$.right-Ce,Ue=window.innerWidth-O.right-De,ct=O.width+Ue,ke=Math.max(ct,T.width),ne=window.innerWidth-Fa,gt=hN(De,[Fa,Math.max(Fa,ne-ke)]);l.style.minWidth=ct+"px",l.style.right=gt+"px"}const L=f(),P=window.innerHeight-Fa*2,D=x.scrollHeight,F=window.getComputedStyle(u),U=parseInt(F.borderTopWidth,10),W=parseInt(F.paddingTop,10),H=parseInt(F.borderBottomWidth,10),R=parseInt(F.paddingBottom,10),G=U+W+D+R+H,M=Math.min(b.offsetHeight*5,G),ae=window.getComputedStyle(x),z=parseInt(ae.paddingTop,10),I=parseInt(ae.paddingBottom,10),J=O.top+O.height/2-Fa,se=P-J,re=b.offsetHeight/2,oe=b.offsetTop+re,ce=U+W+oe,xe=G-ce;if(ce<=J){const Ce=L.length>0&&b===L[L.length-1].ref.current;l.style.bottom="0px";const De=u.clientHeight-x.offsetTop-x.offsetHeight,Ue=Math.max(se,re+(Ce?I:0)+De+H),ct=ce+Ue;l.style.height=ct+"px"}else{const Ce=L.length>0&&b===L[0].ref.current;l.style.top="0px";const Ue=Math.max(J,U+x.offsetTop+(Ce?z:0)+re)+xe;l.style.height=Ue+"px",x.scrollTop=ce-J+x.offsetTop}l.style.margin=`${Fa}px 0`,l.style.minHeight=M+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,l,u,x,b,v,i.dir,r]);ys(()=>w(),[w]);const[_,C]=N.useState();ys(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const E=N.useCallback(O=>{O&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return o.jsx(wie,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(yt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});d9.displayName=vie;var bie="SelectPopperPosition",fN=N.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Fa,...i}=e,a=Ib(n);return o.jsx(mb,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fN.displayName=bie;var[wie,e4]=lp(Md,{}),pN="SelectViewport",h9=N.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=vu(pN,n),a=e4(pN,n),l=Yt(t,i.onViewportChange),c=N.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Mb.Slot,{scope:n,children:o.jsx(yt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:He(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-Fa*2,x=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),v=Math.max(x,b);if(v<g){const y=v+p,w=Math.min(g,y),_=y-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});h9.displayName=pN;var f9="SelectGroup",[jie,Nie]=lp(f9),Sie=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Xa();return o.jsx(jie,{scope:n,id:s,children:o.jsx(yt.div,{role:"group","aria-labelledby":s,...r,ref:t})})});Sie.displayName=f9;var p9="SelectLabel",m9=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Nie(p9,n);return o.jsx(yt.div,{id:s.id,...r,ref:t})});m9.displayName=p9;var y1="SelectItem",[kie,g9]=lp(y1),x9=N.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,l=yu(y1,n),c=vu(y1,n),u=l.value===r,[d,h]=N.useState(i??""),[f,p]=N.useState(!1),g=Yt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,r,s)}),x=Xa(),b=N.useRef("touch"),v=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(kie,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:N.useCallback(y=>{h(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx(Mb.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(yt.div,{role:"option","aria-labelledby":x,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:g,onFocus:He(a.onFocus,()=>p(!0)),onBlur:He(a.onBlur,()=>p(!1)),onClick:He(a.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:He(a.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:He(a.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:He(a.onPointerMove,y=>{var w;b.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(a.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:He(a.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(uie.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});x9.displayName=y1;var Sm="SelectItemText",y9=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=yu(Sm,n),l=vu(Sm,n),c=g9(Sm,n),u=pie(Sm,n),[d,h]=N.useState(null),f=Yt(t,v=>h(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=N.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return ys(()=>(x(g),()=>b(g)),[x,b,g]),o.jsxs(o.Fragment,{children:[o.jsx(yt.span,{id:c.textId,...i,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Od.createPortal(i.children,a.valueNode):null]})});y9.displayName=Sm;var v9="SelectItemIndicator",b9=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return g9(v9,n).isSelected?o.jsx(yt.span,{"aria-hidden":!0,...r,ref:t}):null});b9.displayName=v9;var mN="SelectScrollUpButton",w9=N.forwardRef((e,t)=>{const n=vu(mN,e.__scopeSelect),r=e4(mN,e.__scopeSelect),[s,i]=N.useState(!1),a=Yt(t,r.onScrollButtonChange);return ys(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(N9,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});w9.displayName=mN;var gN="SelectScrollDownButton",j9=N.forwardRef((e,t)=>{const n=vu(gN,e.__scopeSelect),r=e4(gN,e.__scopeSelect),[s,i]=N.useState(!1),a=Yt(t,r.onScrollButtonChange);return ys(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(N9,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});j9.displayName=gN;var N9=N.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=vu("SelectScrollButton",n),a=N.useRef(null),l=Lb(n),c=N.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),ys(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(yt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:He(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:He(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:He(s.onPointerLeave,()=>{c()})})}),_ie="SelectSeparator",S9=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(yt.div,{"aria-hidden":!0,...r,ref:t})});S9.displayName=_ie;var xN="SelectArrow",Cie=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ib(n),i=yu(xN,n),a=vu(xN,n);return i.open&&a.position==="popper"?o.jsx(gb,{...s,...r,ref:t}):null});Cie.displayName=xN;function k9(e){return e===""||e===void 0}var _9=N.forwardRef((e,t)=>{const{value:n,...r}=e,s=N.useRef(null),i=Yt(t,s),a=Wk(n);return N.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[a,n]),o.jsx(b0,{asChild:!0,children:o.jsx("select",{...r,ref:i,defaultValue:n})})});_9.displayName="BubbleSelect";function C9(e){const t=lr(e),n=N.useRef(""),r=N.useRef(0),s=N.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function A9(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=Aie(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Aie(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Pie=t9,P9=r9,Eie=i9,Tie=a9,Mie=o9,E9=l9,Lie=h9,T9=m9,M9=x9,Iie=y9,Die=b9,L9=w9,I9=j9,D9=S9;const vr=Pie,br=Eie,ar=N.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(P9,{ref:r,className:Je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(Tie,{asChild:!0,children:o.jsx(SR,{className:"h-4 w-4 opacity-50"})})]}));ar.displayName=P9.displayName;const R9=N.forwardRef(({className:e,...t},n)=>o.jsx(L9,{ref:n,className:Je("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(lQ,{className:"h-4 w-4"})}));R9.displayName=L9.displayName;const O9=N.forwardRef(({className:e,...t},n)=>o.jsx(I9,{ref:n,className:Je("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(SR,{className:"h-4 w-4"})}));O9.displayName=I9.displayName;const or=N.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>o.jsx(Mie,{children:o.jsxs(E9,{ref:s,className:Je("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(R9,{}),o.jsx(Lie,{className:Je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(O9,{})]})}));or.displayName=E9.displayName;const Rie=N.forwardRef(({className:e,...t},n)=>o.jsx(T9,{ref:n,className:Je("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Rie.displayName=T9.displayName;const pt=N.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(M9,{ref:r,className:Je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Die,{children:o.jsx(Of,{className:"h-4 w-4"})})}),o.jsx(Iie,{children:t})]}));pt.displayName=M9.displayName;const Oie=N.forwardRef(({className:e,...t},n)=>o.jsx(D9,{ref:n,className:Je("-mx-1 my-1 h-px bg-muted",e),...t}));Oie.displayName=D9.displayName;const Be=Symbol.for("drizzle:entityKind");function fs(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Be))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(Be in n&&n[Be]===t[Be])return!0;n=Object.getPrototypeOf(n)}return!1}var kE;kE=Be;class Hf{constructor(t,n){le(this,"name");le(this,"keyAsName");le(this,"primary");le(this,"notNull");le(this,"default");le(this,"defaultFn");le(this,"onUpdateFn");le(this,"hasDefault");le(this,"isUnique");le(this,"uniqueName");le(this,"uniqueType");le(this,"dataType");le(this,"columnType");le(this,"enumValues");le(this,"generated");le(this,"generatedIdentity");le(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}le(Hf,kE,"Column");var _E;_E=Be;class F9{constructor(t,n,r){le(this,"config");le(this,"$default",this.$defaultFn);le(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}le(F9,_E,"ColumnBuilder");const lf=Symbol.for("drizzle:Name");var CE;CE=Be;class z9{constructor(t,n){le(this,"reference");le(this,"_onUpdate","no action");le(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:s,foreignColumns:i}=t();return{name:r,columns:s,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new B9(t,this)}}le(z9,CE,"PgForeignKeyBuilder");var AE;AE=Be;class B9{constructor(t,n){le(this,"reference");le(this,"onUpdate");le(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),s=n.map(l=>l.name),i=r.map(l=>l.name),a=[this.table[lf],...s,r[0].table[lf],...i];return t??`${a.join("_")}_fk`}}le(B9,AE,"PgForeignKey");function Fie(e,...t){return e(...t)}function zie(e,t){return`${e[lf]}_${t.join("_")}_unique`}function cA(e,t,n){for(let r=t;r<e.length;r++){const s=e[r];if(s==="\\"){r++;continue}if(s==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(s===","||s==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function $9(e,t=0){const n=[];let r=t,s=!1;for(;r<e.length;){const i=e[r];if(i===","){(s||r===t)&&n.push(""),s=!0,r++;continue}if(s=!1,i==="\\"){r+=2;continue}if(i==='"'){const[c,u]=cA(e,r+1,!0);n.push(c),r=u;continue}if(i==="}")return[n,r+1];if(i==="{"){const[c,u]=$9(e,r+1);n.push(c),r=u;continue}const[a,l]=cA(e,r,!1);n.push(a),r=l}return[n,r]}function Bie(e){const[t]=$9(e,1);return t}function U9(e){return`{${e.map(t=>Array.isArray(t)?U9(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var PE,EE;class mn extends(EE=F9,PE=Be,EE){constructor(){super(...arguments);le(this,"foreignKeyConfigs",[])}array(n){return new q9(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>Fie((a,l)=>{const c=new z9(()=>{const u=a();return{columns:[n],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},s,i))}buildExtraConfigColumn(n){return new V9(n,this.config)}}le(mn,PE,"PgColumnBuilder");var TE,ME;class Xt extends(ME=Hf,TE=Be,ME){constructor(t,n){n.uniqueName||(n.uniqueName=zie(t,[n.name])),super(t,n),this.table=t}}le(Xt,TE,"PgColumn");var LE,IE;class V9 extends(IE=Xt,LE=Be,IE){constructor(){super(...arguments);le(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});le(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}le(V9,LE,"ExtraConfigColumn");var DE,RE;class q9 extends(RE=mn,DE=Be,RE){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new yN(t,this.config,n)}}le(q9,DE,"PgArrayBuilder");var OE,FE;const U1=class U1 extends(FE=Xt,OE=Be,FE){constructor(n,r,s,i){super(n,r);le(this,"size");this.baseColumn=s,this.range=i,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=Bie(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const s=n.map(i=>i===null?null:fs(this.baseColumn,U1)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?s:U9(s)}};le(U1,OE,"PgArray");let yN=U1;const uA=Symbol.for("drizzle:isPgEnum");function $ie(e){return!!e&&typeof e=="function"&&uA in e&&e[uA]===!0}var zE;zE=Be;class t4{constructor(t,n,r,s=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:s}}}le(t4,zE,"Subquery");const Uie={startActiveSpan(e,t){return t()}},cf=Symbol.for("drizzle:ViewBaseConfig"),zw=Symbol.for("drizzle:Schema"),dA=Symbol.for("drizzle:Columns"),hA=Symbol.for("drizzle:ExtraConfigColumns"),Bw=Symbol.for("drizzle:OriginalName"),$w=Symbol.for("drizzle:BaseName"),v1=Symbol.for("drizzle:IsAlias"),fA=Symbol.for("drizzle:ExtraConfigBuilder"),W9=Symbol.for("drizzle:IsDrizzleTable");var BE,$E,UE,VE,qE,WE,HE,YE,GE,KE,Uy;let $i=(KE=Be,GE=lf,YE=Bw,HE=zw,WE=dA,qE=hA,VE=$w,UE=v1,$E=W9,BE=fA,Uy=class{constructor(t,n,r){le(this,GE);le(this,YE);le(this,HE);le(this,WE);le(this,qE);le(this,VE);le(this,UE,!1);le(this,$E,!0);le(this,BE);this[lf]=this[Bw]=t,this[zw]=n,this[$w]=r}},le(Uy,KE,"Table"),le(Uy,"Symbol",{Name:lf,Schema:zw,OriginalName:Bw,Columns:dA,ExtraConfigColumns:hA,BaseName:$w,IsAlias:v1,ExtraConfigBuilder:fA}),Uy);function H9(e){return typeof e=="object"&&e!==null&&W9 in e}function Vie(e){return e!=null&&typeof e.getSQL=="function"}function qie(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var QE;QE=Be;class ha{constructor(t){le(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Jr([this])}}le(ha,QE,"StringChunk");var XE;XE=Be;const Gu=class Gu{constructor(t){le(this,"decoder",Y9);le(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return Uie.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:a,prepareTyping:l,inlineParams:c,paramStartIndex:u}=r;return qie(t.map(d=>{var h;if(fs(d,ha))return{sql:d.value.join(""),params:[]};if(fs(d,b1))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const f=[new ha("(")];for(const[p,g]of d.entries())f.push(g),p<d.length-1&&f.push(new ha(", "));return f.push(new ha(")")),this.buildQueryFromSourceParams(f,r)}if(fs(d,Gu))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:c||d.shouldInlineParams});if(fs(d,$i)){const f=d[$i.Symbol.Schema],p=d[$i.Symbol.Name];return{sql:f===void 0||d[v1]?i(p):i(f)+"."+i(p),params:[]}}if(fs(d,Hf)){const f=s.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:i(f),params:[]};const p=d.table[$i.Symbol.Schema];return{sql:d.table[v1]||p===void 0?i(d.table[$i.Symbol.Name])+"."+i(f):i(p)+"."+i(d.table[$i.Symbol.Name])+"."+i(f),params:[]}}if(fs(d,Q9)){const f=d[cf].schema,p=d[cf].name;return{sql:f===void 0||d[cf].isAlias?i(p):i(f)+"."+i(p),params:[]}}if(fs(d,n4)){if(fs(d.value,w1))return{sql:a(u.value++,d),params:[d],typings:["none"]};const f=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(fs(f,Gu))return this.buildQueryFromSourceParams([f],r);if(c)return{sql:this.mapInlineParam(f,r),params:[]};let p=["none"];return l&&(p=[l(d.encoder)]),{sql:a(u.value++,f),params:[f],typings:p}}return fs(d,w1)?{sql:a(u.value++,d),params:[d],typings:["none"]}:fs(d,Gu.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:fs(d,t4)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new ha("("),d._.sql,new ha(") "),new b1(d._.alias)],r):$ie(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:Vie(d)?(h=d.shouldOmitSQLParens)!=null&&h.call(d)?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new ha("("),d.getSQL(),new ha(")")],r):c?{sql:this.mapInlineParam(d,r),params:[]}:{sql:a(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Gu.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};le(Gu,XE,"SQL");let Jr=Gu;var JE;JE=Be;class b1{constructor(t){le(this,"brand");this.value=t}getSQL(){return new Jr([this])}}le(b1,JE,"Name");const Y9={mapFromDriverValue:e=>e},G9={mapToDriverValue:e=>e};({...Y9,...G9});var ZE;ZE=Be;class n4{constructor(t,n=G9){le(this,"brand");this.value=t,this.encoder=n}getSQL(){return new Jr([this])}}le(n4,ZE,"Param");function Ni(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new ha(e[0]));for(const[r,s]of t.entries())n.push(s,new ha(e[r+1]));return new Jr(n)}(e=>{function t(){return new Jr([])}e.empty=t;function n(c){return new Jr(c)}e.fromList=n;function r(c){return new Jr([new ha(c)])}e.raw=r;function s(c,u){const d=[];for(const[h,f]of c.entries())h>0&&u!==void 0&&d.push(u),d.push(f);return new Jr(d)}e.join=s;function i(c){return new b1(c)}e.identifier=i;function a(c){return new w1(c)}e.placeholder=a;function l(c,u){return new n4(c,u)}e.param=l})(Ni||(Ni={}));(e=>{var n;n=Be;const r=class r{constructor(i,a){le(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};le(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(Jr||(Jr={}));var eT;eT=Be;class w1{constructor(t){this.name=t}getSQL(){return new Jr([this])}}le(w1,eT,"Placeholder");const K9=Symbol.for("drizzle:IsDrizzleView");var tT,nT,rT;rT=Be,nT=cf,tT=K9;class Q9{constructor({name:t,schema:n,selectedFields:r,query:s}){le(this,nT);le(this,tT,!0);this[cf]={name:t,originalName:t,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Jr([this])}}le(Q9,rT,"View");function Wie(e){return typeof e=="object"&&e!==null&&K9 in e}Hf.prototype.getSQL=function(){return new Jr([this])};$i.prototype.getSQL=function(){return new Jr([this])};t4.prototype.getSQL=function(){return new Jr([this])};function Hie(e){return e[$i.Symbol.Columns]}function Yie(e){return e[cf].selectedFields}function os(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var sT,iT;class $0 extends(iT=mn,sT=Be,iT){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}le($0,sT,"PgIntColumnBaseBuilder");var aT,oT;class X9 extends(oT=$0,aT=Be,oT){constructor(t){super(t,"number","PgBigInt53")}build(t){return new J9(t,this.config)}}le(X9,aT,"PgBigInt53Builder");var lT,cT;class J9 extends(cT=Xt,lT=Be,cT){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}le(J9,lT,"PgBigInt53");var uT,dT;class Z9 extends(dT=$0,uT=Be,dT){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new ez(t,this.config)}}le(Z9,uT,"PgBigInt64Builder");var hT,fT;class ez extends(fT=Xt,hT=Be,fT){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}le(ez,hT,"PgBigInt64");function Gie(e,t){const{name:n,config:r}=os(e,t);return r.mode==="number"?new X9(n):new Z9(n)}var pT,mT;class tz extends(mT=mn,pT=Be,mT){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new nz(t,this.config)}}le(tz,pT,"PgBigSerial53Builder");var gT,xT;class nz extends(xT=Xt,gT=Be,xT){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}le(nz,gT,"PgBigSerial53");var yT,vT;class rz extends(vT=mn,yT=Be,vT){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new sz(t,this.config)}}le(rz,yT,"PgBigSerial64Builder");var bT,wT;class sz extends(wT=Xt,bT=Be,wT){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}le(sz,bT,"PgBigSerial64");function Kie(e,t){const{name:n,config:r}=os(e,t);return r.mode==="number"?new tz(n):new rz(n)}var jT,NT;class iz extends(NT=mn,jT=Be,NT){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new az(t,this.config)}}le(iz,jT,"PgBooleanBuilder");var ST,kT;class az extends(kT=Xt,ST=Be,kT){getSQLType(){return"boolean"}}le(az,ST,"PgBoolean");function Qie(e){return new iz(e??"")}var _T,CT;class oz extends(CT=mn,_T=Be,CT){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new lz(t,this.config)}}le(oz,_T,"PgCharBuilder");var AT,PT;class lz extends(PT=Xt,AT=Be,PT){constructor(){super(...arguments);le(this,"length",this.config.length);le(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}le(lz,AT,"PgChar");function Xie(e,t={}){const{name:n,config:r}=os(e,t);return new oz(n,r)}var ET,TT;class cz extends(TT=mn,ET=Be,TT){constructor(t){super(t,"string","PgCidr")}build(t){return new uz(t,this.config)}}le(cz,ET,"PgCidrBuilder");var MT,LT;class uz extends(LT=Xt,MT=Be,LT){getSQLType(){return"cidr"}}le(uz,MT,"PgCidr");function Jie(e){return new cz(e??"")}var IT,DT;class dz extends(DT=mn,IT=Be,DT){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new hz(t,this.config)}}le(dz,IT,"PgCustomColumnBuilder");var RT,OT;class hz extends(OT=Xt,RT=Be,OT){constructor(n,r){super(n,r);le(this,"sqlName");le(this,"mapTo");le(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}le(hz,RT,"PgCustomColumn");function Zie(e){return(t,n)=>{const{name:r,config:s}=os(t,n);return new dz(r,s,e)}}var FT,zT;class cp extends(zT=mn,FT=Be,zT){defaultNow(){return this.default(Ni`now()`)}}le(cp,FT,"PgDateColumnBaseBuilder");var BT,$T;class fz extends($T=cp,BT=Be,$T){constructor(t){super(t,"date","PgDate")}build(t){return new pz(t,this.config)}}le(fz,BT,"PgDateBuilder");var UT,VT;class pz extends(VT=Xt,UT=Be,VT){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}le(pz,UT,"PgDate");var qT,WT;class mz extends(WT=cp,qT=Be,WT){constructor(t){super(t,"string","PgDateString")}build(t){return new gz(t,this.config)}}le(mz,qT,"PgDateStringBuilder");var HT,YT;class gz extends(YT=Xt,HT=Be,YT){getSQLType(){return"date"}}le(gz,HT,"PgDateString");function xz(e,t){const{name:n,config:r}=os(e,t);return(r==null?void 0:r.mode)==="date"?new fz(n):new mz(n)}var GT,KT;class yz extends(KT=mn,GT=Be,KT){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new vz(t,this.config)}}le(yz,GT,"PgDoublePrecisionBuilder");var QT,XT;class vz extends(XT=Xt,QT=Be,XT){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}le(vz,QT,"PgDoublePrecision");function eae(e){return new yz(e??"")}var JT,ZT;class bz extends(ZT=mn,JT=Be,ZT){constructor(t){super(t,"string","PgInet")}build(t){return new wz(t,this.config)}}le(bz,JT,"PgInetBuilder");var eM,tM;class wz extends(tM=Xt,eM=Be,tM){getSQLType(){return"inet"}}le(wz,eM,"PgInet");function tae(e){return new bz(e??"")}var nM,rM;class jz extends(rM=$0,nM=Be,rM){constructor(t){super(t,"number","PgInteger")}build(t){return new Nz(t,this.config)}}le(jz,nM,"PgIntegerBuilder");var sM,iM;class Nz extends(iM=Xt,sM=Be,iM){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}le(Nz,sM,"PgInteger");function Vm(e){return new jz(e??"")}var aM,oM;class Sz extends(oM=mn,aM=Be,oM){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new kz(t,this.config)}}le(Sz,aM,"PgIntervalBuilder");var lM,cM;class kz extends(cM=Xt,lM=Be,cM){constructor(){super(...arguments);le(this,"fields",this.config.intervalConfig.fields);le(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}le(kz,lM,"PgInterval");function nae(e,t={}){const{name:n,config:r}=os(e,t);return new Sz(n,r)}var uM,dM;class _z extends(dM=mn,uM=Be,dM){constructor(t){super(t,"json","PgJson")}build(t){return new Cz(t,this.config)}}le(_z,uM,"PgJsonBuilder");var hM,fM;class Cz extends(fM=Xt,hM=Be,fM){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}le(Cz,hM,"PgJson");function qm(e){return new _z(e??"")}var pM,mM;class Az extends(mM=mn,pM=Be,mM){constructor(t){super(t,"json","PgJsonb")}build(t){return new Pz(t,this.config)}}le(Az,pM,"PgJsonbBuilder");var gM,xM;class Pz extends(xM=Xt,gM=Be,xM){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}le(Pz,gM,"PgJsonb");function rae(e){return new Az(e??"")}var yM,vM;class Ez extends(vM=mn,yM=Be,vM){constructor(t){super(t,"array","PgLine")}build(t){return new Tz(t,this.config)}}le(Ez,yM,"PgLineBuilder");var bM,wM;class Tz extends(wM=Xt,bM=Be,wM){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,s]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(s)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}le(Tz,bM,"PgLine");var jM,NM;class Mz extends(NM=mn,jM=Be,NM){constructor(t){super(t,"json","PgLineABC")}build(t){return new Lz(t,this.config)}}le(Mz,jM,"PgLineABCBuilder");var SM,kM;class Lz extends(kM=Xt,SM=Be,kM){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,s]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(s)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}le(Lz,SM,"PgLineABC");function sae(e,t){const{name:n,config:r}=os(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new Ez(n):new Mz(n)}var _M,CM;class Iz extends(CM=mn,_M=Be,CM){constructor(t){super(t,"string","PgMacaddr")}build(t){return new Dz(t,this.config)}}le(Iz,_M,"PgMacaddrBuilder");var AM,PM;class Dz extends(PM=Xt,AM=Be,PM){getSQLType(){return"macaddr"}}le(Dz,AM,"PgMacaddr");function iae(e){return new Iz(e??"")}var EM,TM;class Rz extends(TM=mn,EM=Be,TM){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new Oz(t,this.config)}}le(Rz,EM,"PgMacaddr8Builder");var MM,LM;class Oz extends(LM=Xt,MM=Be,LM){getSQLType(){return"macaddr8"}}le(Oz,MM,"PgMacaddr8");function aae(e){return new Rz(e??"")}var IM,DM;class Fz extends(DM=mn,IM=Be,DM){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new zz(t,this.config)}}le(Fz,IM,"PgNumericBuilder");var RM,OM;class zz extends(OM=Xt,RM=Be,OM){constructor(n,r){super(n,r);le(this,"precision");le(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}le(zz,RM,"PgNumeric");function oae(e,t){const{name:n,config:r}=os(e,t);return new Fz(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}var FM,zM;class Bz extends(zM=mn,FM=Be,zM){constructor(t){super(t,"array","PgPointTuple")}build(t){return new $z(t,this.config)}}le(Bz,FM,"PgPointTupleBuilder");var BM,$M;class $z extends($M=Xt,BM=Be,$M){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}le($z,BM,"PgPointTuple");var UM,VM;class Uz extends(VM=mn,UM=Be,VM){constructor(t){super(t,"json","PgPointObject")}build(t){return new Vz(t,this.config)}}le(Uz,UM,"PgPointObjectBuilder");var qM,WM;class Vz extends(WM=Xt,qM=Be,WM){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}le(Vz,qM,"PgPointObject");function lae(e,t){const{name:n,config:r}=os(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new Bz(n):new Uz(n)}function cae(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function pA(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let s=0;s<8;s++)r.setUint8(s,e[t+s]);return r.getFloat64(0,!0)}function qz(e){const t=cae(e);let n=0;const r=t[n];n+=1;const s=new DataView(t.buffer),i=s.getUint32(n,r===1);if(n+=4,i&536870912&&(s.getUint32(n,r===1),n+=4),(i&65535)===1){const a=pA(t,n);n+=8;const l=pA(t,n);return n+=8,[a,l]}throw new Error("Unsupported geometry type")}var HM,YM;class Wz extends(YM=mn,HM=Be,YM){constructor(t){super(t,"array","PgGeometry")}build(t){return new Hz(t,this.config)}}le(Wz,HM,"PgGeometryBuilder");var GM,KM;class Hz extends(KM=Xt,GM=Be,KM){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return qz(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}le(Hz,GM,"PgGeometry");var QM,XM;class Yz extends(XM=mn,QM=Be,XM){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new Gz(t,this.config)}}le(Yz,QM,"PgGeometryObjectBuilder");var JM,ZM;class Gz extends(ZM=Xt,JM=Be,ZM){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=qz(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}le(Gz,JM,"PgGeometryObject");function uae(e,t){const{name:n,config:r}=os(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new Wz(n):new Yz(n)}var eL,tL;class Kz extends(tL=mn,eL=Be,tL){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new Qz(t,this.config)}}le(Kz,eL,"PgRealBuilder");var nL,rL;class Qz extends(rL=Xt,nL=Be,rL){constructor(n,r){super(n,r);le(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}le(Qz,nL,"PgReal");function dae(e){return new Kz(e??"")}var sL,iL;class Xz extends(iL=mn,sL=Be,iL){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new Jz(t,this.config)}}le(Xz,sL,"PgSerialBuilder");var aL,oL;class Jz extends(oL=Xt,aL=Be,oL){getSQLType(){return"serial"}}le(Jz,aL,"PgSerial");function hae(e){return new Xz(e??"")}var lL,cL;class Zz extends(cL=$0,lL=Be,cL){constructor(t){super(t,"number","PgSmallInt")}build(t){return new eB(t,this.config)}}le(Zz,lL,"PgSmallIntBuilder");var uL,dL;class eB extends(dL=Xt,uL=Be,dL){constructor(){super(...arguments);le(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}le(eB,uL,"PgSmallInt");function fae(e){return new Zz(e??"")}var hL,fL;class tB extends(fL=mn,hL=Be,fL){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new nB(t,this.config)}}le(tB,hL,"PgSmallSerialBuilder");var pL,mL;class nB extends(mL=Xt,pL=Be,mL){getSQLType(){return"smallserial"}}le(nB,pL,"PgSmallSerial");function pae(e){return new tB(e??"")}var gL,xL;class rB extends(xL=mn,gL=Be,xL){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new sB(t,this.config)}}le(rB,gL,"PgTextBuilder");var yL,vL;class sB extends(vL=Xt,yL=Be,vL){constructor(){super(...arguments);le(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}le(sB,yL,"PgText");function kt(e,t={}){const{name:n,config:r}=os(e,t);return new rB(n,r)}var bL,wL;class iB extends(wL=cp,bL=Be,wL){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new aB(t,this.config)}}le(iB,bL,"PgTimeBuilder");var jL,NL;class aB extends(NL=Xt,jL=Be,NL){constructor(n,r){super(n,r);le(this,"withTimezone");le(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}le(aB,jL,"PgTime");function mae(e,t={}){const{name:n,config:r}=os(e,t);return new iB(n,r.withTimezone??!1,r.precision)}var SL,kL;class oB extends(kL=cp,SL=Be,kL){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new lB(t,this.config)}}le(oB,SL,"PgTimestampBuilder");var _L,CL;class lB extends(CL=Xt,_L=Be,CL){constructor(n,r){super(n,r);le(this,"withTimezone");le(this,"precision");le(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));le(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}le(lB,_L,"PgTimestamp");var AL,PL;class cB extends(PL=cp,AL=Be,PL){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new uB(t,this.config)}}le(cB,AL,"PgTimestampStringBuilder");var EL,TL;class uB extends(TL=Xt,EL=Be,TL){constructor(n,r){super(n,r);le(this,"withTimezone");le(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}le(uB,EL,"PgTimestampString");function wr(e,t={}){const{name:n,config:r}=os(e,t);return(r==null?void 0:r.mode)==="string"?new cB(n,r.withTimezone??!1,r.precision):new oB(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var ML,LL;class dB extends(LL=mn,ML=Be,LL){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Ni`gen_random_uuid()`)}build(t){return new hB(t,this.config)}}le(dB,ML,"PgUUIDBuilder");var IL,DL;class hB extends(DL=Xt,IL=Be,DL){getSQLType(){return"uuid"}}le(hB,IL,"PgUUID");function gae(e){return new dB(e??"")}var RL,OL;class fB extends(OL=mn,RL=Be,OL){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new pB(t,this.config)}}le(fB,RL,"PgVarcharBuilder");var FL,zL;class pB extends(zL=Xt,FL=Be,zL){constructor(){super(...arguments);le(this,"length",this.config.length);le(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}le(pB,FL,"PgVarchar");function xn(e,t={}){const{name:n,config:r}=os(e,t);return new fB(n,r)}var BL,$L;class mB extends($L=mn,BL=Be,$L){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new gB(t,this.config)}}le(mB,BL,"PgBinaryVectorBuilder");var UL,VL;class gB extends(VL=Xt,UL=Be,VL){constructor(){super(...arguments);le(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}le(gB,UL,"PgBinaryVector");function xae(e,t){const{name:n,config:r}=os(e,t);return new mB(n,r)}var qL,WL;class xB extends(WL=mn,qL=Be,WL){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new yB(t,this.config)}}le(xB,qL,"PgHalfVectorBuilder");var HL,YL;class yB extends(YL=Xt,HL=Be,YL){constructor(){super(...arguments);le(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}le(yB,HL,"PgHalfVector");function yae(e,t){const{name:n,config:r}=os(e,t);return new xB(n,r)}var GL,KL;class vB extends(KL=mn,GL=Be,KL){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new bB(t,this.config)}}le(vB,GL,"PgSparseVectorBuilder");var QL,XL;class bB extends(XL=Xt,QL=Be,XL){constructor(){super(...arguments);le(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}le(bB,QL,"PgSparseVector");function vae(e,t){const{name:n,config:r}=os(e,t);return new vB(n,r)}var JL,ZL;class wB extends(ZL=mn,JL=Be,ZL){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new jB(t,this.config)}}le(wB,JL,"PgVectorBuilder");var eI,tI;class jB extends(tI=Xt,eI=Be,tI){constructor(){super(...arguments);le(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}le(jB,eI,"PgVector");function bae(e,t){const{name:n,config:r}=os(e,t);return new wB(n,r)}function wae(){return{bigint:Gie,bigserial:Kie,boolean:Qie,char:Xie,cidr:Jie,customType:Zie,date:xz,doublePrecision:eae,inet:tae,integer:Vm,interval:nae,json:qm,jsonb:rae,line:sae,macaddr:iae,macaddr8:aae,numeric:oae,point:lae,geometry:uae,real:dae,serial:hae,smallint:fae,smallserial:pae,text:kt,time:mae,timestamp:wr,uuid:gae,varchar:xn,bit:xae,halfvec:yae,sparsevec:vae,vector:bae}}const vN=Symbol.for("drizzle:PgInlineForeignKeys"),mA=Symbol.for("drizzle:EnableRLS");var nI,rI,sI,iI,aI;class j1 extends(aI=$i,iI=Be,sI=vN,rI=mA,nI=$i.Symbol.ExtraConfigBuilder,aI){constructor(){super(...arguments);le(this,sI,[]);le(this,rI,!1);le(this,nI)}}le(j1,iI,"PgTable"),le(j1,"Symbol",Object.assign({},$i.Symbol,{InlineForeignKeys:vN,EnableRLS:mA}));function jae(e,t,n,r,s=e){const i=new j1(e,r,s),a=typeof t=="function"?t(wae()):t,l=Object.fromEntries(Object.entries(a).map(([d,h])=>{const f=h;f.setName(d);const p=f.build(i);return i[vN].push(...f.buildForeignKeys(p,i)),[d,p]})),c=Object.fromEntries(Object.entries(a).map(([d,h])=>{const f=h;f.setName(d);const p=f.buildExtraConfigColumn(i);return[d,p]})),u=Object.assign(i,l);return u[$i.Symbol.Columns]=l,u[$i.Symbol.ExtraConfigColumns]=c,Object.assign(u,{enableRLS:()=>(u[j1.Symbol.EnableRLS]=!0,u)})}const Xo=(e,t,n)=>jae(e,t,n,void 0),er={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function kr(e,t){return t.includes(e.columnType)}function Nae(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const Sae=bt.union([bt.string(),bt.number(),bt.boolean(),bt.null()]),kae=bt.union([Sae,bt.record(bt.any()),bt.array(bt.any())]),_ae=bt.custom(e=>e instanceof Buffer);function NB(e,t){const n=(t==null?void 0:t.zodInstance)??bt,r=(t==null?void 0:t.coerce)??{};let s;return Nae(e)&&(s=e.enumValues.length?n.enum(e.enumValues):n.string()),s||(kr(e,["PgGeometry","PgPointTuple"])?s=n.tuple([n.number(),n.number()]):kr(e,["PgGeometryObject","PgPointObject"])?s=n.object({x:n.number(),y:n.number()}):kr(e,["PgHalfVector","PgVector"])?(s=n.array(n.number()),s=e.dimensions?s.length(e.dimensions):s):kr(e,["PgLine"])?s=n.tuple([n.number(),n.number(),n.number()]):kr(e,["PgLineABC"])?s=n.object({a:n.number(),b:n.number(),c:n.number()}):kr(e,["PgArray"])?(s=n.array(NB(e.baseColumn,n)),s=e.size?s.length(e.size):s):e.dataType==="array"?s=n.array(n.any()):e.dataType==="number"?s=Cae(e,n,r):e.dataType==="bigint"?s=Aae(e,n,r):e.dataType==="boolean"?s=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?s=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?s=Pae(e,n,r):e.dataType==="json"?s=kae:e.dataType==="custom"?s=n.any():e.dataType==="buffer"&&(s=_ae)),s||(s=n.any()),s}function Cae(e,t,n){let r=e.getSQLType().includes("unsigned"),s,i,a=!1;kr(e,["MySqlTinyInt","SingleStoreTinyInt"])?(s=r?0:er.INT8_MIN,i=r?er.INT8_UNSIGNED_MAX:er.INT8_MAX,a=!0):kr(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=r?0:er.INT16_MIN,i=r?er.INT16_UNSIGNED_MAX:er.INT16_MAX,a=!0):kr(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=r?0:er.INT24_MIN,i=r?er.INT24_UNSIGNED_MAX:er.INT24_MAX,a=kr(e,["MySqlMediumInt","SingleStoreMediumInt"])):kr(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=r?0:er.INT32_MIN,i=r?er.INT32_UNSIGNED_MAX:er.INT32_MAX,a=!0):kr(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=r?0:er.INT48_MIN,i=r?er.INT48_UNSIGNED_MAX:er.INT48_MAX):kr(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||kr(e,["MySqlSerial","SingleStoreSerial"]),s=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,a=!0):kr(e,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,a=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?t.coerce.number():t.number();return l=l.min(s).max(i),a?l.int():l}function Aae(e,t,n){const r=e.getSQLType().includes("unsigned"),s=r?0n:er.INT64_MIN,i=r?er.INT64_UNSIGNED_MAX:er.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(s).max(i)}function Pae(e,t,n){if(kr(e,["PgUUID"]))return t.string().uuid();let r,s,i=!1;kr(e,["PgVarchar","SQLiteText"])?r=e.length:kr(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??er.INT16_UNSIGNED_MAX:kr(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=er.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=er.INT24_UNSIGNED_MAX:e.textType==="text"?r=er.INT16_UNSIGNED_MAX:r=er.INT8_UNSIGNED_MAX),kr(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,i=!0),kr(e,["PgBinaryVector"])&&(s=/^[01]+$/,r=e.dimensions);let a=n===!0||n!=null&&n.string?t.coerce.string():t.string();return a=s?a.regex(s):a,r&&i?a.length(r):r?a.max(r):a}function SB(e){return H9(e)?Hie(e):Yie(e)}function kB(e,t,n,r){const s={};for(const[i,a]of Object.entries(e)){if(!fs(a,Hf)&&!fs(a,Jr)&&!fs(a,Jr.Aliased)&&typeof a=="object"){const h=H9(a)||Wie(a)?SB(a):a;s[i]=kB(h,t[i]??{},n,r);continue}const l=t[i];if(l!==void 0&&typeof l!="function"){s[i]=l;continue}const c=fs(a,Hf)?a:void 0,u=c?NB(c,r):bt.any(),d=typeof l=="function"?l(u):u;n.never(c)||(s[i]=d,c&&(n.nullable(c)&&(s[i]=s[i].nullable()),n.optional(c)&&(s[i]=s[i].optional())))}return bt.object(s)}const Eae={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Jo=(e,t)=>{const n=SB(e);return kB(n,{},Eae)},U0=Xo("families",{id:xn("id").primaryKey().default(Ni`gen_random_uuid()`),name:kt("name").notNull(),createdAt:wr("created_at").defaultNow().notNull()}),r4=Xo("parent_profiles",{id:xn("id").primaryKey().default(Ni`gen_random_uuid()`),familyId:xn("family_id").references(()=>U0.id),name:kt("name").notNull(),age:kt("age"),relationship:kt("relationship"),parentingStyle:kt("parenting_style"),parentingPhilosophy:kt("parenting_philosophy"),personalityTraits:kt("personality_traits").array(),parentingGoals:kt("parenting_goals"),stressors:kt("stressors").array(),supportSystems:kt("support_systems"),notes:kt("notes"),photoUrl:kt("photo_url"),createdAt:wr("created_at").defaultNow().notNull(),updatedAt:wr("updated_at").defaultNow().notNull()}),_B=Xo("child_profiles",{id:xn("id").primaryKey().default(Ni`gen_random_uuid()`),familyId:xn("family_id").references(()=>U0.id),name:kt("name").notNull(),dateOfBirth:xz("date_of_birth").notNull(),gender:kt("gender"),developmentalStage:kt("developmental_stage"),notes:kt("notes"),personalityTraits:kt("personality_traits").array(),photoUrl:kt("photo_url"),createdAt:wr("created_at").defaultNow().notNull()}),Db=Xo("users",{id:xn("id").primaryKey().default(Ni`gen_random_uuid()`),username:kt("username").notNull().unique(),name:kt("name").notNull(),email:kt("email").notNull().unique(),passwordHash:kt("password_hash").notNull(),role:xn("role",{length:50}).default("user").notNull(),familyId:xn("family_id").references(()=>U0.id),createdAt:wr("created_at").defaultNow().notNull(),updatedAt:wr("updated_at").defaultNow().notNull(),lastLoginAt:wr("last_login_at"),subscriptionStatus:xn("subscription_status",{length:50}).default("free").notNull(),subscriptionEndDate:wr("subscription_end_date"),stripeCustomerId:xn("stripe_customer_id",{length:255}),stripeSubscriptionId:xn("stripe_subscription_id",{length:255}),paypalSubscriptionId:xn("paypal_subscription_id",{length:255}),adminNotes:kt("admin_notes"),freeAccessGrantedUntil:wr("free_access_granted_until")}),Tae=Xo("user_notification_settings",{id:xn("id").primaryKey().default(Ni`gen_random_uuid()`),userId:xn("user_id").references(()=>Db.id).notNull(),dailyReminder:kt("daily_reminder").notNull().default("false"),weeklyProgress:kt("weekly_progress").notNull().default("false"),reminderTime:kt("reminder_time").notNull().default("20:00"),notificationEmail:kt("notification_email"),browserNotifications:kt("browser_notifications").notNull().default("false"),emailVerified:kt("email_verified").notNull().default("false"),createdAt:wr("created_at").defaultNow().notNull(),updatedAt:wr("updated_at").defaultNow().notNull()}),CB=Xo("community_posts",{id:xn("id").primaryKey().default(Ni`gen_random_uuid()`),parentId:xn("parent_id").references(()=>r4.id),title:kt("title").notNull(),content:kt("content").notNull(),category:kt("category"),isAnonymous:kt("is_anonymous").notNull().default("false"),likes:kt("likes").array().default([]),createdAt:wr("created_at").defaultNow().notNull()}),Mae=Xo("community_comments",{id:xn("id").primaryKey().default(Ni`gen_random_uuid()`),postId:xn("post_id").references(()=>CB.id),parentId:xn("parent_id").references(()=>r4.id),content:kt("content").notNull(),isAnonymous:kt("is_anonymous").notNull().default("false"),createdAt:wr("created_at").defaultNow().notNull()}),Lae=Xo("journal_entries",{id:xn("id").primaryKey().default(Ni`gen_random_uuid()`),familyId:xn("family_id").references(()=>U0.id),title:kt("title"),content:kt("content").notNull(),mood:kt("mood"),aiAnalyzedMood:kt("ai_analyzed_mood"),emotionTags:kt("emotion_tags").array(),childProfileId:xn("child_profile_id").references(()=>_B.id),childProfileIds:kt("child_profile_ids").array(),aiFeedback:kt("ai_feedback"),developmentalInsight:kt("developmental_insight"),hasAiFeedback:kt("has_ai_feedback").notNull().default("false"),photos:kt("photos").array(),dailyCheckIn:qm("dailyCheckIn"),isFavorite:kt("is_favorite").notNull().default("false"),calmResetUsed:kt("calm_reset_used").notNull().default("false"),entryType:kt("entry_type").notNull().default("shared_journey"),createdAt:wr("created_at").defaultNow().notNull()});Jo(U0).omit({id:!0,createdAt:!0});const Iae=Jo(r4).omit({id:!0,createdAt:!0,updatedAt:!0}),Dae=Jo(_B).omit({id:!0,createdAt:!0});Jo(CB).omit({id:!0,createdAt:!0});Jo(Mae).omit({id:!0,createdAt:!0});const Rae=Jo(Lae).omit({id:!0,createdAt:!0});Jo(Db).omit({id:!0,createdAt:!0,updatedAt:!0});Jo(Tae).omit({id:!0,createdAt:!0,updatedAt:!0});const Oae=Rae.extend({requestAiFeedback:bt.boolean().default(!1),childProfileIds:bt.array(bt.string()).optional().nullable()}),Fae=Xo("wellness_suggestions",{id:xn("id",{length:255}).primaryKey().default(Ni`gen_random_uuid()`),userId:xn("user_id",{length:255}).notNull().references(()=>Db.id,{onDelete:"cascade"}),suggestionId:xn("suggestion_id",{length:255}).notNull(),title:xn("title",{length:255}).notNull(),description:kt("description").notNull(),type:xn("type",{length:50}).notNull(),category:xn("category",{length:50}).notNull(),status:xn("status",{length:20}).notNull().default("suggested"),completedAt:wr("completed_at"),dismissedAt:wr("dismissed_at"),pointsAwarded:Vm("points_awarded").default(0),badgeAwarded:xn("badge_awarded",{length:100}),createdAt:wr("created_at").defaultNow().notNull(),updatedAt:wr("updated_at").defaultNow().notNull()}),zae=Xo("user_wellness_progress",{id:xn("id",{length:255}).primaryKey().default(Ni`gen_random_uuid()`),userId:xn("user_id",{length:255}).notNull().references(()=>Db.id,{onDelete:"cascade"}).unique(),totalPoints:Vm("total_points").notNull().default(0),currentStreak:Vm("current_streak").notNull().default(0),longestStreak:Vm("longest_streak").notNull().default(0),badges:qm("badges").default([]),completedSuggestions:qm("completed_suggestions").default([]),preferences:qm("preferences").default({}),lastActivityDate:wr("last_activity_date"),createdAt:wr("created_at").defaultNow().notNull(),updatedAt:wr("updated_at").defaultNow().notNull()});Jo(Fae).omit({id:!0,createdAt:!0,updatedAt:!0});Jo(zae).omit({id:!0,createdAt:!0,updatedAt:!0});const bN=[{key:"direct-communicator",label:"Direct Communicator",description:"Clear and straightforward in conversations",category:"Communication"},{key:"gentle-communicator",label:"Gentle Communicator",description:"Soft-spoken and nurturing in approach",category:"Communication"},{key:"active-listener",label:"Active Listener",description:"Pays close attention to what children say",category:"Communication"},{key:"storyteller",label:"Storyteller",description:"Uses stories and examples to teach and connect",category:"Communication"},{key:"patient",label:"Patient",description:"Maintains calm in challenging situations",category:"Emotional"},{key:"empathetic",label:"Empathetic",description:"Understands and shares children's feelings",category:"Emotional"},{key:"optimistic",label:"Optimistic",description:"Focuses on positive aspects and possibilities",category:"Emotional"},{key:"mindful",label:"Mindful",description:"Present and aware in parenting moments",category:"Emotional"},{key:"resilient",label:"Resilient",description:"Bounces back from parenting challenges",category:"Emotional"},{key:"structured",label:"Structured",description:"Prefers clear rules and consistent routines",category:"Teaching"},{key:"flexible",label:"Flexible",description:"Adapts approach based on situation",category:"Teaching"},{key:"encouraging",label:"Encouraging",description:"Focuses on building confidence and self-esteem",category:"Teaching"},{key:"educational",label:"Educational",description:"Turns everyday moments into learning opportunities",category:"Teaching"},{key:"democratic",label:"Democratic",description:"Involves children in decision-making when appropriate",category:"Teaching"},{key:"energetic",label:"Energetic",description:"High energy and enthusiasm for activities",category:"Energy"},{key:"calm",label:"Calm",description:"Maintains peaceful energy and demeanor",category:"Energy"},{key:"playful",label:"Playful",description:"Enjoys games, humor, and fun activities",category:"Energy"},{key:"spontaneous",label:"Spontaneous",description:"Embraces unexpected moments and adventures",category:"Energy"},{key:"thoughtful",label:"Thoughtful",description:"Considers decisions carefully and plans ahead",category:"Energy"},{key:"independence-focused",label:"Independence-Focused",description:"Prioritizes building self-reliance",category:"Values"},{key:"connection-focused",label:"Connection-Focused",description:"Prioritizes emotional bonds and relationships",category:"Values"},{key:"achievement-oriented",label:"Achievement-Oriented",description:"Values accomplishments and goal-setting",category:"Values"},{key:"process-oriented",label:"Process-Oriented",description:"Values effort and learning over outcomes",category:"Values"},{key:"creative",label:"Creative",description:"Encourages artistic expression and imagination",category:"Values"},{key:"analytical",label:"Analytical",description:"Approaches problems methodically",category:"Problem-Solving"},{key:"intuitive",label:"Intuitive",description:"Trusts instincts in parenting decisions",category:"Problem-Solving"},{key:"collaborative",label:"Collaborative",description:"Works with children to solve problems together",category:"Problem-Solving"},{key:"protective",label:"Protective",description:"Prioritizes safety and security",category:"Problem-Solving"}],Bae=[{value:"authoritative",label:"Authoritative",description:"High responsiveness, high demands. Warm but firm with clear expectations."},{value:"permissive",label:"Permissive",description:"High responsiveness, low demands. Warm and accepting with few rules."},{value:"authoritarian",label:"Authoritarian",description:"Low responsiveness, high demands. Strict with clear rules and expectations."},{value:"uninvolved",label:"Uninvolved",description:"Low responsiveness, low demands. Hands-off approach with minimal involvement."},{value:"balanced",label:"Balanced/Adaptive",description:"Flexible approach that adapts based on situation and child's needs."},{value:"gentle",label:"Gentle Parenting",description:"Emphasizes empathy, respect, understanding, and boundaries."},{value:"positive",label:"Positive Parenting",description:"Focuses on positive reinforcement and building strong relationships."}],$ae=["Tantrums and meltdowns","Sleep issues","Meal times and picky eating","Screen time management","Homework and school challenges","Sibling conflicts","Discipline and setting boundaries","Time management and scheduling","Work-life balance","Financial pressures","Extended family dynamics","Social pressures and comparisons","Child's emotional needs","Safety concerns","Developmental milestones"];function Uae(e){return e?bN.filter(t=>t.category===e):bN}function Vae(e){return bN.find(t=>t.key===e)}const gA=["Communication","Emotional","Teaching","Energy","Values","Problem-Solving"];function Yg({onTranscription:e,placeholder:t="Click to start voice input",isInline:n=!1,className:r=""}){const[s,i]=N.useState(!1),[a,l]=N.useState(!1),c=N.useRef(null),{toast:u}=vs();N.useEffect(()=>{const f=window.SpeechRecognition||window.webkitSpeechRecognition;return f&&(l(!0),c.current=new f,c.current.continuous=!1,c.current.interimResults=!1,c.current.lang="en-US",c.current.onresult=p=>{const g=p.results[0][0].transcript;e(g),i(!1)},c.current.onerror=p=>{console.error("Speech recognition error:",p.error),i(!1),u({title:"Voice Input Error",description:"There was an issue with voice recognition. Please try again.",variant:"destructive"})},c.current.onend=()=>{i(!1)}),()=>{c.current&&c.current.abort()}},[e,u]);const d=()=>{if(!a){u({title:"Not Supported",description:"Voice input is not supported in your browser.",variant:"destructive"});return}c.current&&!s&&(i(!0),c.current.start())},h=()=>{c.current&&s&&(c.current.stop(),i(!1))};return a?n?o.jsx(ve,{type:"button",variant:"ghost",size:"sm",className:`absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-primary/10 ${r}`,onClick:s?h:d,title:s?"Stop voice input":"Start voice input",children:s?o.jsx(PQ,{className:"h-4 w-4 text-red-500 animate-pulse"}):o.jsx(fC,{className:"h-4 w-4 text-neutral-500 hover:text-primary"})}):o.jsx(ve,{type:"button",variant:s?"destructive":"outline",onClick:s?h:d,className:`flex items-center space-x-2 ${r}`,disabled:!a,children:s?o.jsxs(o.Fragment,{children:[o.jsx(jQ,{className:"h-4 w-4"}),o.jsx("span",{children:"Stop Recording"})]}):o.jsxs(o.Fragment,{children:[o.jsx(fC,{className:"h-4 w-4"}),o.jsx("span",{children:"Voice Input"})]})}):null}const Sc=Yg;function qae({existingProfile:e,onSuccess:t}){const{toast:n}=vs(),r=Bs(),[s,i]=N.useState((e==null?void 0:e.personalityTraits)||[]),[a,l]=N.useState((e==null?void 0:e.stressors)||[]),[c,u]=N.useState(gA[0]),d=Fi({resolver:zi(Iae),defaultValues:{name:(e==null?void 0:e.name)??"",age:(e==null?void 0:e.age)??"",parentingStyle:(e==null?void 0:e.parentingStyle)??"",parentingPhilosophy:(e==null?void 0:e.parentingPhilosophy)??"",personalityTraits:(e==null?void 0:e.personalityTraits)??[],parentingGoals:(e==null?void 0:e.parentingGoals)??"",stressors:(e==null?void 0:e.stressors)??[],supportSystems:(e==null?void 0:e.supportSystems)??"",notes:(e==null?void 0:e.notes)??""}});N.useEffect(()=>{e&&(i(e.personalityTraits||[]),l(e.stressors||[]))},[e]);const h=On({mutationFn:async y=>await(await xr("POST","/api/parent-profile",y)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/parent-profile"]}),n({title:" Profile Created!",description:"Your parent profile has been created successfully."}),t()},onError:y=>{console.error("Profile creation error:",y),n({title:" Creation Failed",description:"Failed to create your profile. Please try again.",variant:"destructive"})}}),f=On({mutationFn:async y=>await(await xr("PATCH","/api/parent-profile",y)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/parent-profile"]}),n({title:" Profile Updated!",description:"Your parent profile has been updated successfully."}),t()},onError:y=>{n({title:" Update Failed",description:`Failed to update your profile. Error: ${y.message||"Unknown error"}`,variant:"destructive"})}}),p=y=>{const w=s.includes(y)?s.filter(_=>_!==y):[...s,y];w.length<=7&&(i(w),d.setValue("personalityTraits",w))},g=y=>{const w=a.includes(y)?a.filter(_=>_!==y):[...a,y];l(w),d.setValue("stressors",w)},x=y=>{const w={...y,personalityTraits:s,stressors:a};e?f.mutate(w):h.mutate(w)},b=h.isPending||f.isPending,v=Uae(c);return o.jsx(Bi,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(x),className:"space-y-6",children:[o.jsx(Ye,{className:"border-sky-200",children:o.jsxs(Xe,{className:"p-4 space-y-4",children:[o.jsxs("h3",{className:"font-medium text-sky-800 flex items-center",children:[o.jsx(Bl,{className:"h-4 w-4 mr-2"}),"Basic Information"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Wt,{control:d.control,name:"name",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Your Name *"}),o.jsx($t,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Kt,{placeholder:"Enter your name",className:"pr-12",...y,value:y.value??""}),o.jsx(Sc,{onTranscription:w=>{y.onChange(w)},isInline:!0})]})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:d.control,name:"age",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Age (Optional)"}),o.jsx($t,{children:o.jsx(Kt,{placeholder:"e.g., 32",...y,value:y.value??""})}),o.jsx(Ut,{})]})})]}),o.jsx(Wt,{control:d.control,name:"parentingStyle",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Parenting Style"}),o.jsxs(vr,{onValueChange:y.onChange,defaultValue:y.value??"",children:[o.jsx($t,{children:o.jsx(ar,{children:o.jsx(br,{placeholder:"Select your parenting style"})})}),o.jsx(or,{children:Bae.map(w=>o.jsx(pt,{value:w.value,children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:w.label}),o.jsx("div",{className:"text-xs text-neutral-500",children:w.description})]})},w.value))})]}),o.jsx(Ut,{})]})})]})}),o.jsx(Ye,{className:"border-sky-200",children:o.jsxs(Xe,{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"font-medium text-sky-800 flex items-center",children:[o.jsx(rn,{className:"h-4 w-4 mr-2"}),"Your Personality Traits"]}),o.jsxs(xt,{variant:"outline",className:"text-xs",children:[s.length,"/7 selected"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"text-sm font-medium text-neutral-700",children:"Step 1: Please select a category below"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:gA.map(y=>o.jsx(ve,{type:"button",variant:c===y?"default":"outline",onClick:()=>u(y),className:"text-xs",children:y},y))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"text-sm font-medium text-neutral-700",children:"Step 2: Choose the ones that most closely fit your personality"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:v.map(y=>{const w=s.includes(y.key);return o.jsx(ve,{type:"button",variant:w?"default":"outline",onClick:()=>p(y.key),className:`justify-start text-left h-auto p-3 ${w?"bg-sky-600 text-white":"hover:bg-sky-50"}`,disabled:!w&&s.length>=7,children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:y.label}),o.jsx("div",{className:"text-xs opacity-80",children:y.description})]})},y.key)})}),s.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-sky-700 mb-2",children:"Selected Traits:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:s.map(y=>{const w=Vae(y);return o.jsxs(xt,{variant:"secondary",className:"bg-sky-100 text-sky-800 hover:bg-sky-200",children:[w==null?void 0:w.label,o.jsx(ve,{type:"button",variant:"ghost",className:"h-4 w-4 p-0 ml-1 hover:bg-sky-200",onClick:()=>p(y),children:o.jsx(Kr,{className:"h-3 w-3"})})]},y)})})]})]})]})}),o.jsx(Ye,{className:"border-sky-200",children:o.jsxs(Xe,{className:"p-4 space-y-4",children:[o.jsxs("h3",{className:"font-medium text-sky-800 flex items-center",children:[o.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Philosophy & Goals"]}),o.jsx(Wt,{control:d.control,name:"parentingPhilosophy",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Your Parenting Philosophy"}),o.jsx($t,{children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Xr,{placeholder:"Describe your approach to parenting, core beliefs, and values...",className:"min-h-[80px]",...y,value:y.value??""}),o.jsx(Sc,{onTranscription:w=>{const _=y.value??"",C=_?`${_} ${w}`:w;y.onChange(C)},className:"self-start"})]})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:d.control,name:"parentingGoals",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"What You Hope to Achieve as a Parent"}),o.jsx($t,{children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Xr,{placeholder:"What kind of person do you want to help your child become? What values do you want to instill?",className:"min-h-[80px]",...y,value:y.value??""}),o.jsx(Sc,{onTranscription:w=>{const _=y.value??"",C=_?`${_} ${w}`:w;y.onChange(C)},className:"self-start"})]})}),o.jsx(Ut,{})]})})]})}),o.jsx(Ye,{className:"border-sky-200",children:o.jsxs(Xe,{className:"p-4 space-y-4",children:[o.jsxs("h3",{className:"font-medium text-sky-800 flex items-center",children:[o.jsx(Yv,{className:"h-4 w-4 mr-2"}),"Common Parenting Stressors"]}),o.jsx("p",{className:"text-sm text-sky-600",children:"Select the situations that tend to challenge you most:"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:$ae.map(y=>{const w=a.includes(y);return o.jsx(ve,{type:"button",variant:w?"default":"outline",onClick:()=>g(y),className:`justify-start text-left ${w?"bg-sky-600 text-white":"hover:bg-sky-50"}`,children:y},y)})}),o.jsx(Wt,{control:d.control,name:"supportSystems",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Your Support Systems"}),o.jsx($t,{children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Xr,{placeholder:"Who or what helps you when parenting gets tough? (family, friends, community, professionals, etc.)",className:"min-h-[60px]",...y,value:y.value??""}),o.jsx(Sc,{onTranscription:w=>{const _=y.value??"",C=_?`${_} ${w}`:w;y.onChange(C)},className:"self-start"})]})}),o.jsx(Ut,{})]})})]})}),o.jsx(Ye,{className:"border-sky-200",children:o.jsx(Xe,{className:"p-4 space-y-4",children:o.jsx(Wt,{control:d.control,name:"notes",render:({field:y})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Additional Notes"}),o.jsx($t,{children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Xr,{placeholder:"Any other details about your parenting style, preferences, or circumstances that might help with AI analysis...",className:"min-h-[60px]",...y,value:y.value??""}),o.jsx(Sc,{onTranscription:w=>{const _=y.value??"",C=_?`${_} ${w}`:w;y.onChange(C)},className:"self-start"})]})}),o.jsx(Ut,{})]})})})}),o.jsx("div",{className:"flex justify-end gap-3 pt-4",children:o.jsx(ve,{type:"submit",disabled:b,className:"bg-sky-600 hover:bg-sky-700 text-white",children:b?"Saving...":e?"Update Profile":"Create Profile"})})]})})}function Wae({trigger:e}){const[t,n]=N.useState(!1),{data:r}=Ht({queryKey:["/api/parent-profile"]});return o.jsxs(yr,{open:t,onOpenChange:n,children:[o.jsx(Vl,{asChild:!0,children:e||o.jsxs(ve,{variant:"outline",className:"w-full justify-start p-3 h-auto border-neutral-200 hover:border-primary hover:bg-primary/5 hover-lift button-press interactive-card",children:[o.jsx(Bl,{className:"text-primary mr-3 h-5 w-5"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium text-neutral-800",children:"My Profile"}),o.jsx("div",{className:"text-xs text-neutral-500",children:r?"Update your information":"Set up your parent profile"})]})]})}),o.jsxs(rr,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(sr,{children:[o.jsxs(ir,{className:"flex items-center text-xl",children:[o.jsx(Bl,{className:"mr-2 h-5 w-5 text-primary"}),r?"Update Your Profile":"Create Your Parent Profile"]}),o.jsx(ps,{children:r?"Update your parenting information to improve AI analysis and recommendations.":"Tell us about yourself as a parent to get personalized AI insights and feedback."})]}),o.jsx(qae,{existingProfile:r,onSuccess:()=>n(!1)})]})]})}var Et=function(){return Et=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Et.apply(this,arguments)};function Hae(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function AB(e,t,n){for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function V0(e){return e.mode==="multiple"}function q0(e){return e.mode==="range"}function Rb(e){return e.mode==="single"}var Yae={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Gae(e,t){return tn(e,"LLLL y",t)}function Kae(e,t){return tn(e,"d",t)}function Qae(e,t){return tn(e,"LLLL",t)}function Xae(e){return"".concat(e)}function Jae(e,t){return tn(e,"cccccc",t)}function Zae(e,t){return tn(e,"yyyy",t)}var eoe=Object.freeze({__proto__:null,formatCaption:Gae,formatDay:Kae,formatMonthCaption:Qae,formatWeekNumber:Xae,formatWeekdayName:Jae,formatYearCaption:Zae}),toe=function(e,t,n){return tn(e,"do MMMM (EEEE)",n)},noe=function(){return"Month: "},roe=function(){return"Go to next month"},soe=function(){return"Go to previous month"},ioe=function(e,t){return tn(e,"cccc",t)},aoe=function(e){return"Week n. ".concat(e)},ooe=function(){return"Year: "},loe=Object.freeze({__proto__:null,labelDay:toe,labelMonthDropdown:noe,labelNext:roe,labelPrevious:soe,labelWeekNumber:aoe,labelWeekday:ioe,labelYearDropdown:ooe});function coe(){var e="buttons",t=Yae,n=B7,r={},s={},i=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:eoe,labels:loe,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:a,today:l,mode:"default"}}function uoe(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,i=e.fromDate,a=e.toDate;return r?i=Rs(r):t&&(i=new Date(t,0,1)),s?a=z0(s):n&&(a=new Date(n,11,31)),{fromDate:i?Vf(i):void 0,toDate:a?Vf(a):void 0}}var PB=N.createContext(void 0);function doe(e){var t,n=e.initialProps,r=coe(),s=uoe(n),i=s.fromDate,a=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(Rb(n)||V0(n)||q0(n))&&(c=n.onSelect);var u=Et(Et(Et({},r),n),{captionLayout:l,classNames:Et(Et({},r.classNames),n.classNames),components:Et({},n.components),formatters:Et(Et({},r.formatters),n.formatters),fromDate:i,labels:Et(Et({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Et(Et({},r.modifiers),n.modifiers),modifiersClassNames:Et(Et({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Et(Et({},r.styles),n.styles),toDate:a});return o.jsx(PB.Provider,{value:u,children:e.children})}function Vn(){var e=N.useContext(PB);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function EB(e){var t=Vn(),n=t.locale,r=t.classNames,s=t.styles,i=t.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function hoe(e){return o.jsx("svg",Et({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function TB(e){var t,n,r=e.onChange,s=e.value,i=e.children,a=e.caption,l=e.className,c=e.style,u=Vn(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:hoe;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function foe(e){var t,n=Vn(),r=n.fromDate,s=n.toDate,i=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var h=[];if(Use(r,s))for(var f=Rs(r),p=r.getMonth();p<=s.getMonth();p++)h.push(Ow(f,p));else for(var f=Rs(new Date),p=0;p<=11;p++)h.push(Ow(f,p));var g=function(b){var v=Number(b.target.value),y=Ow(Rs(e.displayMonth),v);e.onChange(y)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:TB;return o.jsx(x,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:h.map(function(b){return o.jsx("option",{value:b.getMonth(),children:l(b,{locale:a})},b.getMonth())})})}function poe(e){var t,n=e.displayMonth,r=Vn(),s=r.fromDate,i=r.toDate,a=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!s)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var p=s.getFullYear(),g=i.getFullYear(),x=p;x<=g;x++)f.push(iA(F7(new Date),x));var b=function(y){var w=iA(Rs(n),Number(y.target.value));e.onChange(w)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:TB;return o.jsx(v,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:n.getFullYear(),caption:d(n,{locale:a}),children:f.map(function(y){return o.jsx("option",{value:y.getFullYear(),children:d(y,{locale:a})},y.getFullYear())})})}function moe(e,t){var n=N.useState(e),r=n[0],s=n[1],i=t===void 0?r:t;return[i,s]}function goe(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,i=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&qf(i,s)<0){var u=-1*(c-1);s=io(i,u)}return a&&qf(s,a)<0&&(s=a),Rs(s)}function xoe(){var e=Vn(),t=goe(e),n=moe(t,e.month),r=n[0],s=n[1],i=function(a){var l;if(!e.disableNavigation){var c=Rs(a);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function yoe(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=Rs(e),i=Rs(io(s,r)),a=qf(i,s),l=[],c=0;c<a;c++){var u=io(s,c);l.push(u)}return n&&(l=l.reverse()),l}function voe(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=Rs(e);if(!n)return io(l,a);var c=qf(n,e);if(!(c<i))return io(l,a)}}function boe(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=Rs(e);if(!n)return io(l,-a);var c=qf(l,n);if(!(c<=0))return io(l,-a)}}var MB=N.createContext(void 0);function woe(e){var t=Vn(),n=xoe(),r=n[0],s=n[1],i=yoe(r,t),a=voe(r,t),l=boe(r,t),c=function(h){return i.some(function(f){return Kk(h,f)})},u=function(h,f){c(h)||(f&&W7(h,f)?s(io(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(MB.Provider,{value:d,children:e.children})}function W0(){var e=N.useContext(MB);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function xA(e){var t,n=Vn(),r=n.classNames,s=n.styles,i=n.components,a=W0().goToMonth,l=function(d){a(io(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:EB,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:u}),o.jsx(foe,{onChange:l,displayMonth:e.displayMonth}),o.jsx(poe,{onChange:l,displayMonth:e.displayMonth})]})}function joe(e){return o.jsx("svg",Et({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Noe(e){return o.jsx("svg",Et({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var N1=N.forwardRef(function(e,t){var n=Vn(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var a=i.join(" "),l=Et(Et({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),o.jsx("button",Et({},e,{ref:t,type:"button",className:a,style:l}))});function Soe(e){var t,n,r=Vn(),s=r.dir,i=r.locale,a=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var f=u(e.previousMonth,{locale:i}),p=[a.nav_button,a.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),x=[a.nav_button,a.nav_button_next].join(" "),b=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:Noe,v=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:joe;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(N1,{name:"previous-month","aria-label":f,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?o.jsx(b,{className:a.nav_icon,style:l.nav_icon}):o.jsx(v,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(N1,{name:"next-month","aria-label":g,className:x,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?o.jsx(v,{className:a.nav_icon,style:l.nav_icon}):o.jsx(b,{className:a.nav_icon,style:l.nav_icon})})]})}function yA(e){var t=Vn().numberOfMonths,n=W0(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(g){return Kk(e.displayMonth,g)}),c=l===0,u=l===a.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),f=function(){r&&i(r)},p=function(){s&&i(s)};return o.jsx(Soe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:f,onNextClick:p})}function koe(e){var t,n=Vn(),r=n.classNames,s=n.disableNavigation,i=n.styles,a=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:EB,u;return s?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=o.jsx(xA,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(xA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(yA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(yA,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:r.caption,style:i.caption,children:u})}function _oe(e){var t=Vn(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?o.jsx("tfoot",{className:s,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function Coe(e,t,n){for(var r=n?Td(new Date):Ji(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var a=Xs(r,i);s.push(a)}return s}function Aoe(){var e=Vn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Coe(s,i,a);return o.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return o.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},h)})]})}function Poe(){var e,t=Vn(),n=t.classNames,r=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:Aoe;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(i,{})})}function Eoe(e){var t=Vn(),n=t.locale,r=t.formatters.formatDay;return o.jsx(o.Fragment,{children:r(e.date,{locale:n})})}var s4=N.createContext(void 0);function Toe(e){if(!V0(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(s4.Provider,{value:t,children:e.children})}return o.jsx(Moe,{initialProps:e.initialProps,children:e.children})}function Moe(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,i=t.max,a=function(u,d,h){var f,p;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var g=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!g){var x=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!x){var b=r?AB([],r):[];if(d.selected){var v=b.findIndex(function(y){return xi(u,y)});b.splice(v,1)}else b.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,b,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=i&&r.length>i-1,h=r.some(function(f){return xi(f,u)});return!!(d&&!h)});var c={selected:r,onDayClick:a,modifiers:l};return o.jsx(s4.Provider,{value:c,children:n})}function i4(){var e=N.useContext(s4);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Loe(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?xi(s,e)&&xi(r,e)?void 0:xi(s,e)?{from:s,to:void 0}:xi(r,e)?void 0:dN(r,e)?{from:e,to:s}:{from:r,to:e}:s?dN(e,s)?{from:s,to:e}:{from:e,to:s}:r?W7(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var a4=N.createContext(void 0);function Ioe(e){if(!q0(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(a4.Provider,{value:t,children:e.children})}return o.jsx(Doe,{initialProps:e.initialProps,children:e.children})}function Doe(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},i=s.from,a=s.to,l=t.min,c=t.max,u=function(p,g,x){var b,v;(b=t.onDayClick)===null||b===void 0||b.call(t,p,g,x);var y=Loe(p,r);(v=t.onSelect)===null||v===void 0||v.call(t,y,p,g,x)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],xi(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),l&&(i&&!a&&d.disabled.push({after:Um(i,l-1),before:Xs(i,l-1)}),i&&a&&d.disabled.push({after:i,before:Xs(i,l-1)}),!i&&a&&d.disabled.push({after:Um(a,l-1),before:Xs(a,l-1)})),c){if(i&&!a&&(d.disabled.push({before:Xs(i,-c+1)}),d.disabled.push({after:Xs(i,c-1)})),i&&a){var h=Ro(a,i)+1,f=c-h;d.disabled.push({before:Um(i,f)}),d.disabled.push({after:Xs(a,f)})}!i&&a&&(d.disabled.push({before:Xs(a,-c+1)}),d.disabled.push({after:Xs(a,c-1)}))}return o.jsx(a4.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function o4(){var e=N.useContext(a4);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function uv(e){return Array.isArray(e)?AB([],e):e!==void 0?[e]:[]}function Roe(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=uv(s)}),t}var ao;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ao||(ao={}));var Ooe=ao.Selected,ml=ao.Disabled,Foe=ao.Hidden,zoe=ao.Today,Uw=ao.RangeEnd,Vw=ao.RangeMiddle,qw=ao.RangeStart,Boe=ao.Outside;function $oe(e,t,n){var r,s=(r={},r[Ooe]=uv(e.selected),r[ml]=uv(e.disabled),r[Foe]=uv(e.hidden),r[zoe]=[e.today],r[Uw]=[],r[Vw]=[],r[qw]=[],r[Boe]=[],r);return e.fromDate&&s[ml].push({before:e.fromDate}),e.toDate&&s[ml].push({after:e.toDate}),V0(e)?s[ml]=s[ml].concat(t.modifiers[ml]):q0(e)&&(s[ml]=s[ml].concat(n.modifiers[ml]),s[qw]=n.modifiers[qw],s[Vw]=n.modifiers[Vw],s[Uw]=n.modifiers[Uw]),s}var LB=N.createContext(void 0);function Uoe(e){var t=Vn(),n=i4(),r=o4(),s=$oe(t,n,r),i=Roe(t.modifiers),a=Et(Et({},s),i);return o.jsx(LB.Provider,{value:a,children:e.children})}function IB(){var e=N.useContext(LB);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Voe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function qoe(e){return!!(e&&typeof e=="object"&&"from"in e)}function Woe(e){return!!(e&&typeof e=="object"&&"after"in e)}function Hoe(e){return!!(e&&typeof e=="object"&&"before"in e)}function Yoe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Goe(e,t){var n,r=t.from,s=t.to;if(r&&s){var i=Ro(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var a=Ro(e,r)>=0&&Ro(s,e)>=0;return a}return s?xi(s,e):r?xi(r,e):!1}function Koe(e){return Gk(e)}function Qoe(e){return Array.isArray(e)&&e.every(Gk)}function Xoe(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Koe(n))return xi(e,n);if(Qoe(n))return n.includes(e);if(qoe(n))return Goe(e,n);if(Yoe(n))return n.dayOfWeek.includes(e.getDay());if(Voe(n)){var r=Ro(n.before,e),s=Ro(n.after,e),i=r>0,a=s<0,l=dN(n.before,n.after);return l?a&&i:i||a}return Woe(n)?Ro(e,n.after)>0:Hoe(n)?Ro(n.before,e)>0:typeof n=="function"?n(e):!1})}function l4(e,t,n){var r=Object.keys(t).reduce(function(i,a){var l=t[a];return Xoe(e,l)&&i.push(a),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!Kk(e,n)&&(s.outside=!0),s}function Joe(e,t){for(var n=Rs(e[0]),r=z0(e[e.length-1]),s,i,a=n;a<=r;){var l=l4(a,t),c=!l.disabled&&!l.hidden;if(!c){a=Xs(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),s||(s=a),a=Xs(a,1)}return i||s}var Zoe=365;function DB(e,t){var n=t.moveBy,r=t.direction,s=t.context,i=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,f={day:Xs,week:g1,month:io,year:Dre,startOfWeek:function(b){return s.ISOWeek?Td(b):Ji(b,{locale:h,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?z7(b):Wf(b,{locale:h,weekStartsOn:c})}},p=f[n](e,r==="after"?1:-1);r==="before"&&u?p=Rre([u,p]):r==="after"&&d&&(p=Ore([d,p]));var g=!0;if(i){var x=l4(p,i);g=!x.disabled&&!x.hidden}return g?p:l.count>Zoe?l.lastFocused:DB(p,{moveBy:n,direction:r,context:s,modifiers:i,retry:Et(Et({},l),{count:l.count+1})})}var RB=N.createContext(void 0);function ele(e){var t=W0(),n=IB(),r=N.useState(),s=r[0],i=r[1],a=N.useState(),l=a[0],c=a[1],u=Joe(t.displayMonths,n),d=s??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(s),i(void 0)},f=function(b){i(b)},p=Vn(),g=function(b,v){if(s){var y=DB(s,{moveBy:b,direction:v,context:p,modifiers:n});xi(s,y)||(t.goToDate(y,s),f(y))}},x={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(RB.Provider,{value:x,children:e.children})}function c4(){var e=N.useContext(RB);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function tle(e,t){var n=IB(),r=l4(e,n,t);return r}var u4=N.createContext(void 0);function nle(e){if(!Rb(e.initialProps)){var t={selected:void 0};return o.jsx(u4.Provider,{value:t,children:e.children})}return o.jsx(rle,{initialProps:e.initialProps,children:e.children})}function rle(e){var t=e.initialProps,n=e.children,r=function(i,a,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,a,l),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,a,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,a,l)},s={selected:t.selected,onDayClick:r};return o.jsx(u4.Provider,{value:s,children:n})}function OB(){var e=N.useContext(u4);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function sle(e,t){var n=Vn(),r=OB(),s=i4(),i=o4(),a=c4(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,h=a.blur,f=a.focus,p=a.focusMonthBefore,g=a.focusMonthAfter,x=a.focusYearBefore,b=a.focusYearAfter,v=a.focusStartOfWeek,y=a.focusEndOfWeek,w=function(H){var R,G,M,ae;Rb(n)?(R=r.onDayClick)===null||R===void 0||R.call(r,e,t,H):V0(n)?(G=s.onDayClick)===null||G===void 0||G.call(s,e,t,H):q0(n)?(M=i.onDayClick)===null||M===void 0||M.call(i,e,t,H):(ae=n.onDayClick)===null||ae===void 0||ae.call(n,e,t,H)},_=function(H){var R;f(e),(R=n.onDayFocus)===null||R===void 0||R.call(n,e,t,H)},C=function(H){var R;h(),(R=n.onDayBlur)===null||R===void 0||R.call(n,e,t,H)},E=function(H){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,e,t,H)},O=function(H){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,e,t,H)},T=function(H){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,e,t,H)},$=function(H){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,e,t,H)},B=function(H){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,e,t,H)},L=function(H){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,e,t,H)},P=function(H){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,e,t,H)},D=function(H){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,e,t,H)},F=function(H){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,e,t,H)},U=function(H){var R;switch(H.key){case"ArrowLeft":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":H.preventDefault(),H.stopPropagation(),u();break;case"ArrowUp":H.preventDefault(),H.stopPropagation(),d();break;case"PageUp":H.preventDefault(),H.stopPropagation(),H.shiftKey?x():p();break;case"PageDown":H.preventDefault(),H.stopPropagation(),H.shiftKey?b():g();break;case"Home":H.preventDefault(),H.stopPropagation(),v();break;case"End":H.preventDefault(),H.stopPropagation(),y();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,e,t,H)},W={onClick:w,onFocus:_,onBlur:C,onKeyDown:U,onKeyUp:F,onMouseEnter:E,onMouseLeave:O,onPointerEnter:T,onPointerLeave:$,onTouchCancel:B,onTouchEnd:L,onTouchMove:P,onTouchStart:D};return W}function ile(){var e=Vn(),t=OB(),n=i4(),r=o4(),s=Rb(e)?t.selected:V0(e)?n.selected:q0(e)?r.selected:void 0;return s}function ale(e){return Object.values(ao).includes(e)}function ole(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(ale(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function lle(e,t){var n=Et({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=Et(Et({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function cle(e,t,n){var r,s,i,a=Vn(),l=c4(),c=tle(e,t),u=sle(e,c),d=ile(),h=!!(a.onDayClick||a.mode!=="default");N.useEffect(function(){var E;c.outside||l.focusedDay&&h&&xi(l.focusedDay,e)&&((E=n.current)===null||E===void 0||E.focus())},[l.focusedDay,e,n,h,c.outside]);var f=ole(a,c).join(" "),p=lle(a,c),g=!!(c.outside&&!a.showOutsideDays||c.hidden),x=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Eoe,b=o.jsx(x,{date:e,displayMonth:t,activeModifiers:c}),v={style:p,className:f,children:b,role:"gridcell"},y=l.focusTarget&&xi(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&xi(l.focusedDay,e),_=Et(Et(Et({},v),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=w||y?0:-1,r)),u),C={isButton:h,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:v};return C}function ule(e){var t=N.useRef(null),n=cle(e.date,e.displayMonth,t);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(N1,Et({name:"day",ref:t},n.buttonProps)):o.jsx("div",Et({},n.divProps))}function dle(e){var t=e.number,n=e.dates,r=Vn(),s=r.onWeekNumberClick,i=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var h=c(Number(t),{locale:l}),f=function(p){s(t,n,p)};return o.jsx(N1,{name:"week-number","aria-label":h,className:a.weeknumber,style:i.weeknumber,onClick:f,children:d})}function hle(e){var t,n,r=Vn(),s=r.styles,i=r.classNames,a=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:ule,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:dle,d;return a&&(d=o.jsx("td",{className:i.cell,style:s.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(h){return o.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:h})},zse(h))})]})}function vA(e,t,n){for(var r=n!=null&&n.ISOWeek?z7(t):Wf(t,n),s=n!=null&&n.ISOWeek?Td(e):Ji(e,n),i=Ro(r,s),a=[],l=0;l<=i;l++)a.push(Xs(s,l));var c=a.reduce(function(u,d){var h=n!=null&&n.ISOWeek?$7(d):V7(d,n),f=u.find(function(p){return p.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function fle(e,t){var n=vA(Rs(e),z0(e),t);if(t!=null&&t.useFixedWeeks){var r=$se(e,t);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],a=g1(i,6-r),l=vA(g1(i,1),a,t);n.push.apply(n,l)}}return n}function ple(e){var t,n,r,s=Vn(),i=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,p=s.ISOWeek,g=fle(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),x=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Poe,b=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:hle,v=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:_oe;return o.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(x,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:g.map(function(y){return o.jsx(b,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),o.jsx(v,{displayMonth:e.displayMonth})]})}function mle(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var gle=mle()?N.useLayoutEffect:N.useEffect,Ww=!1,xle=0;function bA(){return"react-day-picker-".concat(++xle)}function yle(e){var t,n=e??(Ww?bA():null),r=N.useState(n),s=r[0],i=r[1];return gle(function(){s===null&&i(bA())},[]),N.useEffect(function(){Ww===!1&&(Ww=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function vle(e){var t,n,r=Vn(),s=r.dir,i=r.classNames,a=r.styles,l=r.components,c=W0().displayMonths,u=yle(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=a.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,x=!p&&!g;s==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(h.push(i.caption_start),f=Et(Et({},f),a.caption_start)),g&&(h.push(i.caption_end),f=Et(Et({},f),a.caption_end)),x&&(h.push(i.caption_between),f=Et(Et({},f),a.caption_between));var b=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:koe;return o.jsxs("div",{className:h.join(" "),style:f,children:[o.jsx(b,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(ple,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function ble(e){var t=Vn(),n=t.classNames,r=t.styles;return o.jsx("div",{className:n.months,style:r.months,children:e.children})}function wle(e){var t,n,r=e.initialProps,s=Vn(),i=c4(),a=W0(),l=N.useState(!1),c=l[0],u=l[1];N.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=Et(Et({},s.styles.root),s.style),f=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,x){var b;return Et(Et({},g),(b={},b[x]=r[x],b))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:ble;return o.jsx("div",Et({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:o.jsx(p,{children:a.displayMonths.map(function(g,x){return o.jsx(vle,{displayIndex:x,displayMonth:g},x)})})}))}function jle(e){var t=e.children,n=Hae(e,["children"]);return o.jsx(doe,{initialProps:n,children:o.jsx(woe,{children:o.jsx(nle,{initialProps:n,children:o.jsx(Toe,{initialProps:n,children:o.jsx(Ioe,{initialProps:n,children:o.jsx(Uoe,{children:o.jsx(ele,{children:t})})})})})})})}function Nle(e){return o.jsx(jle,Et({},e,{children:o.jsx(wle,{initialProps:e})}))}function Gg({className:e,classNames:t,showOutsideDays:n=!0,...r}){return o.jsx(Nle,{showOutsideDays:n,className:Je("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Je(Eg({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Je(Eg({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>o.jsx(kR,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(ub,{className:"h-4 w-4"})},...r})}Gg.displayName="Calendar";var d4="Popover",[FB,J2e]=$s(d4,[xu]),H0=xu(),[Sle,bu]=FB(d4),zB=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,l=H0(t),c=N.useRef(null),[u,d]=N.useState(!1),[h=!1,f]=qo({prop:r,defaultProp:s,onChange:i});return o.jsx(wk,{...l,children:o.jsx(Sle,{scope:t,contentId:Xa(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:N.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:u,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:a,children:n})})};zB.displayName=d4;var BB="PopoverAnchor",kle=N.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=bu(BB,n),i=H0(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return N.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(k0,{...i,...r,ref:t})});kle.displayName=BB;var $B="PopoverTrigger",UB=N.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=bu($B,n),i=H0(n),a=Yt(t,s.triggerRef),l=o.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":YB(s.open),...r,ref:a,onClick:He(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(k0,{asChild:!0,...i,children:l})});UB.displayName=$B;var h4="PopoverPortal",[_le,Cle]=FB(h4,{forceMount:void 0}),VB=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=bu(h4,t);return o.jsx(_le,{scope:t,forceMount:n,children:o.jsx(as,{present:n||i.open,children:o.jsx(sp,{asChild:!0,container:s,children:r})})})};VB.displayName=h4;var Yf="PopoverContent",qB=N.forwardRef((e,t)=>{const n=Cle(Yf,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=bu(Yf,e.__scopePopover);return o.jsx(as,{present:r||i.open,children:i.modal?o.jsx(Ple,{...s,ref:t}):o.jsx(Ele,{...s,ref:t})})});qB.displayName=Yf;var Ale=ru("PopoverContent.RemoveScroll"),Ple=N.forwardRef((e,t)=>{const n=bu(Yf,e.__scopePopover),r=N.useRef(null),s=Yt(t,r),i=N.useRef(!1);return N.useEffect(()=>{const a=r.current;if(a)return wb(a)},[]),o.jsx(C0,{as:Ale,allowPinchZoom:!0,children:o.jsx(WB,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ele=N.forwardRef((e,t)=>{const n=bu(Yf,e.__scopePopover),r=N.useRef(!1),s=N.useRef(!1);return o.jsx(WB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),WB=N.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=bu(Yf,n),p=H0(n);return vb(),o.jsx(_0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:o.jsx(mb,{"data-state":YB(f.open),role:"dialog",id:f.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),HB="PopoverClose",Tle=N.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=bu(HB,n);return o.jsx(yt.button,{type:"button",...r,ref:t,onClick:He(e.onClick,()=>s.onOpenChange(!1))})});Tle.displayName=HB;var Mle="PopoverArrow",Lle=N.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=H0(n);return o.jsx(gb,{...s,...r,ref:t})});Lle.displayName=Mle;function YB(e){return e?"open":"closed"}var Ile=zB,Dle=UB,Rle=VB,GB=qB;const wN=Ile,jN=Dle,S1=N.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>o.jsx(Rle,{children:o.jsx(GB,{ref:s,align:t,sideOffset:n,className:Je("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));S1.displayName=GB.displayName;function Ole({date:e,onDateChange:t,placeholder:n="Pick a date",className:r}){const[s,i]=N.useState(!1),[a,l]=N.useState(e||new Date),[c,u]=N.useState(e?tn(e,"yyyy-MM-dd"):""),d=N.useMemo(()=>{const x=new Date().getFullYear(),b=1900,v=x+10;return Array.from({length:v-b+1},(y,w)=>b+w)},[]),h=["January","February","March","April","May","June","July","August","September","October","November","December"],f=x=>{const b=new Date(a);b.setFullYear(parseInt(x)),l(b)},p=x=>{const b=new Date(a);b.setMonth(parseInt(x)),l(b)},g=x=>{const b=x.target.value;if(u(b),b){const v=new Date(b);isNaN(v.getTime())||(t(v),l(v),i(!1))}};return N.useEffect(()=>{u(e?tn(e,"yyyy-MM-dd"):"")},[e]),o.jsxs(wN,{open:s,onOpenChange:i,children:[o.jsx(jN,{asChild:!0,children:o.jsxs(ve,{variant:"outline",className:Je("w-full justify-start text-left font-normal",!e&&"text-muted-foreground",r),children:[o.jsx(rs,{className:"mr-2 h-4 w-4"}),e?tn(e,"PPP"):o.jsx("span",{children:n})]})}),o.jsxs(S1,{className:"w-auto p-0",align:"start",children:[o.jsxs("div",{className:"p-3 border-b space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(vr,{value:h[a.getMonth()],onValueChange:p,children:[o.jsx(ar,{className:"w-[120px]",children:o.jsx(br,{})}),o.jsx(or,{children:h.map((x,b)=>o.jsx(pt,{value:b.toString(),children:x},x))})]}),o.jsxs(vr,{value:a.getFullYear().toString(),onValueChange:f,children:[o.jsx(ar,{className:"w-[100px]",children:o.jsx(br,{})}),o.jsx(or,{className:"max-h-[200px] overflow-y-auto",children:d.reverse().map(x=>o.jsx(pt,{value:x.toString(),children:x},x))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Or enter date:"}),o.jsx("input",{type:"date",value:c,onChange:g,min:"1900-01-01",max:tn(new Date,"yyyy-MM-dd"),className:"px-2 py-1 text-sm border rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),o.jsx(Gg,{mode:"single",selected:e,onSelect:x=>{t(x),i(!1)},month:a,onMonthChange:l,disabled:x=>x>new Date||x<new Date("1900-01-01"),initialFocus:!0,fixedWeeks:!0})]})]})}const Kg=[{key:"social_butterfly",emoji:"",label:"Social Butterfly",description:"Loves being around people, makes friends easily",ageRelevant:"2-18 years"},{key:"sensitive_soul",emoji:"",label:"Sensitive Soul",description:"Feels emotions deeply, empathetic to others",ageRelevant:"1-18 years"},{key:"independent_spirit",emoji:"",label:"Independent Spirit",description:"Prefers doing things alone, self-reliant",ageRelevant:"2-18 years"},{key:"people_pleaser",emoji:"",label:"People Pleaser",description:"Wants to make everyone happy, avoids conflict",ageRelevant:"3-18 years"},{key:"energizer_bunny",emoji:"",label:"Energizer Bunny",description:"High energy, always on the move",ageRelevant:"1-18 years"},{key:"calm_observer",emoji:"",label:"Calm Observer",description:"Thoughtful, prefers watching before acting",ageRelevant:"2-18 years"},{key:"thrill_seeker",emoji:"",label:"Thrill Seeker",description:"Loves adventure and taking risks",ageRelevant:"3-18 years"},{key:"little_scientist",emoji:"",label:"Little Scientist",description:"Always asking 'why?', loves experimenting",ageRelevant:"2-18 years"},{key:"creative_artist",emoji:"",label:"Creative Artist",description:"Loves art, music, and imaginative play",ageRelevant:"2-18 years"},{key:"bookworm",emoji:"",label:"Bookworm",description:"Loves stories, reading, and being read to",ageRelevant:"3-18 years"},{key:"builder_engineer",emoji:"",label:"Builder & Engineer",description:"Loves building, taking things apart, and figuring out how things work",ageRelevant:"2-18 years"},{key:"nature_lover",emoji:"",label:"Nature Lover",description:"Fascinated by animals, plants, and outdoor adventures",ageRelevant:"1-18 years"},{key:"performer",emoji:"",label:"Performer",description:"Loves being on stage, singing, dancing, or acting",ageRelevant:"3-18 years"},{key:"helper",emoji:"",label:"Little Helper",description:"Always wants to help with chores and take care of others",ageRelevant:"2-18 years"},{key:"leader",emoji:"",label:"Natural Leader",description:"Takes charge, organizes play, and guides other children",ageRelevant:"4-18 years"},{key:"follower",emoji:"",label:"Team Player",description:"Prefers following others' lead, cooperative in group settings",ageRelevant:"3-18 years"},{key:"detail_oriented",emoji:"",label:"Detail Detective",description:"Notices small details others miss, very observant",ageRelevant:"4-18 years"},{key:"big_picture",emoji:"",label:"Big Picture Thinker",description:"Sees the overall picture, thinks about abstract concepts",ageRelevant:"5-18 years"},{key:"cautious",emoji:"",label:"Cautious & Careful",description:"Thinks before acting, prefers safe and familiar situations",ageRelevant:"2-18 years"},{key:"competitive",emoji:"",label:"Competitive Spirit",description:"Loves games, sports, and winning challenges",ageRelevant:"4-18 years"},{key:"collaborative",emoji:"",label:"Collaborator",description:"Prefers working together rather than competing",ageRelevant:"3-18 years"},{key:"routine_lover",emoji:"",label:"Routine Lover",description:"Thrives with predictable schedules and familiar patterns",ageRelevant:"1-18 years"},{key:"spontaneous",emoji:"",label:"Spontaneous Spirit",description:"Loves surprises, changes, and unexpected adventures",ageRelevant:"3-18 years"},{key:"verbal_processor",emoji:"",label:"Chatty Communicator",description:"Processes thoughts by talking, loves conversations",ageRelevant:"2-18 years"},{key:"quiet_thinker",emoji:"",label:"Quiet Thinker",description:"Processes internally, prefers listening to talking",ageRelevant:"2-18 years"},{key:"morning_person",emoji:"",label:"Early Bird",description:"Most energetic and cheerful in the morning",ageRelevant:"1-18 years"},{key:"night_owl",emoji:"",label:"Night Owl",description:"More alert and active in the evening",ageRelevant:"2-18 years"},{key:"hugger",emoji:"",label:"Affectionate Hugger",description:"Shows love through physical touch and cuddles",ageRelevant:"0-18 years"},{key:"space_needer",emoji:"",label:"Space Needer",description:"Prefers personal space and less physical affection",ageRelevant:"3-18 years"}];function KB(e){return Kg}function f4(e){return Kg.find(t=>t.key===e)}function Fle({profile:e,trigger:t}){const[n,r]=N.useState(!1),[s,i]=N.useState(e.personalityTraits||[]),{toast:a}=vs(),l=Bs(),c=On({mutationFn:async g=>(await xr("PUT",`/api/child-profiles/${e.id}`,g)).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/child-profiles"]}),a({title:"Traits Updated! ",description:`${e.name}'s personality traits have been updated successfully.`}),r(!1)},onError:()=>{a({title:"Error",description:"Failed to update personality traits. Please try again.",variant:"destructive"})}}),u=g=>{i(x=>x.includes(g)?x.filter(b=>b!==g):x.length<7?[...x,g]:(a({title:"Maximum Traits Selected",description:"You can select up to 7 personality traits that best describe your child.",variant:"destructive"}),x))},d=()=>{const g=new Date,x=new Date(e.dateOfBirth);let b=(g.getFullYear()-x.getFullYear())*12;return b+=g.getMonth()-x.getMonth(),g.getDate()<x.getDate()&&b--,KB()},h=g=>{const x=new Date(g),b=new Date;let v=(b.getFullYear()-x.getFullYear())*12;v+=b.getMonth()-x.getMonth(),b.getDate()<x.getDate()&&v--;const y=Math.floor(v/12),w=v%12;return y===0?`${w} ${w===1?"month":"months"} old`:w===0?`${y} ${y===1?"year":"years"} old`:`${y} ${y===1?"year":"years"}, ${w} ${w===1?"month":"months"} old`},f=()=>{c.mutate({personalityTraits:s})},p=()=>{i(e.personalityTraits||[]),r(!1)};return it.useEffect(()=>{n&&i(e.personalityTraits||[])},[n,e.personalityTraits]),o.jsxs(yr,{open:n,onOpenChange:r,children:[o.jsx(Vl,{asChild:!0,children:t||o.jsxs(ve,{variant:"outline",size:"sm",className:"flex items-center",children:[o.jsx(rn,{className:"mr-1 h-3 w-3"}),"Update Traits"]})}),o.jsxs(rr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(sr,{children:[o.jsxs(ir,{className:"flex items-center text-xl",children:[o.jsx(rn,{className:"mr-2 h-5 w-5 text-primary"})," Update ",e.name,"'s Personality Traits"]}),o.jsxs("div",{className:"flex items-center text-sm text-neutral-600 mt-2",children:[o.jsx(rs,{className:"mr-1 h-3 w-3"}),o.jsxs("span",{children:["Currently ",h(e.dateOfBirth)]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:" Why Update Traits?"}),o.jsx("p",{className:"text-sm text-blue-800",children:"Children's personalities evolve as they grow. Updating traits helps ensure you receive the most relevant developmental insights and parenting suggestions for your child's current stage."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-800",children:"Select Current Traits (up to 7)"}),o.jsxs("span",{className:"text-sm text-neutral-600",children:["Selected: ",s.length,"/7"]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3 mb-4",children:o.jsxs("p",{className:"text-xs text-blue-800",children:[" ",o.jsx("strong",{children:"Tip:"})," Tap trait buttons to select them. Scroll through the trait area below to see all options available for your child's current age."]})}),s.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:"Currently selected:"}),o.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:s.map(g=>{const x=f4(g);return x?o.jsxs(xt,{variant:"secondary",className:"text-xs cursor-pointer hover:bg-red-100",onClick:()=>u(g),title:"Click to remove",children:[x.emoji," ",x.label," "]},g):null})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-64 overflow-y-auto p-3 border border-neutral-200 rounded-lg bg-neutral-50/50",children:d().map(g=>o.jsxs("button",{type:"button",onClick:()=>u(g.key),className:`p-4 rounded-lg border text-left transition-all hover:border-primary/50 min-h-[80px] flex flex-col justify-start ${s.includes(g.key)?"border-primary bg-primary/10 text-primary shadow-sm":"border-neutral-200 bg-white hover:bg-neutral-50 hover:shadow-sm"}`,title:g.description,children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("span",{className:"text-xl mr-3 flex-shrink-0",children:g.emoji}),o.jsx("span",{className:"font-medium text-sm leading-tight",children:g.label})]}),o.jsx("p",{className:"text-xs text-neutral-600 leading-relaxed line-clamp-2 flex-1",children:g.description})]},g.key))}),o.jsx("div",{className:"absolute bottom-2 right-2 bg-white/90 rounded-full px-2 py-1 text-xs text-neutral-500 border border-neutral-200 shadow-sm",children:"Scroll for more "})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(ve,{onClick:p,variant:"outline",className:"flex-1",children:"Cancel"}),o.jsx(ve,{onClick:f,disabled:c.isPending,className:"flex-1 bg-primary text-white hover:bg-primary/90",children:c.isPending?"Updating...":" Save Changes"})]})]})]})]})}function zle({editProfile:e,onSuccess:t}){const{toast:n}=vs(),r=Bs(),[s,i]=N.useState((e==null?void 0:e.personalityTraits)||[]),[a,l]=N.useState(1),[c,u]=N.useState(null),d=N.useRef(null),h=Fi({resolver:zi(Dae),defaultValues:{name:(e==null?void 0:e.name)||"",dateOfBirth:(e==null?void 0:e.dateOfBirth)||"",gender:(e==null?void 0:e.gender)||"",developmentalStage:(e==null?void 0:e.developmentalStage)||"",notes:(e==null?void 0:e.notes)||"",personalityTraits:(e==null?void 0:e.personalityTraits)||[]}});it.useEffect(()=>{e!=null&&e.personalityTraits?i(e.personalityTraits):i([])},[e]),N.useEffect(()=>{const y=d.current;if(!y)return;const w=()=>{const{scrollTop:_,scrollHeight:C,clientHeight:E}=y,O=C-E;if(O<=0){l(0);return}const T=_/O,$=Math.max(0,1-T*5);l($)};return w(),y.addEventListener("scroll",w),()=>y.removeEventListener("scroll",w)},[]);const f=On({mutationFn:async y=>(await xr("POST","/api/child-profiles",y)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/child-profiles"]});const y=h.getValues().name;u(y),n({title:"Profile Created! ",description:`${y}'s profile has been saved successfully.`}),t()},onError:()=>{n({title:"Error",description:"Failed to create child profile. Please try again.",variant:"destructive"})}}),p=On({mutationFn:async y=>(await xr("PUT",`/api/child-profiles/${e.id}`,y)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/child-profiles"]}),n({title:"Profile Updated! ",description:"Your child's profile has been updated successfully."}),t()},onError:()=>{n({title:"Error",description:"Failed to update child profile. Please try again.",variant:"destructive"})}}),g=y=>{const w={...y,personalityTraits:s};e?p.mutate(w):f.mutate(w)},x=y=>{i(w=>w.includes(y)?w.filter(_=>_!==y):w.length<7?[...w,y]:(n({title:"Maximum Traits Selected",description:"You can select up to 7 personality traits that best describe your child.",variant:"destructive"}),w))},b=()=>{const y=h.watch("dateOfBirth");if(!y)return Kg;const w=new Date,_=new Date(y);let C=(w.getFullYear()-_.getFullYear())*12;return C+=w.getMonth()-_.getMonth(),w.getDate()<_.getDate()&&C--,KB()},v=y=>{if(!y)return"";const w=new Date(y),_=new Date;let C=(_.getFullYear()-w.getFullYear())*12;C+=_.getMonth()-w.getMonth(),_.getDate()<w.getDate()&&C--;const E=Math.floor(C/12),O=C%12;return E===0?`${O} ${O===1?"month":"months"} old`:O===0?`${E} ${E===1?"year":"years"} old`:`${E} ${E===1?"year":"years"}, ${O} ${O===1?"month":"months"} old`};return o.jsx(Bi,{...h,children:o.jsxs("form",{onSubmit:h.handleSubmit(g),className:"space-y-4",children:[o.jsx(Wt,{control:h.control,name:"name",render:({field:y})=>o.jsxs(Bt,{children:[o.jsxs(It,{className:"text-sm font-medium text-neutral-700",children:[" Child's Name ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx($t,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Kt,{placeholder:"Enter your child's name...",className:"border-neutral-200 focus:ring-2 focus:ring-primary focus:border-transparent pr-12",...y}),o.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:o.jsx(Sc,{onTranscription:w=>{const _=y.value||"";y.onChange(_+(_?" ":"")+w)},isInline:!0})})]})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:h.control,name:"dateOfBirth",render:({field:y})=>o.jsxs(Bt,{children:[o.jsxs(It,{className:"text-sm font-medium text-neutral-700",children:[" Date of Birth ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx($t,{children:o.jsx(Ole,{date:y.value?new Date(y.value):void 0,onDateChange:w=>{y.onChange(w?w.toISOString().split("T")[0]:"")},placeholder:"Select date of birth...",className:"border-neutral-200 focus:ring-2 focus:ring-primary focus:border-transparent"})}),y.value&&o.jsxs("p",{className:"text-xs text-neutral-500",children:["Currently ",v(y.value)]}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:h.control,name:"gender",render:({field:y})=>o.jsxs(Bt,{children:[o.jsxs(It,{className:"text-sm font-medium text-neutral-700",children:[" Gender ",o.jsx("span",{className:"text-neutral-400",children:"(optional)"})]}),o.jsxs(vr,{onValueChange:y.onChange,defaultValue:y.value||"",children:[o.jsx($t,{children:o.jsx(ar,{className:"border-neutral-200 focus:ring-2 focus:ring-primary",children:o.jsx(br,{placeholder:"Select gender..."})})}),o.jsxs(or,{children:[o.jsx(pt,{value:"male",children:" Boy"}),o.jsx(pt,{value:"female",children:" Girl"}),o.jsx(pt,{value:"other",children:" Other"}),o.jsx(pt,{value:"not_specified",children:"Prefer not to say"})]})]}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:h.control,name:"developmentalStage",render:({field:y})=>o.jsxs(Bt,{children:[o.jsxs(It,{className:"text-sm font-medium text-neutral-700",children:[" Developmental Stage ",o.jsx("span",{className:"text-neutral-400",children:"(auto-calculated)"})]}),o.jsxs(vr,{onValueChange:y.onChange,defaultValue:y.value||"",children:[o.jsx($t,{children:o.jsx(ar,{className:"border-neutral-200 focus:ring-2 focus:ring-primary",children:o.jsx(br,{placeholder:"Auto-calculate from age..."})})}),o.jsxs(or,{children:[o.jsx(pt,{value:"auto",children:"Auto-calculate from age"}),bc.map(w=>o.jsxs(pt,{value:w.key,children:[w.label," (",w.ageRange,")"]},w.key))]})]}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:h.control,name:"notes",render:({field:y})=>o.jsxs(Bt,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(It,{className:"text-sm font-medium text-neutral-700",children:[" Notes ",o.jsx("span",{className:"text-neutral-400",children:"(optional)"})]}),o.jsx(Sc,{onTranscription:w=>{const _=y.value||"";y.onChange(_+(_?" ":"")+w)}})]}),o.jsx($t,{children:o.jsx(Xr,{rows:4,placeholder:"Any special notes about your child's personality, interests, developmental milestones, or anything you'd like to remember...",className:"border-neutral-200 focus:ring-2 focus:ring-primary focus:border-transparent resize-none",...y,value:y.value??""})}),o.jsx(Ut,{})]})}),o.jsxs("div",{children:[o.jsxs(It,{className:"text-sm font-medium text-neutral-700 mb-3 block",children:[" Personality Traits ",o.jsx("span",{className:"text-neutral-400",children:"(select up to 7)"})]}),o.jsxs("p",{className:"text-xs text-neutral-500 mb-4",children:["Choose traits that best describe your child's personality. This helps provide more personalized parenting insights.",e&&o.jsx("span",{className:"block mt-1 text-amber-600",children:" Update traits as your child grows and develops - personality can evolve over time!"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3 mb-4",children:o.jsxs("p",{className:"text-xs text-blue-800",children:[" ",o.jsx("strong",{children:"Tip:"})," Click trait buttons to select them. We have ",Kg.length," different traits to choose from! These help provide more personalized developmental insights."]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm text-neutral-600",children:["Selected: ",s.length,"/7"]}),s.length>0&&o.jsx(ve,{type:"button",variant:"outline",size:"sm",onClick:()=>i([]),children:"Clear All"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{ref:d,className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-56 overflow-y-auto p-3 border border-neutral-200 rounded-lg bg-neutral-50/50",children:b().map(y=>o.jsxs("button",{type:"button",onClick:()=>x(y.key),className:`p-4 rounded-lg border text-left transition-all hover:border-primary/50 min-h-[80px] flex flex-col justify-start ${s.includes(y.key)?"border-primary bg-primary/10 text-primary shadow-sm":"border-neutral-200 bg-white hover:bg-neutral-50 hover:shadow-sm"}`,title:y.description,children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("span",{className:"text-xl mr-3 flex-shrink-0",children:y.emoji}),o.jsx("span",{className:"font-medium text-sm leading-tight",children:y.label})]}),o.jsx("p",{className:"text-xs text-neutral-600 leading-relaxed line-clamp-2 flex-1",children:y.description})]},y.key))}),o.jsx("div",{className:"absolute bottom-2 right-2 bg-white/90 rounded-full px-2 py-1 text-xs text-neutral-500 border border-neutral-200 shadow-sm transition-opacity duration-300 pointer-events-none",style:{opacity:a},children:"Scroll for more "})]}),s.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1",children:s.map(y=>{const w=f4(y);return w?o.jsxs(xt,{variant:"secondary",className:"text-xs",children:[w.emoji," ",w.label]},y):null})})]})]}),o.jsx("div",{className:"flex gap-3 pt-4",children:o.jsx(ve,{type:"submit",disabled:f.isPending||p.isPending,className:"flex-1 bg-primary text-white hover:bg-primary/90",children:e?" Update Profile":" Add Child Profile"})}),!e&&c&&o.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-green-800",children:["Great! ",c,"'s profile was created successfully."]}),o.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Want to add another child?"})]}),o.jsxs(ve,{type:"button",variant:"outline",size:"sm",onClick:()=>{h.reset(),i([]),u(null)},className:"border-green-300 text-green-700 hover:bg-green-100",children:[o.jsx(Cg,{className:"mr-2 h-4 w-4"}),"Add Another Child"]})]})})]})})}function QB({trigger:e,editProfile:t,onClose:n}){const[r,s]=N.useState(!1),[i,a]=N.useState(t),{toast:l}=vs(),c=Bs(),{data:u,isLoading:d}=Ht({queryKey:["/api/child-profiles"],queryFn:async()=>{const p=await fetch("/api/child-profiles");if(!p.ok)throw new Error("Failed to fetch profiles");return p.json()}}),h=On({mutationFn:async p=>{await xr("DELETE",`/api/child-profiles/${p}`)},onSuccess:()=>{c.invalidateQueries({queryKey:["/api/child-profiles"]}),l({title:"Profile Deleted",description:"The child profile has been removed."})},onError:()=>{l({title:"Error",description:"Failed to delete profile. Please try again.",variant:"destructive"})}}),f=()=>{s(!1),a(void 0),n==null||n()};return o.jsxs(yr,{open:r,onOpenChange:s,children:[o.jsx(Vl,{asChild:!0,children:e||o.jsxs(ve,{variant:"outline",className:"flex items-center",children:[o.jsx(Qc,{className:"mr-2 h-4 w-4"})," My Children"]})}),o.jsxs(rr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(sr,{children:[o.jsxs(ir,{className:"flex items-center text-xl",children:[o.jsx(Qc,{className:"mr-2 h-5 w-5 text-primary"})," Manage Child Profiles"]}),o.jsx(ps,{children:"Create and manage profiles for your children to get personalized parenting insights and track their development journey."})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-800 mb-4",children:" Your Children"}),d?o.jsx("div",{className:"text-center py-8 text-neutral-500",children:"Loading profiles..."}):u&&u.length>0?o.jsx("div",{className:"space-y-3",children:u.map(p=>o.jsx(Ye,{className:"border border-neutral-200",children:o.jsx(Xe,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(gs,{className:"mr-2 h-4 w-4 text-primary"}),o.jsx("h4",{className:"font-medium text-neutral-800",children:p.name}),p.gender&&o.jsx("span",{className:"ml-2 text-sm text-neutral-500",children:p.gender==="male"?"":p.gender==="female"?"":""})]}),o.jsxs("div",{className:"flex items-center text-sm text-neutral-600 mb-2",children:[o.jsx(rs,{className:"mr-1 h-3 w-3"}),o.jsx("span",{children:Xk(p.dateOfBirth)})]}),(()=>{const g=p.developmentalStage?bc.find(x=>x.key===p.developmentalStage):Qk(p.dateOfBirth);return g?o.jsxs("div",{className:"text-xs text-primary font-medium mb-2",children:[g.label," (",g.ageRange,")"]}):null})(),p.notes&&o.jsx("p",{className:"text-sm text-neutral-600 mb-2 line-clamp-2",children:p.notes}),p.personalityTraits&&p.personalityTraits.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[p.personalityTraits.slice(0,4).map(g=>{const x=f4(g);return x?o.jsxs(xt,{variant:"outline",className:"text-xs",children:[x.emoji," ",x.label]},g):null}),p.personalityTraits.length>4&&o.jsxs(xt,{variant:"outline",className:"text-xs",children:["+",p.personalityTraits.length-4," more"]})]})]}),o.jsxs("div",{className:"flex gap-2 ml-4",children:[o.jsx(Fle,{profile:p,trigger:o.jsx(ve,{variant:"outline",size:"sm",title:"Update personality traits",children:o.jsx(rn,{className:"h-3 w-3"})})}),o.jsx(ve,{variant:"outline",size:"sm",onClick:()=>a(p),title:"Edit profile details",children:o.jsx(CR,{className:"h-3 w-3"})}),o.jsx(ve,{variant:"destructive",size:"sm",onClick:()=>h.mutate(p.id),disabled:h.isPending,title:"Delete profile",children:o.jsx(Gv,{className:"h-3 w-3"})})]})]})})},p.id))}):o.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[o.jsx(gs,{className:"mx-auto h-12 w-12 mb-4 text-neutral-300"}),o.jsx("p",{children:" No child profiles yet."}),o.jsx("p",{className:"text-sm",children:"Add your first child profile below to get personalized developmental insights!"})]})]}),o.jsx(Ye,{className:"border border-neutral-200",children:o.jsxs(Xe,{className:"p-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-800 mb-2",children:i?" Edit Profile":" Add New Child"}),!i&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-xs text-green-800",children:[o.jsx("strong",{children:" Adding multiple children:"})," You can add as many child profiles as you need! Each child gets their own personality profile with ",Kg.length," trait options and personalized developmental insights."]})})]}),o.jsx(zle,{editProfile:i,onSuccess:()=>{a(void 0),t&&f()}}),i&&o.jsx(ve,{variant:"outline",onClick:()=>a(void 0),className:"mt-4",children:"Cancel Edit"})]})})]})]})]})}function Ble({selectedMood:e,triggerSignUpPrompt:t}){return o.jsx(Ye,{className:"shadow-sm border border-neutral-200 hover-lift animate-bounce-in stagger-2",children:o.jsxs(Xe,{className:"p-4 sm:p-6",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-800 mb-3 sm:mb-4 text-center",children:"Family Profiles"}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2 sm:gap-3",children:[o.jsx(Wae,{trigger:o.jsxs(ve,{variant:"outline",className:"h-20 sm:h-24 p-3 sm:p-4 flex flex-col items-center justify-center space-y-1 sm:space-y-2 border-neutral-200 hover:border-primary hover:bg-primary/5 hover-lift button-press w-full",children:[o.jsx(Bl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary flex-shrink-0"}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium text-xs sm:text-sm leading-tight",children:"My Profile"}),o.jsx("div",{className:"text-xs text-neutral-500 leading-tight mt-0.5",children:"Manage parent info"})]})]})}),o.jsx(QB,{trigger:o.jsxs(ve,{variant:"outline",className:"h-20 sm:h-24 p-3 sm:p-4 flex flex-col items-center justify-center space-y-1 sm:space-y-2 border-neutral-200 hover:border-primary hover:bg-primary/5 hover-lift button-press w-full",children:[o.jsx(Qc,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary flex-shrink-0"}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium text-xs sm:text-sm leading-tight",children:"My Children"}),o.jsx("div",{className:"text-xs text-neutral-500 leading-tight mt-0.5",children:"Manage child profiles"})]})]})})]})]})})}var p4="Tabs",[$le,Z2e]=$s(p4,[Pb]),XB=Pb(),[Ule,m4]=$le(p4),JB=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=D0(l),[h,f]=qo({prop:r,onChange:s,defaultProp:i});return o.jsx(Ule,{scope:n,baseId:Xa(),value:h,onValueChange:f,orientation:a,dir:d,activationMode:c,children:o.jsx(yt.div,{dir:d,"data-orientation":a,...u,ref:t})})});JB.displayName=p4;var ZB="TabsList",e$=N.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=m4(ZB,n),a=XB(n);return o.jsx(EF,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(yt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});e$.displayName=ZB;var t$="TabsTrigger",n$=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=m4(t$,n),l=XB(n),c=i$(a.baseId,r),u=a$(a.baseId,r),d=r===a.value;return o.jsx(TF,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(yt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:He(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:He(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:He(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(r)})})})});n$.displayName=t$;var r$="TabsContent",s$=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,l=m4(r$,n),c=i$(l.baseId,r),u=a$(l.baseId,r),d=r===l.value,h=N.useRef(d);return N.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),o.jsx(as,{present:s||d,children:({present:f})=>o.jsx(yt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});s$.displayName=r$;function i$(e,t){return`${e}-trigger-${t}`}function a$(e,t){return`${e}-content-${t}`}var Vle=JB,o$=e$,l$=n$,c$=s$;const g4=Vle,Ob=N.forwardRef(({className:e,...t},n)=>o.jsx(o$,{ref:n,className:Je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ob.displayName=o$.displayName;const Jc=N.forwardRef(({className:e,...t},n)=>o.jsx(l$,{ref:n,className:Je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Jc.displayName=l$.displayName;const uf=N.forwardRef(({className:e,...t},n)=>o.jsx(c$,{ref:n,className:Je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));uf.displayName=c$.displayName;function qle({trigger:e="standalone",onComplete:t}){const[n,r]=N.useState(!1),[s,i]=N.useState("breathing"),[a,l]=N.useState(null),[c,u]=N.useState(!1),[d,h]=N.useState(0),[f,p]=N.useState("inhale"),[g,x]=N.useState(0),[b,v]=N.useState(null),[y,w]=N.useState(!1),[_,C]=N.useState(null);N.useState("ocean");const[E,O]=N.useState(null),T={"4-7-8":{name:"4-7-8 Breathing",description:"Inhale for 4, hold for 7, exhale for 8 seconds",phases:[{name:"inhale",duration:4e3,instruction:"Breathe in slowly through your nose"},{name:"hold",duration:7e3,instruction:"Hold your breath gently"},{name:"exhale",duration:8e3,instruction:"Exhale completely through your mouth"}]},box:{name:"Box Breathing",description:"Equal timing for all phases - 4 seconds each",phases:[{name:"inhale",duration:4e3,instruction:"Breathe in slowly and deeply"},{name:"hold",duration:4e3,instruction:"Hold your breath comfortably"},{name:"exhale",duration:4e3,instruction:"Exhale slowly and completely"}]},calm:{name:"Calm Breathing",description:"Simple 6-second cycles for quick relaxation",phases:[{name:"inhale",duration:3e3,instruction:"Breathe in gently"},{name:"exhale",duration:3e3,instruction:"Breathe out slowly"}]}},$=["I am a good parent, even when things feel hard.","My child is lucky to have me as their parent.","I'm allowed to take breaks and care for myself too.","Every parent struggles sometimes - I'm not alone.","I'm learning and growing every day.","My love and effort make a real difference.","It's okay to not have all the answers.","I trust myself to figure things out as they come."],B=R=>{i(R),l(R),u(!0),h(0),x(0),L(R,0)},L=(R,G)=>{const M=T[R],ae=M.phases[G];p(ae.name),h(0);let z=0;const I=setInterval(()=>{z+=100;const J=z/ae.duration*100;if(h(J),z>=ae.duration){clearInterval(I);const se=(G+1)%M.phases.length;se===0&&x(re=>re+1),g<4?L(R,se):(u(!1),l(null),h(100),t&&t())}},100);v(I)},P=()=>{u(!1),l(null),b&&(clearInterval(b),v(null)),h(0),x(0)},D=()=>{P(),i("breathing"),l(null)},F=[{id:"anxiety-relief",title:"5-Minute Anxiety Relief",duration:"5:00",description:"Countdown with affirmations for anxiety and panic relief",videoId:"MR57rug8NsM",embedUrl:"https://www.youtube.com/embed/MR57rug8NsM?rel=0&modestbranding=1"},{id:"breathing-space",title:"Breathing Space Meditation",duration:"3:00",description:"Quick breathing practice for instant calm",videoId:"F28MGLlpP90",embedUrl:"https://www.youtube.com/embed/F28MGLlpP90?rel=0&modestbranding=1"},{id:"mindful-moment",title:"Mindful Moment Practice",duration:"2:30",description:"Brief mindfulness for present moment awareness",videoId:"ZToicYcHIOU",embedUrl:"https://www.youtube.com/embed/ZToicYcHIOU?rel=0&modestbranding=1"},{id:"quick-calm",title:"Quick Calm Meditation",duration:"3:30",description:"Gentle practice for stress relief",videoId:"inpok4MKVLM",embedUrl:"https://www.youtube.com/embed/inpok4MKVLM?rel=0&modestbranding=1"},{id:"peaceful-reset",title:"Peaceful Reset",duration:"2:45",description:"Short practice for inner peace and balance",videoId:"SEfs5TJZ6Nk",embedUrl:"https://www.youtube.com/embed/SEfs5TJZ6Nk?rel=0&modestbranding=1"}],U=()=>{if(console.log("Stopping audio guidance"),w(!1),speechSynthesis.cancel(),_){try{_ instanceof HTMLAudioElement?(_.pause(),_.currentTime=0):_ instanceof SpeechSynthesisUtterance}catch(R){console.log("Audio cleanup error:",R)}C(null)}if(E){try{if(E instanceof HTMLAudioElement)E.pause(),E.currentTime=0;else if(E&&typeof E=="object"){const R=E;R.oscillator&&typeof R.oscillator.stop=="function"&&R.oscillator.stop(),R.lfo&&typeof R.lfo.stop=="function"&&R.lfo.stop(),R.audioContext&&typeof R.audioContext.close=="function"&&R.audioContext.close()}console.log("Background audio stopped successfully")}catch(R){console.log("Background audio cleanup error:",R)}O(null)}};N.useEffect(()=>()=>{b&&clearInterval(b)},[b]);const W=()=>o.jsxs(ve,{variant:e==="inline"?"outline":"default",size:e==="inline"?"sm":"default",className:`
        ${e==="inline"?"border-sky-200 text-sky-700 hover:bg-sky-50":"bg-gradient-to-r from-sky-500 to-blue-500 hover:from-sky-600 hover:to-blue-600 text-white"}
        transition-all duration-300 hover-lift
      `,onClick:()=>r(!0),children:[o.jsx(Xp,{className:"mr-2 h-4 w-4"}),e==="inline"?"Calm Reset":"Take a Moment to Breathe"]}),H=T[s];return H==null||H.phases.find(R=>R.name===f),o.jsxs(o.Fragment,{children:[e==="standalone"?o.jsxs(Ye,{className:"border-2 border-sky-200 bg-gradient-to-br from-sky-50 to-blue-50 hover-lift",children:[o.jsxs(Mt,{className:"text-center pb-3",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-gradient-to-br from-sky-500 to-blue-500 rounded-full flex items-center justify-center mb-3",children:o.jsx(Xp,{className:"h-6 w-6 text-white"})}),o.jsx(Dt,{className:"text-sky-800",children:"Need a Calm Moment?"}),o.jsx("p",{className:"text-sky-700 text-sm",children:"Quick breathing exercises and mindfulness techniques for overwhelming moments"})]}),o.jsx(Xe,{className:"text-center",children:o.jsx(W,{})})]}):o.jsx(W,{}),o.jsx(yr,{open:n,onOpenChange:r,children:o.jsxs(rr,{className:"sm:max-w-2xl md:max-w-4xl w-[95vw] sm:w-[90vw] md:w-[80vw] max-h-[90vh] overflow-y-auto",children:[o.jsxs(sr,{children:[o.jsxs(ir,{className:"flex items-center text-sky-800",children:[o.jsx(Xp,{className:"mr-2 h-5 w-5"}),"Calm Reset"]}),o.jsx(ps,{children:"Take a few minutes to reset and recharge. Choose what feels right for you right now."})]}),o.jsxs(g4,{defaultValue:"breathing",className:"w-full",children:[o.jsxs(Ob,{className:"grid w-full grid-cols-3",children:[o.jsxs(Jc,{value:"breathing",className:"flex items-center gap-2",children:[o.jsx(Kn,{className:"h-4 w-4"}),"Breathing"]}),o.jsxs(Jc,{value:"affirmations",className:"flex items-center gap-2",children:[o.jsx(LQ,{className:"h-4 w-4"}),"Affirmations"]}),o.jsxs(Jc,{value:"guided-videos",className:"flex items-center gap-2",children:[o.jsx(Yj,{className:"h-4 w-4"}),"Videos"]})]}),o.jsx(uf,{value:"breathing",className:"space-y-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:Object.entries(T).map(([R,G])=>{var M;return o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ye,{className:"p-4 border-sky-200 bg-gradient-to-r from-sky-50 to-blue-50 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-sky-800",children:G.name}),o.jsx("p",{className:"text-sm text-sky-600",children:G.description})]}),o.jsxs(ve,{onClick:()=>B(R),disabled:c,variant:"outline",size:"sm",className:"border-sky-300 text-sky-700 hover:bg-sky-100 shadow-sm transition-all duration-200",children:[o.jsx(Yj,{className:"h-4 w-4 mr-1"}),"Start"]})]})}),c&&a===R&&o.jsx(Ye,{className:"p-4 sm:p-6 md:p-8 border border-sky-200 bg-gradient-to-br from-sky-50 to-blue-50 shadow-lg animate-gentle-fade",children:o.jsxs("div",{className:"text-center space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[o.jsx(xt,{variant:"outline",className:"border-sky-300 text-sky-700 bg-white/50",children:G.name}),o.jsxs(xt,{variant:"outline",className:"border-sky-300 text-sky-700 bg-white/50",children:["Cycle ",g+1,"/4"]})]}),o.jsxs("div",{className:"flex flex-col items-center space-y-4 sm:space-y-6",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"relative w-40 h-40 sm:w-48 sm:h-48 rounded-full bg-gradient-to-br from-blue-50 via-sky-25 to-blue-50 flex items-center justify-center shadow-2xl overflow-hidden mx-auto",style:{border:"4px solid rgb(59 130 246)",boxShadow:"0 0 30px rgba(59, 130, 246, 0.4), inset 0 0 20px rgba(59, 130, 246, 0.1)"},children:[o.jsx("div",{className:`absolute inset-4 rounded-full bg-gradient-to-br from-sky-200/60 to-blue-300/60 flex items-center justify-center transition-all duration-500 ease-in-out
                                    ${f==="hold"?"animate-calm-hold":""}
                                  `,style:{transform:`scale(${f==="inhale"?.1+d/100*.9:f==="hold"?1:f==="exhale"?1-d/100*.9:.1+d/100*.9})`,opacity:d>5?.8:.2,transition:f==="hold"?"transform 0.5s ease-in-out":"transform 0.3s ease-in-out"},children:o.jsx(Xp,{className:"h-5 w-5 sm:h-6 sm:w-6 text-sky-700"})}),o.jsx("div",{className:"relative z-10",children:o.jsx(Xp,{className:"h-3 w-3 sm:h-4 sm:w-4 text-sky-400/60"})})]})}),o.jsxs("div",{className:"space-y-2 sm:space-y-3 text-center",children:[o.jsx("h3",{className:"text-xl sm:text-2xl font-light text-sky-800 capitalize tracking-wider",children:f}),o.jsx("p",{className:"text-sky-700 text-sm sm:text-base max-w-xs sm:max-w-sm leading-relaxed font-light px-4",children:(M=G.phases.find(ae=>ae.name===f))==null?void 0:M.instruction})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center space-x-2",children:Array.from({length:4}).map((ae,z)=>o.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-500
                                    ${z<=g?"bg-sky-500 scale-110 shadow-md":"bg-sky-200"}`},z))}),o.jsxs("div",{className:"flex justify-center space-x-3",children:[o.jsxs(ve,{onClick:P,variant:"outline",size:"sm",className:"border-sky-300 text-sky-700 hover:bg-sky-50 shadow-sm",children:[o.jsx(iv,{className:"h-4 w-4 mr-1"}),"Pause"]}),o.jsxs(ve,{onClick:D,variant:"outline",size:"sm",className:"border-sky-300 text-sky-700 hover:bg-sky-50 shadow-sm",children:[o.jsx(_Q,{className:"h-4 w-4 mr-1"}),"Reset"]})]})]})]})})]},R)})})}),o.jsxs(uf,{value:"affirmations",className:"space-y-4",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-sky-800 mb-2",children:"Positive Affirmations"}),o.jsx("p",{className:"text-sky-700",children:"Take a moment to read these affirmations. Choose one that resonates with you today."})]}),o.jsx("div",{className:"grid gap-3",children:$.map((R,G)=>o.jsx(Ye,{className:"p-4 border-sky-200 bg-sky-50",children:o.jsxs("p",{className:"text-center text-sky-800 font-medium",children:['"',R,'"']})},G))}),o.jsx("div",{className:"text-center text-sm text-sky-600 bg-sky-50 p-3 rounded",children:o.jsx("p",{children:"Read these affirmations slowly and mindfully. Repeat the ones that speak to you most."})})]}),o.jsxs(uf,{value:"guided-videos",className:"space-y-4",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-sky-800 mb-2",children:"Quick Meditation Videos"}),o.jsx("p",{className:"text-sky-700",children:"Short YouTube meditation videos under 3 minutes for instant calm and centering."})]}),o.jsx("div",{className:"grid gap-4",children:F.map(R=>o.jsx(Ye,{className:"p-4 border-sky-200 bg-gradient-to-r from-sky-50 to-blue-50",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-sky-800",children:R.title}),o.jsx("p",{className:"text-sm text-sky-600",children:R.description})]}),o.jsx(xt,{variant:"outline",className:"border-sky-300 text-sky-700",children:R.duration})]}),o.jsx("div",{className:"relative w-full h-48 bg-slate-100 rounded-lg overflow-hidden",children:o.jsx("iframe",{src:R.embedUrl,title:R.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),o.jsx("div",{className:"text-xs text-sky-600 bg-sky-50 p-2 rounded",children:" Tip: Use headphones for the best experience. Perfect for quick stress relief and centering."})]})},R.id))}),o.jsx("div",{className:"text-center text-sm text-sky-600 bg-sky-50 p-3 rounded",children:o.jsx("p",{children:"These short meditations can be done anytime you need a moment of calm. No experience necessary."})})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(ve,{onClick:()=>{U(),r(!1)},className:"bg-sky-600 hover:bg-sky-700 text-white",children:"I'm Ready to Continue"})})]})})]})}function Wle(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var x4="ScrollArea",[u$,ewe]=$s(x4),[Hle,ka]=u$(x4),d$=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=N.useState(null),[u,d]=N.useState(null),[h,f]=N.useState(null),[p,g]=N.useState(null),[x,b]=N.useState(null),[v,y]=N.useState(0),[w,_]=N.useState(0),[C,E]=N.useState(!1),[O,T]=N.useState(!1),$=Yt(t,L=>c(L)),B=D0(s);return o.jsx(Hle,{scope:n,type:r,dir:B,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:O,onScrollbarYEnabledChange:T,onCornerWidthChange:y,onCornerHeightChange:_,children:o.jsx(yt.div,{dir:B,...a,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});d$.displayName=x4;var h$="ScrollAreaViewport",f$=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,a=ka(h$,n),l=N.useRef(null),c=Yt(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(yt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});f$.displayName=h$;var Zo="ScrollAreaScrollbar",y4=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ka(Zo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return N.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(Yle,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(Gle,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(p$,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(v4,{...r,ref:t}):null});y4.displayName=Zo;var Yle=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ka(Zo,e.__scopeScrollArea),[i,a]=N.useState(!1);return N.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(as,{present:n||i,children:o.jsx(p$,{"data-state":i?"visible":"hidden",...r,ref:t})})}),Gle=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ka(Zo,e.__scopeScrollArea),i=e.orientation==="horizontal",a=zb(()=>c("SCROLL_END"),100),[l,c]=Wle("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),N.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const p=u[d];h!==p&&(c("SCROLL"),a()),h=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,a]),o.jsx(as,{present:n||l!=="hidden",children:o.jsx(v4,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:He(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:He(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),p$=N.forwardRef((e,t)=>{const n=ka(Zo,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,a]=N.useState(!1),l=e.orientation==="horizontal",c=zb(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:d)}},10);return Gf(n.viewport,c),Gf(n.content,c),o.jsx(as,{present:r||i,children:o.jsx(v4,{"data-state":i?"visible":"hidden",...s,ref:t})})}),v4=N.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=ka(Zo,e.__scopeScrollArea),i=N.useRef(null),a=N.useRef(0),[l,c]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=v$(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function h(f,p){return ece(f,a.current,l,p)}return n==="horizontal"?o.jsx(Kle,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,p=wA(f,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?o.jsx(Qle,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,p=wA(f,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),Kle=N.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=ka(Zo,e.__scopeScrollArea),[a,l]=N.useState(),c=N.useRef(null),u=Yt(t,c,i.onScrollbarXChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(g$,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fb(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),w$(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:_1(a.paddingLeft),paddingEnd:_1(a.paddingRight)}})}})}),Qle=N.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=ka(Zo,e.__scopeScrollArea),[a,l]=N.useState(),c=N.useRef(null),u=Yt(t,c,i.onScrollbarYChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(g$,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fb(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),w$(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:_1(a.paddingTop),paddingEnd:_1(a.paddingBottom)}})}})}),[Xle,m$]=u$(Zo),g$=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,p=ka(Zo,n),[g,x]=N.useState(null),b=Yt(t,$=>x($)),v=N.useRef(null),y=N.useRef(""),w=p.viewport,_=r.content-r.viewport,C=lr(d),E=lr(c),O=zb(h,10);function T($){if(v.current){const B=$.clientX-v.current.left,L=$.clientY-v.current.top;u({x:B,y:L})}}return N.useEffect(()=>{const $=B=>{const L=B.target;(g==null?void 0:g.contains(L))&&C(B,_)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[w,g,_,C]),N.useEffect(E,[r,E]),Gf(g,O),Gf(p.content,O),o.jsx(Xle,{scope:n,scrollbar:g,hasThumb:s,onThumbChange:lr(i),onThumbPointerUp:lr(a),onThumbPositionChange:E,onThumbPointerDown:lr(l),children:o.jsx(yt.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:He(e.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),v.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T($))}),onPointerMove:He(e.onPointerMove,T),onPointerUp:He(e.onPointerUp,$=>{const B=$.target;B.hasPointerCapture($.pointerId)&&B.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),k1="ScrollAreaThumb",x$=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=m$(k1,e.__scopeScrollArea);return o.jsx(as,{present:n||s.hasThumb,children:o.jsx(Jle,{ref:t,...r})})}),Jle=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=ka(k1,n),a=m$(k1,n),{onThumbPositionChange:l}=a,c=Yt(t,h=>a.onThumbChange(h)),u=N.useRef(void 0),d=zb(()=>{u.current&&(u.current(),u.current=void 0)},100);return N.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const p=tce(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),o.jsx(yt.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:He(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,x=h.clientY-p.top;a.onThumbPointerDown({x:g,y:x})}),onPointerUp:He(e.onPointerUp,a.onThumbPointerUp)})});x$.displayName=k1;var b4="ScrollAreaCorner",y$=N.forwardRef((e,t)=>{const n=ka(b4,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(Zle,{...e,ref:t}):null});y$.displayName=b4;var Zle=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=ka(b4,n),[i,a]=N.useState(0),[l,c]=N.useState(0),u=!!(i&&l);return Gf(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Gf(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?o.jsx(yt.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function _1(e){return e?parseInt(e,10):0}function v$(e,t){const n=e/t;return isNaN(n)?0:n}function Fb(e){const t=v$(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ece(e,t,n,r="ltr"){const s=Fb(n),i=s/2,a=t||i,l=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return b$([c,u],h)(e)}function wA(e,t,n="ltr"){const r=Fb(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,a]:[a*-1,0],u=hN(e,c);return b$([0,a],[0,l])(u)}function b$(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function w$(e,t){return e>0&&e<t}var tce=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function zb(e,t){const n=lr(e),r=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),N.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Gf(e,t){const n=lr(t);ys(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var j$=d$,nce=f$,rce=y$;const N$=N.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(j$,{ref:r,className:Je("relative overflow-hidden",e),...n,children:[o.jsx(nce,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(S$,{}),o.jsx(rce,{})]}));N$.displayName=j$.displayName;const S$=N.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(y4,{ref:r,orientation:t,className:Je("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(x$,{className:"relative flex-1 rounded-full bg-border"})}));S$.displayName=y4.displayName;function sce(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ice=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ace=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,oce={};function jA(e,t){return(oce.jsx?ace:ice).test(e)}const lce=/[ \t\n\f\r]/g;function cce(e){return typeof e=="object"?e.type==="text"?NA(e.value):!1:NA(e)}function NA(e){return e.replace(lce,"")===""}class Y0{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Y0.prototype.normal={};Y0.prototype.property={};Y0.prototype.space=void 0;function k$(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Y0(n,r,t)}function NN(e){return e.toLowerCase()}class Si{constructor(t,n){this.attribute=n,this.property=t}}Si.prototype.attribute="";Si.prototype.booleanish=!1;Si.prototype.boolean=!1;Si.prototype.commaOrSpaceSeparated=!1;Si.prototype.commaSeparated=!1;Si.prototype.defined=!1;Si.prototype.mustUseProperty=!1;Si.prototype.number=!1;Si.prototype.overloadedBoolean=!1;Si.prototype.property="";Si.prototype.spaceSeparated=!1;Si.prototype.space=void 0;let uce=0;const Zt=$d(),Br=$d(),SN=$d(),We=$d(),$n=$d(),df=$d(),Li=$d();function $d(){return 2**++uce}const kN=Object.freeze(Object.defineProperty({__proto__:null,boolean:Zt,booleanish:Br,commaOrSpaceSeparated:Li,commaSeparated:df,number:We,overloadedBoolean:SN,spaceSeparated:$n},Symbol.toStringTag,{value:"Module"})),Hw=Object.keys(kN);class w4 extends Si{constructor(t,n,r,s){let i=-1;if(super(t,n),SA(this,"space",s),typeof r=="number")for(;++i<Hw.length;){const a=Hw[i];SA(this,Hw[i],(r&kN[a])===kN[a])}}}w4.prototype.defined=!0;function SA(e,t,n){n&&(e[t]=n)}function up(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const i=new w4(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[NN(r)]=r,n[NN(i.attribute)]=r}return new Y0(t,n,e.space)}const _$=up({properties:{ariaActiveDescendant:null,ariaAtomic:Br,ariaAutoComplete:null,ariaBusy:Br,ariaChecked:Br,ariaColCount:We,ariaColIndex:We,ariaColSpan:We,ariaControls:$n,ariaCurrent:null,ariaDescribedBy:$n,ariaDetails:null,ariaDisabled:Br,ariaDropEffect:$n,ariaErrorMessage:null,ariaExpanded:Br,ariaFlowTo:$n,ariaGrabbed:Br,ariaHasPopup:null,ariaHidden:Br,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$n,ariaLevel:We,ariaLive:null,ariaModal:Br,ariaMultiLine:Br,ariaMultiSelectable:Br,ariaOrientation:null,ariaOwns:$n,ariaPlaceholder:null,ariaPosInSet:We,ariaPressed:Br,ariaReadOnly:Br,ariaRelevant:null,ariaRequired:Br,ariaRoleDescription:$n,ariaRowCount:We,ariaRowIndex:We,ariaRowSpan:We,ariaSelected:Br,ariaSetSize:We,ariaSort:null,ariaValueMax:We,ariaValueMin:We,ariaValueNow:We,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function C$(e,t){return t in e?e[t]:t}function A$(e,t){return C$(e,t.toLowerCase())}const dce=up({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:df,acceptCharset:$n,accessKey:$n,action:null,allow:null,allowFullScreen:Zt,allowPaymentRequest:Zt,allowUserMedia:Zt,alt:null,as:null,async:Zt,autoCapitalize:null,autoComplete:$n,autoFocus:Zt,autoPlay:Zt,blocking:$n,capture:null,charSet:null,checked:Zt,cite:null,className:$n,cols:We,colSpan:null,content:null,contentEditable:Br,controls:Zt,controlsList:$n,coords:We|df,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Zt,defer:Zt,dir:null,dirName:null,disabled:Zt,download:SN,draggable:Br,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Zt,formTarget:null,headers:$n,height:We,hidden:SN,high:We,href:null,hrefLang:null,htmlFor:$n,httpEquiv:$n,id:null,imageSizes:null,imageSrcSet:null,inert:Zt,inputMode:null,integrity:null,is:null,isMap:Zt,itemId:null,itemProp:$n,itemRef:$n,itemScope:Zt,itemType:$n,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Zt,low:We,manifest:null,max:null,maxLength:We,media:null,method:null,min:null,minLength:We,multiple:Zt,muted:Zt,name:null,nonce:null,noModule:Zt,noValidate:Zt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Zt,optimum:We,pattern:null,ping:$n,placeholder:null,playsInline:Zt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Zt,referrerPolicy:null,rel:$n,required:Zt,reversed:Zt,rows:We,rowSpan:We,sandbox:$n,scope:null,scoped:Zt,seamless:Zt,selected:Zt,shadowRootClonable:Zt,shadowRootDelegatesFocus:Zt,shadowRootMode:null,shape:null,size:We,sizes:null,slot:null,span:We,spellCheck:Br,src:null,srcDoc:null,srcLang:null,srcSet:null,start:We,step:null,style:null,tabIndex:We,target:null,title:null,translate:null,type:null,typeMustMatch:Zt,useMap:null,value:Br,width:We,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$n,axis:null,background:null,bgColor:null,border:We,borderColor:null,bottomMargin:We,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Zt,declare:Zt,event:null,face:null,frame:null,frameBorder:null,hSpace:We,leftMargin:We,link:null,longDesc:null,lowSrc:null,marginHeight:We,marginWidth:We,noResize:Zt,noHref:Zt,noShade:Zt,noWrap:Zt,object:null,profile:null,prompt:null,rev:null,rightMargin:We,rules:null,scheme:null,scrolling:Br,standby:null,summary:null,text:null,topMargin:We,valueType:null,version:null,vAlign:null,vLink:null,vSpace:We,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Zt,disableRemotePlayback:Zt,prefix:null,property:null,results:We,security:null,unselectable:null},space:"html",transform:A$}),hce=up({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Li,accentHeight:We,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:We,amplitude:We,arabicForm:null,ascent:We,attributeName:null,attributeType:null,azimuth:We,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:We,by:null,calcMode:null,capHeight:We,className:$n,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:We,diffuseConstant:We,direction:null,display:null,dur:null,divisor:We,dominantBaseline:null,download:Zt,dx:null,dy:null,edgeMode:null,editable:null,elevation:We,enableBackground:null,end:null,event:null,exponent:We,externalResourcesRequired:null,fill:null,fillOpacity:We,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:df,g2:df,glyphName:df,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:We,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:We,horizOriginX:We,horizOriginY:We,id:null,ideographic:We,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:We,k:We,k1:We,k2:We,k3:We,k4:We,kernelMatrix:Li,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:We,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:We,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:We,overlineThickness:We,paintOrder:null,panose1:null,path:null,pathLength:We,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$n,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:We,pointsAtY:We,pointsAtZ:We,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Li,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Li,rev:Li,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Li,requiredFeatures:Li,requiredFonts:Li,requiredFormats:Li,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:We,specularExponent:We,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:We,strikethroughThickness:We,string:null,stroke:null,strokeDashArray:Li,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:We,strokeOpacity:We,strokeWidth:null,style:null,surfaceScale:We,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Li,tabIndex:We,tableValues:null,target:null,targetX:We,targetY:We,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Li,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:We,underlineThickness:We,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:We,values:null,vAlphabetic:We,vMathematical:We,vectorEffect:null,vHanging:We,vIdeographic:We,version:null,vertAdvY:We,vertOriginX:We,vertOriginY:We,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:We,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:C$}),P$=up({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),E$=up({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:A$}),T$=up({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),fce={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},pce=/[A-Z]/g,kA=/-[a-z]/g,mce=/^data[-\w.:]+$/i;function gce(e,t){const n=NN(t);let r=t,s=Si;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&mce.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(kA,yce);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!kA.test(i)){let a=i.replace(pce,xce);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=w4}return new s(r,t)}function xce(e){return"-"+e.toLowerCase()}function yce(e){return e.charAt(1).toUpperCase()}const vce=k$([_$,dce,P$,E$,T$],"html"),j4=k$([_$,hce,P$,E$,T$],"svg");function bce(e){return e.join(" ").trim()}var N4={},_A=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,wce=/\n/g,jce=/^\s*/,Nce=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Sce=/^:\s*/,kce=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,_ce=/^[;\s]*/,Cce=/^\s+|\s+$/g,Ace=`
`,CA="/",AA="*",Yu="",Pce="comment",Ece="declaration",Tce=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(g){var x=g.match(wce);x&&(n+=x.length);var b=g.lastIndexOf(Ace);r=~b?g.length-b:r+g.length}function i(){var g={line:n,column:r};return function(x){return x.position=new a(g),u(),x}}function a(g){this.start=g,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function l(g){var x=new Error(t.source+":"+n+":"+r+": "+g);if(x.reason=g,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function c(g){var x=g.exec(e);if(x){var b=x[0];return s(b),e=e.slice(b.length),x}}function u(){c(jce)}function d(g){var x;for(g=g||[];x=h();)x!==!1&&g.push(x);return g}function h(){var g=i();if(!(CA!=e.charAt(0)||AA!=e.charAt(1))){for(var x=2;Yu!=e.charAt(x)&&(AA!=e.charAt(x)||CA!=e.charAt(x+1));)++x;if(x+=2,Yu===e.charAt(x-1))return l("End of comment missing");var b=e.slice(2,x-2);return r+=2,s(b),e=e.slice(x),r+=2,g({type:Pce,comment:b})}}function f(){var g=i(),x=c(Nce);if(x){if(h(),!c(Sce))return l("property missing ':'");var b=c(kce),v=g({type:Ece,property:PA(x[0].replace(_A,Yu)),value:b?PA(b[0].replace(_A,Yu)):Yu});return c(_ce),v}}function p(){var g=[];d(g);for(var x;x=f();)x!==!1&&(g.push(x),d(g));return g}return u(),p()};function PA(e){return e?e.replace(Cce,Yu):Yu}var Mce=vv&&vv.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(N4,"__esModule",{value:!0});N4.default=Ice;var Lce=Mce(Tce);function Ice(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Lce.default)(e),s=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var a=i.property,l=i.value;s?t(a,l,i):l&&(n=n||{},n[a]=l)}}),n}var Bb={};Object.defineProperty(Bb,"__esModule",{value:!0});Bb.camelCase=void 0;var Dce=/^--[a-zA-Z0-9_-]+$/,Rce=/-([a-z])/g,Oce=/^[^-]+$/,Fce=/^-(webkit|moz|ms|o|khtml)-/,zce=/^-(ms)-/,Bce=function(e){return!e||Oce.test(e)||Dce.test(e)},$ce=function(e,t){return t.toUpperCase()},EA=function(e,t){return"".concat(t,"-")},Uce=function(e,t){return t===void 0&&(t={}),Bce(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(zce,EA):e=e.replace(Fce,EA),e.replace(Rce,$ce))};Bb.camelCase=Uce;var Vce=vv&&vv.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},qce=Vce(N4),Wce=Bb;function _N(e,t){var n={};return!e||typeof e!="string"||(0,qce.default)(e,function(r,s){r&&s&&(n[(0,Wce.camelCase)(r,t)]=s)}),n}_N.default=_N;var Hce=_N;const Yce=h0(Hce),M$=L$("end"),S4=L$("start");function L$(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Gce(e){const t=S4(e),n=M$(e);if(t&&n)return{start:t,end:n}}function Wm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?TA(e.position):"start"in e||"end"in e?TA(e):"line"in e||"column"in e?CN(e):""}function CN(e){return MA(e&&e.line)+":"+MA(e&&e.column)}function TA(e){return CN(e&&e.start)+"-"+CN(e&&e.end)}function MA(e){return e&&typeof e=="number"?e:1}class Us extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",i={},a=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?s=t:!i.cause&&t&&(a=!0,s=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?i.ruleId=r:(i.source=r.slice(0,c),i.ruleId=r.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=l?l.line:void 0,this.name=Wm(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Us.prototype.file="";Us.prototype.name="";Us.prototype.reason="";Us.prototype.message="";Us.prototype.stack="";Us.prototype.column=void 0;Us.prototype.line=void 0;Us.prototype.ancestors=void 0;Us.prototype.cause=void 0;Us.prototype.fatal=void 0;Us.prototype.place=void 0;Us.prototype.ruleId=void 0;Us.prototype.source=void 0;const k4={}.hasOwnProperty,Kce=new Map,Qce=/[A-Z]/g,Xce=new Set(["table","tbody","thead","tfoot","tr"]),Jce=new Set(["td","th"]),I$="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Zce(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=oue(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=aue(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?j4:vce,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=D$(s,e,void 0);return i&&typeof i!="string"?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function D$(e,t,n){if(t.type==="element")return eue(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return tue(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return rue(e,t,n);if(t.type==="mdxjsEsm")return nue(e,t);if(t.type==="root")return sue(e,t,n);if(t.type==="text")return iue(e,t)}function eue(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=j4,e.schema=s),e.ancestors.push(t);const i=O$(e,t.tagName,!1),a=lue(e,t);let l=C4(e,t);return Xce.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!cce(c):!0})),R$(e,a,i,t),_4(a,l),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}function tue(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Qg(e,t.position)}function nue(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Qg(e,t.position)}function rue(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=j4,e.schema=s),e.ancestors.push(t);const i=t.name===null?e.Fragment:O$(e,t.name,!0),a=cue(e,t),l=C4(e,t);return R$(e,a,i,t),_4(a,l),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}function sue(e,t,n){const r={};return _4(r,C4(e,t)),e.create(t,e.Fragment,r,n)}function iue(e,t){return t.value}function R$(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function _4(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function aue(e,t,n){return r;function r(s,i,a,l){const u=Array.isArray(a.children)?n:t;return l?u(i,a,l):u(i,a)}}function oue(e,t){return n;function n(r,s,i,a){const l=Array.isArray(i.children),c=S4(r);return t(s,i,a,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function lue(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&k4.call(t.properties,s)){const i=uue(e,s,t.properties[s]);if(i){const[a,l]=i;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&Jce.has(t.tagName)?r=l:n[a]=l}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function cue(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const a=i.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Qg(e,t.position);else{const s=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,i=e.evaluater.evaluateExpression(l.expression)}else Qg(e,t.position);else i=r.value===null?!0:r.value;n[s]=i}return n}function C4(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:Kce;for(;++r<t.children.length;){const i=t.children[r];let a;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const u=s.get(c)||0;a=c+"-"+u,s.set(c,u+1)}}const l=D$(e,i,a);l!==void 0&&n.push(l)}return n}function uue(e,t,n){const r=gce(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?sce(n):bce(n)),r.property==="style"){let s=typeof n=="object"?n:due(e,String(n));return e.stylePropertyNameCase==="css"&&(s=hue(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?fce[r.property]||r.property:r.attribute,n]}}function due(e,t){try{return Yce(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new Us("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=I$+"#cannot-parse-style-attribute",s}}function O$(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let i=-1,a;for(;++i<s.length;){const l=jA(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}r=a}else r=jA(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return k4.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);Qg(e)}function Qg(e,t){const n=new Us("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=I$+"#cannot-handle-mdx-estrees-without-createevaluater",n}function hue(e){const t={};let n;for(n in e)k4.call(e,n)&&(t[fue(n)]=e[n]);return t}function fue(e){let t=e.replace(Qce,pue);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function pue(e){return"-"+e.toLowerCase()}const Yw={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},mue={};function A4(e,t){const n=mue,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return F$(e,r,s)}function F$(e,t,n){if(gue(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return LA(e.children,t,n)}return Array.isArray(e)?LA(e,t,n):""}function LA(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=F$(e[s],t,n);return r.join("")}function gue(e){return!!(e&&typeof e=="object")}const IA=document.createElement("i");function P4(e){const t="&"+e+";";IA.innerHTML=t;const n=IA.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ki(e,t,n,r){const s=e.length;let i=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);i<r.length;)a=r.slice(i,i+1e4),a.unshift(t,0),e.splice(...a),i+=1e4,t+=1e4}function ma(e,t){return e.length>0?(Ki(e,e.length,0,t),e):t}const DA={}.hasOwnProperty;function z$(e){const t={};let n=-1;for(;++n<e.length;)xue(t,e[n]);return t}function xue(e,t){let n;for(n in t){const s=(DA.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let a;if(i)for(a in i){DA.call(s,a)||(s[a]=[]);const l=i[a];yue(s[a],Array.isArray(l)?l:l?[l]:[])}}}function yue(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ki(e,0,0,r)}function B$(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Za(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Js=wu(/[A-Za-z]/),Is=wu(/[\dA-Za-z]/),vue=wu(/[#-'*+\--9=?A-Z^-~]/);function C1(e){return e!==null&&(e<32||e===127)}const AN=wu(/\d/),bue=wu(/[\dA-Fa-f]/),wue=wu(/[!-/:-@[-`{-~]/);function Nt(e){return e!==null&&e<-2}function Fn(e){return e!==null&&(e<0||e===32)}function on(e){return e===-2||e===-1||e===32}const $b=wu(new RegExp("\\p{P}|\\p{S}","u")),Ld=wu(/\s/);function wu(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function dp(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const i=e.charCodeAt(n);let a="";if(i===37&&Is(e.charCodeAt(n+1))&&Is(e.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(a=String.fromCharCode(i,l),s=1):a=""}else a=String.fromCharCode(i);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function pn(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return a;function a(c){return on(c)?(e.enter(n),l(c)):t(c)}function l(c){return on(c)&&i++<s?(e.consume(c),l):(e.exit(n),t(c))}}const jue={tokenize:Nue};function Nue(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),pn(e,t,"linePrefix")}function s(l){return e.enter("paragraph"),i(l)}function i(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Nt(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),a)}}const Sue={tokenize:kue},RA={tokenize:_ue};function kue(e){const t=this,n=[];let r=0,s,i,a;return l;function l(w){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,c,u)(w)}return u(w)}function c(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&y();const _=t.events.length;let C=_,E;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){E=t.events[C][1].end;break}v(r);let O=_;for(;O<t.events.length;)t.events[O][1].end={...E},O++;return Ki(t.events,C+1,0,t.events.slice(_)),t.events.length=O,u(w)}return l(w)}function u(w){if(r===n.length){if(!s)return f(w);if(s.currentConstruct&&s.currentConstruct.concrete)return g(w);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(RA,d,h)(w)}function d(w){return s&&y(),v(r),f(w)}function h(w){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(w)}function f(w){return t.containerState={},e.attempt(RA,p,g)(w)}function p(w){return r++,n.push([t.currentConstruct,t.containerState]),f(w)}function g(w){if(w===null){s&&y(),v(0),e.consume(w);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),x(w)}function x(w){if(w===null){b(e.exit("chunkFlow"),!0),v(0),e.consume(w);return}return Nt(w)?(e.consume(w),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(w),x)}function b(w,_){const C=t.sliceStream(w);if(_&&C.push(null),w.previous=i,i&&(i.next=w),i=w,s.defineSkip(w.start),s.write(C),t.parser.lazy[w.start.line]){let E=s.events.length;for(;E--;)if(s.events[E][1].start.offset<a&&(!s.events[E][1].end||s.events[E][1].end.offset>a))return;const O=t.events.length;let T=O,$,B;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if($){B=t.events[T][1].end;break}$=!0}for(v(r),E=O;E<t.events.length;)t.events[E][1].end={...B},E++;Ki(t.events,T+1,0,t.events.slice(O)),t.events.length=E}}function v(w){let _=n.length;for(;_-- >w;){const C=n[_];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function y(){s.write([null]),i=void 0,s=void 0,t.containerState._closeFlow=void 0}}function _ue(e,t,n){return pn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Kf(e){if(e===null||Fn(e)||Ld(e))return 1;if($b(e))return 2}function Ub(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const PN={name:"attention",resolveAll:Cue,tokenize:Aue};function Cue(e,t){let n=-1,r,s,i,a,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},f={...e[n][1].start};OA(h,-c),OA(f,c),a={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},i={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:c>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[r][1].end={...a.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ma(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ma(u,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",i,t]]),u=ma(u,Ub(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ma(u,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=ma(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ki(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Aue(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Kf(r);let i;return a;function a(c){return i=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===i)return e.consume(c),l;const u=e.exit("attentionSequence"),d=Kf(c),h=!d||d===2&&s||n.includes(c),f=!s||s===2&&d||n.includes(r);return u._open=!!(i===42?h:h&&(s||!f)),u._close=!!(i===42?f:f&&(d||!h)),t(c)}}function OA(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Pue={name:"autolink",tokenize:Eue};function Eue(e,t,n){let r=0;return s;function s(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(p){return Js(p)?(e.consume(p),a):p===64?n(p):u(p)}function a(p){return p===43||p===45||p===46||Is(p)?(r=1,l(p)):u(p)}function l(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||Is(p))&&r++<32?(e.consume(p),l):(r=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||C1(p)?n(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),d):vue(p)?(e.consume(p),u):n(p)}function d(p){return Is(p)?h(p):n(p)}function h(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):f(p)}function f(p){if((p===45||Is(p))&&r++<63){const g=p===45?f:h;return e.consume(p),g}return n(p)}}const G0={partial:!0,tokenize:Tue};function Tue(e,t,n){return r;function r(i){return on(i)?pn(e,s,"linePrefix")(i):s(i)}function s(i){return i===null||Nt(i)?t(i):n(i)}}const $$={continuation:{tokenize:Lue},exit:Iue,name:"blockQuote",tokenize:Mue};function Mue(e,t,n){const r=this;return s;function s(a){if(a===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),i}return n(a)}function i(a){return on(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function Lue(e,t,n){const r=this;return s;function s(a){return on(a)?pn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return e.attempt($$,t,n)(a)}}function Iue(e){e.exit("blockQuote")}const U$={name:"characterEscape",tokenize:Due};function Due(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),s}function s(i){return wue(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const V$={name:"characterReference",tokenize:Rue};function Rue(e,t,n){const r=this;let s=0,i,a;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,a=Is,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,a=bue,d):(e.enter("characterReferenceValue"),i=7,a=AN,d(h))}function d(h){if(h===59&&s){const f=e.exit("characterReferenceValue");return a===Is&&!P4(r.sliceSerialize(f))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(h)&&s++<i?(e.consume(h),d):n(h)}}const FA={partial:!0,tokenize:Fue},zA={concrete:!0,name:"codeFenced",tokenize:Oue};function Oue(e,t,n){const r=this,s={partial:!0,tokenize:C};let i=0,a=0,l;return c;function c(E){return u(E)}function u(E){const O=r.events[r.events.length-1];return i=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,l=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(E)}function d(E){return E===l?(a++,e.consume(E),d):a<3?n(E):(e.exit("codeFencedFenceSequence"),on(E)?pn(e,h,"whitespace")(E):h(E))}function h(E){return E===null||Nt(E)?(e.exit("codeFencedFence"),r.interrupt?t(E):e.check(FA,x,_)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(E))}function f(E){return E===null||Nt(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(E)):on(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),pn(e,p,"whitespace")(E)):E===96&&E===l?n(E):(e.consume(E),f)}function p(E){return E===null||Nt(E)?h(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===null||Nt(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(E)):E===96&&E===l?n(E):(e.consume(E),g)}function x(E){return e.attempt(s,_,b)(E)}function b(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),v}function v(E){return i>0&&on(E)?pn(e,y,"linePrefix",i+1)(E):y(E)}function y(E){return E===null||Nt(E)?e.check(FA,x,_)(E):(e.enter("codeFlowValue"),w(E))}function w(E){return E===null||Nt(E)?(e.exit("codeFlowValue"),y(E)):(e.consume(E),w)}function _(E){return e.exit("codeFenced"),t(E)}function C(E,O,T){let $=0;return B;function B(U){return E.enter("lineEnding"),E.consume(U),E.exit("lineEnding"),L}function L(U){return E.enter("codeFencedFence"),on(U)?pn(E,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):P(U)}function P(U){return U===l?(E.enter("codeFencedFenceSequence"),D(U)):T(U)}function D(U){return U===l?($++,E.consume(U),D):$>=a?(E.exit("codeFencedFenceSequence"),on(U)?pn(E,F,"whitespace")(U):F(U)):T(U)}function F(U){return U===null||Nt(U)?(E.exit("codeFencedFence"),O(U)):T(U)}}}function Fue(e,t,n){const r=this;return s;function s(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i)}function i(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Gw={name:"codeIndented",tokenize:Bue},zue={partial:!0,tokenize:$ue};function Bue(e,t,n){const r=this;return s;function s(u){return e.enter("codeIndented"),pn(e,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):Nt(u)?e.attempt(zue,a,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||Nt(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function $ue(e,t,n){const r=this;return s;function s(a){return r.parser.lazy[r.now().line]?n(a):Nt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):pn(e,i,"linePrefix",5)(a)}function i(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):Nt(a)?s(a):n(a)}}const Uue={name:"codeText",previous:que,resolve:Vue,tokenize:Wue};function Vue(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function que(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Wue(e,t,n){let r=0,s,i;return a;function a(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(i=e.enter("codeTextSequence"),s=0,d(h)):Nt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||Nt(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),s++,d):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(i.type="codeTextData",u(h))}}class Hue{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&sm(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),sm(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),sm(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);sm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);sm(this.left,n.reverse())}}}function sm(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function q$(e){const t={};let n=-1,r,s,i,a,l,c,u;const d=new Hue(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Yue(d,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,s=void 0;i--;)if(a=d.get(i),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=i);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(r[1].end={...d.get(s)[1].start},l=d.slice(s,n),l.unshift(r),d.splice(s,n-s+1,l))}}return Ki(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Yue(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const i=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,c=[],u={};let d,h,f=-1,p=n,g=0,x=0;const b=[x];for(;p;){for(;e.get(++s)[1]!==p;);i.push(s),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),h&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(x=f+1,b.push(x),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),f=b.length;f--;){const v=l.slice(b[f],b[f+1]),y=i.pop();c.push([y,y+v.length-1]),e.splice(y,2,v)}for(c.reverse(),f=-1;++f<c.length;)u[g+c[f][0]]=g+c[f][1],g+=c[f][1]-c[f][0]-1;return u}const Gue={resolve:Que,tokenize:Xue},Kue={partial:!0,tokenize:Jue};function Que(e){return q$(e),e}function Xue(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(l)}function s(l){return l===null?i(l):Nt(l)?e.check(Kue,a,i)(l):(e.consume(l),s)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function Jue(e,t,n){const r=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),pn(e,i,"linePrefix")}function i(a){if(a===null||Nt(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function W$(e,t,n,r,s,i,a,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(v){return v===60?(e.enter(r),e.enter(s),e.enter(i),e.consume(v),e.exit(i),f):v===null||v===32||v===41||C1(v)?n(v):(e.enter(r),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),x(v))}function f(v){return v===62?(e.enter(i),e.consume(v),e.exit(i),e.exit(s),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(l),f(v)):v===null||v===60||Nt(v)?n(v):(e.consume(v),v===92?g:p)}function g(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function x(v){return!d&&(v===null||v===41||Fn(v))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,x):v===41?(e.consume(v),d--,x):v===null||v===32||v===40||C1(v)?n(v):(e.consume(v),v===92?b:x)}function b(v){return v===40||v===41||v===92?(e.consume(v),x):x(v)}}function H$(e,t,n,r,s,i){const a=this;let l=0,c;return u;function u(p){return e.enter(r),e.enter(s),e.consume(p),e.exit(s),e.enter(i),d}function d(p){return l>999||p===null||p===91||p===93&&!c||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(i),e.enter(s),e.consume(p),e.exit(s),e.exit(r),t):Nt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||Nt(p)||l++>999?(e.exit("chunkString"),d(p)):(e.consume(p),c||(c=!on(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(e.consume(p),l++,h):h(p)}}function Y$(e,t,n,r,s,i){let a;return l;function l(f){return f===34||f===39||f===40?(e.enter(r),e.enter(s),e.consume(f),e.exit(s),a=f===40?41:f,c):n(f)}function c(f){return f===a?(e.enter(s),e.consume(f),e.exit(s),e.exit(r),t):(e.enter(i),u(f))}function u(f){return f===a?(e.exit(i),c(a)):f===null?n(f):Nt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),pn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===a||f===null||Nt(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?h:d)}function h(f){return f===a||f===92?(e.consume(f),d):d(f)}}function Hm(e,t){let n;return r;function r(s){return Nt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):on(s)?pn(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const Zue={name:"definition",tokenize:tde},ede={partial:!0,tokenize:nde};function tde(e,t,n){const r=this;let s;return i;function i(p){return e.enter("definition"),a(p)}function a(p){return H$.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return s=Za(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return Fn(p)?Hm(e,u)(p):u(p)}function u(p){return W$(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(ede,h,h)(p)}function h(p){return on(p)?pn(e,f,"whitespace")(p):f(p)}function f(p){return p===null||Nt(p)?(e.exit("definition"),r.parser.defined.push(s),t(p)):n(p)}}function nde(e,t,n){return r;function r(l){return Fn(l)?Hm(e,s)(l):n(l)}function s(l){return Y$(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return on(l)?pn(e,a,"whitespace")(l):a(l)}function a(l){return l===null||Nt(l)?t(l):n(l)}}const rde={name:"hardBreakEscape",tokenize:sde};function sde(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),s}function s(i){return Nt(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const ide={name:"headingAtx",resolve:ade,tokenize:ode};function ade(e,t){let n=e.length-2,r=3,s,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ki(e,r,n-r+1,[["enter",s,t],["enter",i,t],["exit",i,t],["exit",s,t]])),e}function ode(e,t,n){let r=0;return s;function s(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||Fn(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||Nt(d)?(e.exit("atxHeading"),t(d)):on(d)?pn(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Fn(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const lde=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],BA=["pre","script","style","textarea"],cde={concrete:!0,name:"htmlFlow",resolveTo:hde,tokenize:fde},ude={partial:!0,tokenize:mde},dde={partial:!0,tokenize:pde};function hde(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function fde(e,t,n){const r=this;let s,i,a,l,c;return u;function u(I){return d(I)}function d(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),h}function h(I){return I===33?(e.consume(I),f):I===47?(e.consume(I),i=!0,x):I===63?(e.consume(I),s=3,r.interrupt?t:M):Js(I)?(e.consume(I),a=String.fromCharCode(I),b):n(I)}function f(I){return I===45?(e.consume(I),s=2,p):I===91?(e.consume(I),s=5,l=0,g):Js(I)?(e.consume(I),s=4,r.interrupt?t:M):n(I)}function p(I){return I===45?(e.consume(I),r.interrupt?t:M):n(I)}function g(I){const J="CDATA[";return I===J.charCodeAt(l++)?(e.consume(I),l===J.length?r.interrupt?t:P:g):n(I)}function x(I){return Js(I)?(e.consume(I),a=String.fromCharCode(I),b):n(I)}function b(I){if(I===null||I===47||I===62||Fn(I)){const J=I===47,se=a.toLowerCase();return!J&&!i&&BA.includes(se)?(s=1,r.interrupt?t(I):P(I)):lde.includes(a.toLowerCase())?(s=6,J?(e.consume(I),v):r.interrupt?t(I):P(I)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):i?y(I):w(I))}return I===45||Is(I)?(e.consume(I),a+=String.fromCharCode(I),b):n(I)}function v(I){return I===62?(e.consume(I),r.interrupt?t:P):n(I)}function y(I){return on(I)?(e.consume(I),y):B(I)}function w(I){return I===47?(e.consume(I),B):I===58||I===95||Js(I)?(e.consume(I),_):on(I)?(e.consume(I),w):B(I)}function _(I){return I===45||I===46||I===58||I===95||Is(I)?(e.consume(I),_):C(I)}function C(I){return I===61?(e.consume(I),E):on(I)?(e.consume(I),C):w(I)}function E(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),c=I,O):on(I)?(e.consume(I),E):T(I)}function O(I){return I===c?(e.consume(I),c=null,$):I===null||Nt(I)?n(I):(e.consume(I),O)}function T(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||Fn(I)?C(I):(e.consume(I),T)}function $(I){return I===47||I===62||on(I)?w(I):n(I)}function B(I){return I===62?(e.consume(I),L):n(I)}function L(I){return I===null||Nt(I)?P(I):on(I)?(e.consume(I),L):n(I)}function P(I){return I===45&&s===2?(e.consume(I),W):I===60&&s===1?(e.consume(I),H):I===62&&s===4?(e.consume(I),ae):I===63&&s===3?(e.consume(I),M):I===93&&s===5?(e.consume(I),G):Nt(I)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(ude,z,D)(I)):I===null||Nt(I)?(e.exit("htmlFlowData"),D(I)):(e.consume(I),P)}function D(I){return e.check(dde,F,z)(I)}function F(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),U}function U(I){return I===null||Nt(I)?D(I):(e.enter("htmlFlowData"),P(I))}function W(I){return I===45?(e.consume(I),M):P(I)}function H(I){return I===47?(e.consume(I),a="",R):P(I)}function R(I){if(I===62){const J=a.toLowerCase();return BA.includes(J)?(e.consume(I),ae):P(I)}return Js(I)&&a.length<8?(e.consume(I),a+=String.fromCharCode(I),R):P(I)}function G(I){return I===93?(e.consume(I),M):P(I)}function M(I){return I===62?(e.consume(I),ae):I===45&&s===2?(e.consume(I),M):P(I)}function ae(I){return I===null||Nt(I)?(e.exit("htmlFlowData"),z(I)):(e.consume(I),ae)}function z(I){return e.exit("htmlFlow"),t(I)}}function pde(e,t,n){const r=this;return s;function s(a){return Nt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):n(a)}function i(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function mde(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(G0,t,n)}}const gde={name:"htmlText",tokenize:xde};function xde(e,t,n){const r=this;let s,i,a;return l;function l(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),c}function c(M){return M===33?(e.consume(M),u):M===47?(e.consume(M),C):M===63?(e.consume(M),w):Js(M)?(e.consume(M),T):n(M)}function u(M){return M===45?(e.consume(M),d):M===91?(e.consume(M),i=0,g):Js(M)?(e.consume(M),y):n(M)}function d(M){return M===45?(e.consume(M),p):n(M)}function h(M){return M===null?n(M):M===45?(e.consume(M),f):Nt(M)?(a=h,H(M)):(e.consume(M),h)}function f(M){return M===45?(e.consume(M),p):h(M)}function p(M){return M===62?W(M):M===45?f(M):h(M)}function g(M){const ae="CDATA[";return M===ae.charCodeAt(i++)?(e.consume(M),i===ae.length?x:g):n(M)}function x(M){return M===null?n(M):M===93?(e.consume(M),b):Nt(M)?(a=x,H(M)):(e.consume(M),x)}function b(M){return M===93?(e.consume(M),v):x(M)}function v(M){return M===62?W(M):M===93?(e.consume(M),v):x(M)}function y(M){return M===null||M===62?W(M):Nt(M)?(a=y,H(M)):(e.consume(M),y)}function w(M){return M===null?n(M):M===63?(e.consume(M),_):Nt(M)?(a=w,H(M)):(e.consume(M),w)}function _(M){return M===62?W(M):w(M)}function C(M){return Js(M)?(e.consume(M),E):n(M)}function E(M){return M===45||Is(M)?(e.consume(M),E):O(M)}function O(M){return Nt(M)?(a=O,H(M)):on(M)?(e.consume(M),O):W(M)}function T(M){return M===45||Is(M)?(e.consume(M),T):M===47||M===62||Fn(M)?$(M):n(M)}function $(M){return M===47?(e.consume(M),W):M===58||M===95||Js(M)?(e.consume(M),B):Nt(M)?(a=$,H(M)):on(M)?(e.consume(M),$):W(M)}function B(M){return M===45||M===46||M===58||M===95||Is(M)?(e.consume(M),B):L(M)}function L(M){return M===61?(e.consume(M),P):Nt(M)?(a=L,H(M)):on(M)?(e.consume(M),L):$(M)}function P(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),s=M,D):Nt(M)?(a=P,H(M)):on(M)?(e.consume(M),P):(e.consume(M),F)}function D(M){return M===s?(e.consume(M),s=void 0,U):M===null?n(M):Nt(M)?(a=D,H(M)):(e.consume(M),D)}function F(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||Fn(M)?$(M):(e.consume(M),F)}function U(M){return M===47||M===62||Fn(M)?$(M):n(M)}function W(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function H(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),R}function R(M){return on(M)?pn(e,G,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):G(M)}function G(M){return e.enter("htmlTextData"),a(M)}}const E4={name:"labelEnd",resolveAll:wde,resolveTo:jde,tokenize:Nde},yde={tokenize:Sde},vde={tokenize:kde},bde={tokenize:_de};function wde(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&Ki(e,0,e.length,n),e}function jde(e,t){let n=e.length,r=0,s,i,a,l;for(;n--;)if(s=e[n][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(a=n);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=ma(l,e.slice(i+1,i+r+3)),l=ma(l,[["enter",d,t]]),l=ma(l,Ub(t.parser.constructs.insideSpan.null,e.slice(i+r+4,a-3),t)),l=ma(l,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),l=ma(l,e.slice(a+1)),l=ma(l,[["exit",c,t]]),Ki(e,i,e.length,l),e}function Nde(e,t,n){const r=this;let s=r.events.length,i,a;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){i=r.events[s][1];break}return l;function l(f){return i?i._inactive?h(f):(a=r.parser.defined.includes(Za(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),c):n(f)}function c(f){return f===40?e.attempt(yde,d,a?d:h)(f):f===91?e.attempt(vde,d,a?u:h)(f):a?d(f):h(f)}function u(f){return e.attempt(bde,d,h)(f)}function d(f){return t(f)}function h(f){return i._balanced=!0,n(f)}}function Sde(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),s}function s(h){return Fn(h)?Hm(e,i)(h):i(h)}function i(h){return h===41?d(h):W$(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return Fn(h)?Hm(e,c)(h):d(h)}function l(h){return n(h)}function c(h){return h===34||h===39||h===40?Y$(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Fn(h)?Hm(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function kde(e,t,n){const r=this;return s;function s(l){return H$.call(r,e,i,a,"reference","referenceMarker","referenceString")(l)}function i(l){return r.parser.defined.includes(Za(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function a(l){return n(l)}}function _de(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),s}function s(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const Cde={name:"labelStartImage",resolveAll:E4.resolveAll,tokenize:Ade};function Ade(e,t,n){const r=this;return s;function s(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Pde={name:"labelStartLink",resolveAll:E4.resolveAll,tokenize:Ede};function Ede(e,t,n){const r=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Kw={name:"lineEnding",tokenize:Tde};function Tde(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),pn(e,t,"linePrefix")}}const dv={name:"thematicBreak",tokenize:Mde};function Mde(e,t,n){let r=0,s;return i;function i(u){return e.enter("thematicBreak"),a(u)}function a(u){return s=u,l(u)}function l(u){return u===s?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||Nt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===s?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),on(u)?pn(e,l,"whitespace")(u):l(u))}}const di={continuation:{tokenize:Rde},exit:Fde,name:"list",tokenize:Dde},Lde={partial:!0,tokenize:zde},Ide={partial:!0,tokenize:Ode};function Dde(e,t,n){const r=this,s=r.events[r.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return l;function l(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:AN(p)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(dv,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return AN(p)&&++a<10?(e.consume(p),c):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(G0,r.interrupt?n:d,e.attempt(Lde,f,h))}function d(p){return r.containerState.initialBlankLine=!0,i++,f(p)}function h(p){return on(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function Rde(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(G0,s,i);function s(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,pn(e,t,"listItemIndent",r.containerState.size+1)(l)}function i(l){return r.containerState.furtherBlankLines||!on(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Ide,t,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,pn(e,e.attempt(di,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Ode(e,t,n){const r=this;return pn(e,s,"listItemIndent",r.containerState.size+1);function s(i){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(i):n(i)}}function Fde(e){e.exit(this.containerState.type)}function zde(e,t,n){const r=this;return pn(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const a=r.events[r.events.length-1];return!on(i)&&a&&a[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const $A={name:"setextUnderline",resolveTo:Bde,tokenize:$de};function Bde(e,t){let n=e.length,r,s,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",i?(e.splice(s,0,["enter",a,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function $de(e,t,n){const r=this;let s;return i;function i(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),s=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===s?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),on(u)?pn(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Nt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Ude={tokenize:Vde};function Vde(e){const t=this,n=e.attempt(G0,r,e.attempt(this.parser.constructs.flowInitial,s,pn(e,e.attempt(this.parser.constructs.flow,s,e.attempt(Gue,s)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const qde={resolveAll:K$()},Wde=G$("string"),Hde=G$("text");function G$(e){return{resolveAll:K$(e==="text"?Yde:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],i=n.attempt(s,a,l);return a;function a(d){return u(d)?i(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const h=s[d];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function K$(e){return t;function t(n,r){let s=-1,i;for(;++s<=n.length;)i===void 0?n[s]&&n[s][1].type==="data"&&(i=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==i+2&&(n[i][1].end=n[s-1][1].end,n.splice(i+2,s-i-2),s=i+2),i=void 0);return e?e(n,r):n}}function Yde(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let i=s.length,a=-1,l=0,c;for(;i--;){const u=s[i];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(u===-2)c=!0,l++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?a:r.start._bufferIndex+a,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Gde={42:di,43:di,45:di,48:di,49:di,50:di,51:di,52:di,53:di,54:di,55:di,56:di,57:di,62:$$},Kde={91:Zue},Qde={[-2]:Gw,[-1]:Gw,32:Gw},Xde={35:ide,42:dv,45:[$A,dv],60:cde,61:$A,95:dv,96:zA,126:zA},Jde={38:V$,92:U$},Zde={[-5]:Kw,[-4]:Kw,[-3]:Kw,33:Cde,38:V$,42:PN,60:[Pue,gde],91:Pde,92:[rde,U$],93:E4,95:PN,96:Uue},ehe={null:[PN,qde]},the={null:[42,95]},nhe={null:[]},rhe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:the,contentInitial:Kde,disable:nhe,document:Gde,flow:Xde,flowInitial:Qde,insideSpan:ehe,string:Jde,text:Zde},Symbol.toStringTag,{value:"Module"}));function she(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let a=[],l=[];const c={attempt:O(C),check:O(E),consume:y,enter:w,exit:_,interrupt:O(E,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:g,parser:e,previous:null,sliceSerialize:f,sliceStream:p,write:h};let d=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function h(L){return a=ma(a,L),b(),a[a.length-1]!==null?[]:(T(t,0),u.events=Ub(i,u.events,u),u.events)}function f(L,P){return ahe(p(L),P)}function p(L){return ihe(a,L)}function g(){const{_bufferIndex:L,_index:P,line:D,column:F,offset:U}=r;return{_bufferIndex:L,_index:P,line:D,column:F,offset:U}}function x(L){s[L.line]=L.column,B()}function b(){let L;for(;r._index<a.length;){const P=a[r._index];if(typeof P=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<P.length;)v(P.charCodeAt(r._bufferIndex));else v(P)}}function v(L){d=d(L)}function y(L){Nt(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,B()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function w(L,P){const D=P||{};return D.type=L,D.start=g(),u.events.push(["enter",D,u]),l.push(D),D}function _(L){const P=l.pop();return P.end=g(),u.events.push(["exit",P,u]),P}function C(L,P){T(L,P.from)}function E(L,P){P.restore()}function O(L,P){return D;function D(F,U,W){let H,R,G,M;return Array.isArray(F)?z(F):"tokenize"in F?z([F]):ae(F);function ae(re){return oe;function oe(ce){const xe=ce!==null&&re[ce],Pe=ce!==null&&re.null,Ce=[...Array.isArray(xe)?xe:xe?[xe]:[],...Array.isArray(Pe)?Pe:Pe?[Pe]:[]];return z(Ce)(ce)}}function z(re){return H=re,R=0,re.length===0?W:I(re[R])}function I(re){return oe;function oe(ce){return M=$(),G=re,re.partial||(u.currentConstruct=re),re.name&&u.parser.constructs.disable.null.includes(re.name)?se():re.tokenize.call(P?Object.assign(Object.create(u),P):u,c,J,se)(ce)}}function J(re){return L(G,M),U}function se(re){return M.restore(),++R<H.length?I(H[R]):W}}}function T(L,P){L.resolveAll&&!i.includes(L)&&i.push(L),L.resolve&&Ki(u.events,P,u.events.length-P,L.resolve(u.events.slice(P),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function $(){const L=g(),P=u.previous,D=u.currentConstruct,F=u.events.length,U=Array.from(l);return{from:F,restore:W};function W(){r=L,u.previous=P,u.currentConstruct=D,u.events.length=F,l=U,B()}}function B(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function ihe(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let a;if(n===s)a=[e[n].slice(r,i)];else{if(a=e.slice(n,s),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}i>0&&a.push(e[s].slice(0,i))}return a}function ahe(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const i=e[n];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(i)}s=i===-2,r.push(a)}return r.join("")}function ohe(e){const r={constructs:z$([rhe,...(e||{}).extensions||[]]),content:s(jue),defined:[],document:s(Sue),flow:s(Ude),lazy:{},string:s(Wde),text:s(Hde)};return r;function s(i){return a;function a(l){return she(r,i,l)}}}function lhe(e){for(;!q$(e););return e}const UA=/[\0\t\n\r]/g;function che(){let e=1,t="",n=!0,r;return s;function s(i,a,l){const c=[];let u,d,h,f,p;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(a||void 0).decode(i)),h=0,t="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(UA.lastIndex=h,u=UA.exec(i),f=u&&u.index!==void 0?u.index:i.length,p=i.charCodeAt(f),!u){t=i.slice(h);break}if(p===10&&h===f&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<f&&(c.push(i.slice(h,f)),e+=f-h),p){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}h=f+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const uhe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function dhe(e){return e.replace(uhe,hhe)}function hhe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),i=s===120||s===88;return B$(n.slice(i?2:1),i?16:10)}return P4(n)||e}const Q$={}.hasOwnProperty;function fhe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),phe(n)(lhe(ohe(n).document().write(che()(e,t,!0))))}function phe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Oe),autolinkProtocol:$,autolinkEmail:$,atxHeading:i(ke),blockQuote:i(Pe),characterEscape:$,characterReference:$,codeFenced:i(Ce),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(Ce,a),codeText:i(De,a),codeTextData:$,data:$,codeFlowValue:$,definition:i(Ue),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(ct),hardBreakEscape:i(ne),hardBreakTrailing:i(ne),htmlFlow:i(gt,a),htmlFlowData:$,htmlText:i(gt,a),htmlTextData:$,image:i(ot),label:a,link:i(Oe),listItem:i(et),listItemValue:f,listOrdered:i(Ge,h),listUnordered:i(Ge),paragraph:i(Z),reference:I,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(ke),strong:i(de),thematicBreak:i(Te)},exit:{atxHeading:c(),atxHeadingSequence:C,autolink:c(),autolinkEmail:xe,autolinkProtocol:ce,blockQuote:c(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:se,characterReferenceMarkerNumeric:se,characterReferenceValue:re,characterReference:oe,codeFenced:c(b),codeFencedFence:x,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:B,codeIndented:c(v),codeText:c(U),codeTextData:B,data:B,definition:c(),definitionDestinationString:_,definitionLabelString:y,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(P),hardBreakTrailing:c(P),htmlFlow:c(D),htmlFlowData:B,htmlText:c(F),htmlTextData:B,image:c(H),label:G,labelText:R,lineEnding:L,link:c(W),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:J,resourceDestinationString:M,resourceTitleString:ae,resource:z,setextHeading:c(T),setextHeadingLineSequence:O,setextHeadingText:E,strong:c(),thematicBreak:c()}};X$(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ie){let pe={type:"root",children:[]};const _e={stack:[pe],tokenStack:[],config:t,enter:l,exit:u,buffer:a,resume:d,data:n},Me=[];let Ke=-1;for(;++Ke<ie.length;)if(ie[Ke][1].type==="listOrdered"||ie[Ke][1].type==="listUnordered")if(ie[Ke][0]==="enter")Me.push(Ke);else{const ze=Me.pop();Ke=s(ie,ze,Ke)}for(Ke=-1;++Ke<ie.length;){const ze=t[ie[Ke][0]];Q$.call(ze,ie[Ke][1].type)&&ze[ie[Ke][1].type].call(Object.assign({sliceSerialize:ie[Ke][2].sliceSerialize},_e),ie[Ke][1])}if(_e.tokenStack.length>0){const ze=_e.tokenStack[_e.tokenStack.length-1];(ze[1]||VA).call(_e,void 0,ze[0])}for(pe.position={start:hc(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:hc(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},Ke=-1;++Ke<t.transforms.length;)pe=t.transforms[Ke](pe)||pe;return pe}function s(ie,pe,_e){let Me=pe-1,Ke=-1,ze=!1,Mn,_t,Xn,an;for(;++Me<=_e;){const Rt=ie[Me];switch(Rt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Rt[0]==="enter"?Ke++:Ke--,an=void 0;break}case"lineEndingBlank":{Rt[0]==="enter"&&(Mn&&!an&&!Ke&&!Xn&&(Xn=Me),an=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:an=void 0}if(!Ke&&Rt[0]==="enter"&&Rt[1].type==="listItemPrefix"||Ke===-1&&Rt[0]==="exit"&&(Rt[1].type==="listUnordered"||Rt[1].type==="listOrdered")){if(Mn){let be=Me;for(_t=void 0;be--;){const Ze=ie[be];if(Ze[1].type==="lineEnding"||Ze[1].type==="lineEndingBlank"){if(Ze[0]==="exit")continue;_t&&(ie[_t][1].type="lineEndingBlank",ze=!0),Ze[1].type="lineEnding",_t=be}else if(!(Ze[1].type==="linePrefix"||Ze[1].type==="blockQuotePrefix"||Ze[1].type==="blockQuotePrefixWhitespace"||Ze[1].type==="blockQuoteMarker"||Ze[1].type==="listItemIndent"))break}Xn&&(!_t||Xn<_t)&&(Mn._spread=!0),Mn.end=Object.assign({},_t?ie[_t][1].start:Rt[1].end),ie.splice(_t||Me,0,["exit",Mn,Rt[2]]),Me++,_e++}if(Rt[1].type==="listItemPrefix"){const be={type:"listItem",_spread:!1,start:Object.assign({},Rt[1].start),end:void 0};Mn=be,ie.splice(Me,0,["enter",be,Rt[2]]),Me++,_e++,Xn=void 0,an=!0}}}return ie[pe][1]._spread=ze,_e}function i(ie,pe){return _e;function _e(Me){l.call(this,ie(Me),Me),pe&&pe.call(this,Me)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(ie,pe,_e){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([pe,_e||void 0]),ie.position={start:hc(pe.start),end:void 0}}function c(ie){return pe;function pe(_e){ie&&ie.call(this,_e),u.call(this,_e)}}function u(ie,pe){const _e=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==ie.type&&(pe?pe.call(this,ie,Me[0]):(Me[1]||VA).call(this,ie,Me[0]));else throw new Error("Cannot close `"+ie.type+"` ("+Wm({start:ie.start,end:ie.end})+"): its not open");_e.position.end=hc(ie.end)}function d(){return A4(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(ie){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=ie}function g(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=ie}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ie.replace(/(\r?\n|\r)$/g,"")}function y(ie){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.label=pe,_e.identifier=Za(this.sliceSerialize(ie)).toLowerCase()}function w(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ie}function _(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ie}function C(ie){const pe=this.stack[this.stack.length-1];if(!pe.depth){const _e=this.sliceSerialize(ie).length;pe.depth=_e}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function O(ie){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function $(ie){const _e=this.stack[this.stack.length-1].children;let Me=_e[_e.length-1];(!Me||Me.type!=="text")&&(Me=we(),Me.position={start:hc(ie.start),end:void 0},_e.push(Me)),this.stack.push(Me)}function B(ie){const pe=this.stack.pop();pe.value+=this.sliceSerialize(ie),pe.position.end=hc(ie.end)}function L(ie){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _e=pe.children[pe.children.length-1];_e.position.end=hc(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(pe.type)&&($.call(this,ie),B.call(this,ie))}function P(){this.data.atHardBreak=!0}function D(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ie}function F(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ie}function U(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ie}function W(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=pe,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function H(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=pe,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function R(ie){const pe=this.sliceSerialize(ie),_e=this.stack[this.stack.length-2];_e.label=dhe(pe),_e.identifier=Za(pe).toLowerCase()}function G(){const ie=this.stack[this.stack.length-1],pe=this.resume(),_e=this.stack[this.stack.length-1];if(this.data.inReference=!0,_e.type==="link"){const Me=ie.children;_e.children=Me}else _e.alt=pe}function M(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ie}function ae(){const ie=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ie}function z(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function J(ie){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.label=pe,_e.identifier=Za(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function se(ie){this.data.characterReferenceType=ie.type}function re(ie){const pe=this.sliceSerialize(ie),_e=this.data.characterReferenceType;let Me;_e?(Me=B$(pe,_e==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=P4(pe);const Ke=this.stack[this.stack.length-1];Ke.value+=Me}function oe(ie){const pe=this.stack.pop();pe.position.end=hc(ie.end)}function ce(ie){B.call(this,ie);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(ie)}function xe(ie){B.call(this,ie);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(ie)}function Pe(){return{type:"blockquote",children:[]}}function Ce(){return{type:"code",lang:null,meta:null,value:""}}function De(){return{type:"inlineCode",value:""}}function Ue(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ct(){return{type:"emphasis",children:[]}}function ke(){return{type:"heading",depth:0,children:[]}}function ne(){return{type:"break"}}function gt(){return{type:"html",value:""}}function ot(){return{type:"image",title:null,url:"",alt:null}}function Oe(){return{type:"link",title:null,url:"",children:[]}}function Ge(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function et(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function Z(){return{type:"paragraph",children:[]}}function de(){return{type:"strong",children:[]}}function we(){return{type:"text",value:""}}function Te(){return{type:"thematicBreak"}}}function hc(e){return{line:e.line,column:e.column,offset:e.offset}}function X$(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?X$(e,r):mhe(e,r)}}function mhe(e,t){let n;for(n in t)if(Q$.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function VA(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Wm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Wm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Wm({start:t.start,end:t.end})+") is still open")}function ghe(e){const t=this;t.parser=n;function n(r){return fhe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function xhe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function yhe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function vhe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function bhe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function whe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jhe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=dp(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let a,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=i+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function Nhe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function She(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function J$(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=r:s.push({type:"text",value:r}),s}function khe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return J$(e,t);const s={src:dp(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)}function _he(e,t){const n={src:dp(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Che(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Ahe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return J$(e,t);const s={href:dp(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Phe(e,t){const n={href:dp(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ehe(e,t,n){const r=e.all(t),s=n?The(n):Z$(t),i={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(s||l!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?a.push(...d.children):a.push(d)}const c=r[r.length-1];c&&(s||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:a};return e.patch(t,u),e.applyData(t,u)}function The(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Z$(n[r])}return t}function Z$(e){const t=e.spread;return t??e.children.length>1}function Mhe(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const a=r[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function Lhe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ihe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Dhe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rhe(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),s.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=S4(t.children[1]),c=M$(t.children[t.children.length-1]);l&&c&&(a.position={start:l,end:c}),s.push(a)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)}function Ohe(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const h=t.children[c],f={},p=a?a[c]:void 0;p&&(f.align=p);let g={type:"element",tagName:i,properties:f,children:[]};h&&(g.children=e.all(h),e.patch(h,g),g=e.applyData(h,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function Fhe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const qA=9,WA=32;function zhe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const i=[];for(;r;)i.push(HA(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return i.push(HA(t.slice(s),s>0,!1)),i.join("")}function HA(e,t,n){let r=0,s=e.length;if(t){let i=e.codePointAt(r);for(;i===qA||i===WA;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(s-1);for(;i===qA||i===WA;)s--,i=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function Bhe(e,t){const n={type:"text",value:zhe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function $he(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Uhe={blockquote:xhe,break:yhe,code:vhe,delete:bhe,emphasis:whe,footnoteReference:jhe,heading:Nhe,html:She,imageReference:khe,image:_he,inlineCode:Che,linkReference:Ahe,link:Phe,listItem:Ehe,list:Mhe,paragraph:Lhe,root:Ihe,strong:Dhe,table:Rhe,tableCell:Fhe,tableRow:Ohe,text:Bhe,thematicBreak:$he,toml:gy,yaml:gy,definition:gy,footnoteDefinition:gy};function gy(){}const eU=-1,Vb=0,Ym=1,A1=2,T4=3,M4=4,L4=5,I4=6,tU=7,nU=8,YA=typeof self=="object"?self:globalThis,Vhe=(e,t)=>{const n=(s,i)=>(e.set(i,s),s),r=s=>{if(e.has(s))return e.get(s);const[i,a]=t[s];switch(i){case Vb:case eU:return n(a,s);case Ym:{const l=n([],s);for(const c of a)l.push(r(c));return l}case A1:{const l=n({},s);for(const[c,u]of a)l[r(c)]=r(u);return l}case T4:return n(new Date(a),s);case M4:{const{source:l,flags:c}=a;return n(new RegExp(l,c),s)}case L4:{const l=n(new Map,s);for(const[c,u]of a)l.set(r(c),r(u));return l}case I4:{const l=n(new Set,s);for(const c of a)l.add(r(c));return l}case tU:{const{name:l,message:c}=a;return n(new YA[l](c),s)}case nU:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new YA[i](a),s)};return r},GA=e=>Vhe(new Map,e)(0),kh="",{toString:qhe}={},{keys:Whe}=Object,im=e=>{const t=typeof e;if(t!=="object"||!e)return[Vb,t];const n=qhe.call(e).slice(8,-1);switch(n){case"Array":return[Ym,kh];case"Object":return[A1,kh];case"Date":return[T4,kh];case"RegExp":return[M4,kh];case"Map":return[L4,kh];case"Set":return[I4,kh];case"DataView":return[Ym,n]}return n.includes("Array")?[Ym,n]:n.includes("Error")?[tU,n]:[A1,n]},xy=([e,t])=>e===Vb&&(t==="function"||t==="symbol"),Hhe=(e,t,n,r)=>{const s=(a,l)=>{const c=r.push(a)-1;return n.set(l,c),c},i=a=>{if(n.has(a))return n.get(a);let[l,c]=im(a);switch(l){case Vb:{let d=a;switch(c){case"bigint":l=nU,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return s([eU],a)}return s([l,d],a)}case Ym:{if(c){let f=a;return c==="DataView"?f=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(a)),s([c,[...f]],a)}const d=[],h=s([l,d],a);for(const f of a)d.push(i(f));return h}case A1:{if(c)switch(c){case"BigInt":return s([c,a.toString()],a);case"Boolean":case"Number":case"String":return s([c,a.valueOf()],a)}if(t&&"toJSON"in a)return i(a.toJSON());const d=[],h=s([l,d],a);for(const f of Whe(a))(e||!xy(im(a[f])))&&d.push([i(f),i(a[f])]);return h}case T4:return s([l,a.toISOString()],a);case M4:{const{source:d,flags:h}=a;return s([l,{source:d,flags:h}],a)}case L4:{const d=[],h=s([l,d],a);for(const[f,p]of a)(e||!(xy(im(f))||xy(im(p))))&&d.push([i(f),i(p)]);return h}case I4:{const d=[],h=s([l,d],a);for(const f of a)(e||!xy(im(f)))&&d.push(i(f));return h}}const{message:u}=a;return s([l,{name:c,message:u}],a)};return i},KA=(e,{json:t,lossy:n}={})=>{const r=[];return Hhe(!(t||n),!!t,new Map,r)(e),r},P1=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?GA(KA(e,t)):structuredClone(e):(e,t)=>GA(KA(e,t));function Yhe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Ghe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Khe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Yhe,r=e.options.footnoteBackLabel||Ghe,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),f=dp(h.toLowerCase());let p=0;const g=[],x=e.footnoteCounts.get(h);for(;x!==void 0&&++p<=x;){g.length>0&&g.push({type:"text",value:" "});let y=typeof n=="string"?n:n(c,p);typeof y=="string"&&(y={type:"text",value:y}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const y=b.children[b.children.length-1];y&&y.type==="text"?y.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...g)}else d.push(...g);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(u,v),l.push(v)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...P1(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const qb=function(e){if(e==null)return Zhe;if(typeof e=="function")return Wb(e);if(typeof e=="object")return Array.isArray(e)?Qhe(e):Xhe(e);if(typeof e=="string")return Jhe(e);throw new Error("Expected function, string, or object as test")};function Qhe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=qb(e[n]);return Wb(r);function r(...s){let i=-1;for(;++i<t.length;)if(t[i].apply(this,s))return!0;return!1}}function Xhe(e){const t=e;return Wb(n);function n(r){const s=r;let i;for(i in e)if(s[i]!==t[i])return!1;return!0}}function Jhe(e){return Wb(t);function t(n){return n&&n.type===e}}function Wb(e){return t;function t(n,r,s){return!!(efe(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function Zhe(){return!0}function efe(e){return e!==null&&typeof e=="object"&&"type"in e}const rU=[],tfe=!0,EN=!1,nfe="skip";function sU(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const i=qb(s),a=r?-1:1;l(e,void 0,[])();function l(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=rU,g,x,b;if((!t||i(c,u,d[d.length-1]||void 0))&&(p=rfe(n(c,d)),p[0]===EN))return p;if("children"in c&&c.children){const v=c;if(v.children&&p[0]!==nfe)for(x=(r?v.children.length:-1)+a,b=d.concat(v);x>-1&&x<v.children.length;){const y=v.children[x];if(g=l(y,x,b)(),g[0]===EN)return g;x=typeof g[1]=="number"?g[1]:x+a}}return p}}}function rfe(e){return Array.isArray(e)?e:typeof e=="number"?[tfe,e]:e==null?rU:[e]}function D4(e,t,n,r){let s,i,a;typeof t=="function"&&typeof n!="function"?(i=void 0,a=t,s=n):(i=t,a=n,s=r),sU(e,i,l,s);function l(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return a(c,h,d)}}const TN={}.hasOwnProperty,sfe={};function ife(e,t){const n=t||sfe,r=new Map,s=new Map,i=new Map,a={...Uhe,...n.handlers},l={all:u,applyData:ofe,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:a,one:c,options:n,patch:afe,wrap:cfe};return D4(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:s,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),l;function c(d,h){const f=d.type,p=l.handlers[f];if(TN.call(l.handlers,f)&&p)return p(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in d){const{children:x,...b}=d,v=P1(b);return v.children=l.all(d),v}return P1(d)}return(l.options.unknownHandler||lfe)(l,d,h)}function u(d){const h=[];if("children"in d){const f=d.children;let p=-1;for(;++p<f.length;){const g=l.one(f[p],d);if(g){if(p&&f[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=QA(g.value)),!Array.isArray(g)&&g.type==="element")){const x=g.children[0];x&&x.type==="text"&&(x.value=QA(x.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function afe(e,t){e.position&&(t.position=Gce(e))}function ofe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&i&&Object.assign(n.properties,P1(i)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function lfe(e,t){const n=t.data||{},r="value"in t&&!(TN.call(n,"hProperties")||TN.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cfe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function QA(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function XA(e,t){const n=ife(e,t),r=n.one(e,void 0),s=Khe(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function ufe(e,t){return e&&"run"in e?async function(n,r){const s=XA(n,{file:r,...t});await e.run(s,r)}:function(n,r){return XA(n,{file:r,...e||t})}}function JA(e){if(e)throw e}var hv=Object.prototype.hasOwnProperty,iU=Object.prototype.toString,ZA=Object.defineProperty,eP=Object.getOwnPropertyDescriptor,tP=function(t){return typeof Array.isArray=="function"?Array.isArray(t):iU.call(t)==="[object Array]"},nP=function(t){if(!t||iU.call(t)!=="[object Object]")return!1;var n=hv.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&hv.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||hv.call(t,s)},rP=function(t,n){ZA&&n.name==="__proto__"?ZA(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},sP=function(t,n){if(n==="__proto__")if(hv.call(t,n)){if(eP)return eP(t,n).value}else return;return t[n]},dfe=function e(){var t,n,r,s,i,a,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=sP(l,n),s=sP(t,n),l!==s&&(d&&s&&(nP(s)||(i=tP(s)))?(i?(i=!1,a=r&&tP(r)?r:[]):a=r&&nP(r)?r:{},rP(l,{name:n,newValue:e(d,a,s)})):typeof s<"u"&&rP(l,{name:n,newValue:s}));return l};const Qw=h0(dfe);function MN(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hfe(){const e=[],t={run:n,use:r};return t;function n(...s){let i=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...s);function l(c,...u){const d=e[++i];let h=-1;if(c){a(c);return}for(;++h<s.length;)(u[h]===null||u[h]===void 0)&&(u[h]=s[h]);s=u,d?ffe(d,l)(...u):a(null,...u)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function ffe(e,t){let n;return r;function r(...a){const l=e.length>a.length;let c;l&&a.push(s);try{c=e.apply(this,a)}catch(u){const d=u;if(l&&n)throw d;return s(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(i,s):c instanceof Error?s(c):i(c))}function s(a,...l){n||(n=!0,t(a,...l))}function i(a){s(null,a)}}const ko={basename:pfe,dirname:mfe,extname:gfe,join:xfe,sep:"/"};function pfe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');K0(e);let n=0,r=-1,s=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,l=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else a<0&&(i=!0,a=s+1),l>-1&&(e.codePointAt(s)===t.codePointAt(l--)?l<0&&(r=s):(l=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function mfe(e){if(K0(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function gfe(e){K0(e);let t=e.length,n=-1,r=0,s=-1,i=0,a;for(;t--;){const l=e.codePointAt(t);if(l===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),l===46?s<0?s=t:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||n<0||i===0||i===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function xfe(...e){let t=-1,n;for(;++t<e.length;)K0(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":yfe(n)}function yfe(e){K0(e);const t=e.codePointAt(0)===47;let n=vfe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function vfe(e,t){let n="",r=0,s=-1,i=0,a=-1,l,c;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(s===a-1||i===1))if(s!==a-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),s=a,i=0;continue}}else if(n.length>0){n="",r=0,s=a,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),r=a-s-1;s=a,i=0}else l===46&&i>-1?i++:i=-1}return n}function K0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const bfe={cwd:wfe};function wfe(){return"/"}function LN(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function jfe(e){if(typeof e=="string")e=new URL(e);else if(!LN(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Nfe(e)}function Nfe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Xw=["history","path","basename","stem","extname","dirname"];class aU{constructor(t){let n;t?LN(t)?n={path:t}:typeof t=="string"||Sfe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":bfe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Xw.length;){const i=Xw[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let s;for(s in n)Xw.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?ko.basename(this.path):void 0}set basename(t){Zw(t,"basename"),Jw(t,"basename"),this.path=ko.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ko.dirname(this.path):void 0}set dirname(t){iP(this.basename,"dirname"),this.path=ko.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ko.extname(this.path):void 0}set extname(t){if(Jw(t,"extname"),iP(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ko.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){LN(t)&&(t=jfe(t)),Zw(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ko.basename(this.path,this.extname):void 0}set stem(t){Zw(t,"stem"),Jw(t,"stem"),this.path=ko.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Us(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Jw(e,t){if(e&&e.includes(ko.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ko.sep+"`")}function Zw(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function iP(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Sfe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const kfe=function(e){const r=this.constructor.prototype,s=r[e],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},_fe={}.hasOwnProperty;class R4 extends kfe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=hfe()}copy(){const t=new R4;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Qw(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(n5("data",this.frozen),this.namespace[t]=n,this):_fe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(n5("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=yy(t),r=this.parser||this.Parser;return e5("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),e5("process",this.parser||this.Parser),t5("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(i,a){const l=yy(t),c=r.parse(l);r.run(c,l,function(d,h,f){if(d||!h||!f)return u(d);const p=h,g=r.stringify(p,f);Pfe(g)?f.value=g:f.result=g,u(d,f)});function u(d,h){d||!h?a(d):i?i(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),e5("processSync",this.parser||this.Parser),t5("processSync",this.compiler||this.Compiler),this.process(t,s),oP("processSync","process",n),r;function s(i,a){n=!0,JA(i),r=a}}run(t,n,r){aP(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(a,l){const c=yy(n);s.run(t,c,u);function u(d,h,f){const p=h||t;d?l(d):a?a(p):r(void 0,p,f)}}}runSync(t,n){let r=!1,s;return this.run(t,n,i),oP("runSync","run",r),s;function i(a,l){JA(a),s=l,r=!0}}stringify(t,n){this.freeze();const r=yy(n),s=this.compiler||this.Compiler;return t5("stringify",s),aP(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(n5("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;c(d,h)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(s.settings=Qw(!0,s.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];i(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===u){f=h;break}if(f===-1)r.push([u,...d]);else if(d.length>0){let[p,...g]=d;const x=r[f][1];MN(x)&&MN(p)&&(p=Qw(!0,x,p)),r[f]=[u,p,...g]}}}}const Cfe=new R4().freeze();function e5(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function t5(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function n5(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function aP(e){if(!MN(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function oP(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function yy(e){return Afe(e)?e:new aU(e)}function Afe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Pfe(e){return typeof e=="string"||Efe(e)}function Efe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Tfe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",lP=[],cP={allowDangerousHtml:!0},Mfe=/^(https?|ircs?|mailto|xmpp)$/i,Lfe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ife(e){const t=Dfe(e),n=Rfe(e);return Ofe(t.runSync(t.parse(n),n),e)}function Dfe(e){const t=e.rehypePlugins||lP,n=e.remarkPlugins||lP,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...cP}:cP;return Cfe().use(ghe).use(n).use(ufe,r).use(t)}function Rfe(e){const t=e.children||"",n=new aU;return typeof t=="string"&&(n.value=t),n}function Ofe(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,i=t.disallowedElements,a=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||Ffe;for(const d of Lfe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Tfe+d.id,void 0);return D4(e,u),Zce(e,{Fragment:o.Fragment,components:s,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function u(d,h,f){if(d.type==="raw"&&f&&typeof h=="number")return a?f.children.splice(h,1):f.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let p;for(p in Yw)if(Object.hasOwn(Yw,p)&&Object.hasOwn(d.properties,p)){const g=d.properties[p],x=Yw[p];(x===null||x.includes(d.tagName))&&(d.properties[p]=c(String(g||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!p&&r&&typeof h=="number"&&(p=!r(d,h,f)),p&&f&&typeof h=="number")return l&&d.children?f.children.splice(h,1,...d.children):f.children.splice(h,1),h}}}function Ffe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||Mfe.test(e.slice(0,t))?e:""}function uP(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}function zfe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Bfe(e,t,n){const s=qb((n||{}).ignore||[]),i=$fe(t);let a=-1;for(;++a<i.length;)sU(e,"text",l);function l(u,d){let h=-1,f;for(;++h<d.length;){const p=d[h],g=f?f.children:void 0;if(s(p,g?g.indexOf(p):void 0,f))return;f=p}if(f)return c(u,d)}function c(u,d){const h=d[d.length-1],f=i[a][0],p=i[a][1];let g=0;const b=h.children.indexOf(u);let v=!1,y=[];f.lastIndex=0;let w=f.exec(u.value);for(;w;){const _=w.index,C={index:w.index,input:w.input,stack:[...d,u]};let E=p(...w,C);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?f.lastIndex=_+1:(g!==_&&y.push({type:"text",value:u.value.slice(g,_)}),Array.isArray(E)?y.push(...E):E&&y.push(E),g=_+w[0].length,v=!0),!f.global)break;w=f.exec(u.value)}return v?(g<u.value.length&&y.push({type:"text",value:u.value.slice(g)}),h.children.splice(b,1,...y)):y=[u],b+y.length}}function $fe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([Ufe(s[0]),Vfe(s[1])])}return t}function Ufe(e){return typeof e=="string"?new RegExp(zfe(e),"g"):e}function Vfe(e){return typeof e=="function"?e:function(){return e}}const r5="phrasing",s5=["autolink","link","image","label"];function qfe(){return{transforms:[Xfe],enter:{literalAutolink:Hfe,literalAutolinkEmail:i5,literalAutolinkHttp:i5,literalAutolinkWww:i5},exit:{literalAutolink:Qfe,literalAutolinkEmail:Kfe,literalAutolinkHttp:Yfe,literalAutolinkWww:Gfe}}}function Wfe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:r5,notInConstruct:s5},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:r5,notInConstruct:s5},{character:":",before:"[ps]",after:"\\/",inConstruct:r5,notInConstruct:s5}]}}function Hfe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function i5(e){this.config.enter.autolinkProtocol.call(this,e)}function Yfe(e){this.config.exit.autolinkProtocol.call(this,e)}function Gfe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Kfe(e){this.config.exit.autolinkEmail.call(this,e)}function Qfe(e){this.exit(e)}function Xfe(e){Bfe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Jfe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Zfe]],{ignore:["link","linkReference"]})}function Jfe(e,t,n,r,s){let i="";if(!oU(s)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!epe(n)))return!1;const a=tpe(n+r);if(!a[0])return!1;const l={type:"link",title:null,url:i+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function Zfe(e,t,n,r){return!oU(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function epe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function tpe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=uP(e,"(");let i=uP(e,")");for(;r!==-1&&s>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function oU(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ld(n)||$b(n))&&(!t||n!==47)}lU.peek=upe;function npe(){this.buffer()}function rpe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function spe(){this.buffer()}function ipe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function ape(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Za(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ope(e){this.exit(e)}function lpe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Za(this.sliceSerialize(e)).toLowerCase(),n.label=t}function cpe(e){this.exit(e)}function upe(){return"["}function lU(e,t,n,r){const s=n.createTracker(r);let i=s.move("[^");const a=n.enter("footnoteReference"),l=n.enter("reference");return i+=s.move(n.safe(n.associationId(e),{after:"]",before:i})),l(),a(),i+=s.move("]"),i}function dpe(){return{enter:{gfmFootnoteCallString:npe,gfmFootnoteCall:rpe,gfmFootnoteDefinitionLabelString:spe,gfmFootnoteDefinition:ipe},exit:{gfmFootnoteCallString:ape,gfmFootnoteCall:ope,gfmFootnoteDefinitionLabelString:lpe,gfmFootnoteDefinition:cpe}}}function hpe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:lU},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,i,a){const l=i.createTracker(a);let c=l.move("[^");const u=i.enter("footnoteDefinition"),d=i.enter("label");return c+=l.move(i.safe(i.associationId(r),{before:c,after:"]"})),d(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,l.current()),t?cU:fpe))),u(),c}}function fpe(e,t,n){return t===0?e:cU(e,t,n)}function cU(e,t,n){return(n?"":"    ")+e}const ppe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];uU.peek=vpe;function mpe(){return{canContainEols:["delete"],enter:{strikethrough:xpe},exit:{strikethrough:ype}}}function gpe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ppe}],handlers:{delete:uU}}}function xpe(e){this.enter({type:"delete",children:[]},e)}function ype(e){this.exit(e)}function uU(e,t,n,r){const s=n.createTracker(r),i=n.enter("strikethrough");let a=s.move("~~");return a+=n.containerPhrasing(e,{...s.current(),before:a,after:"~"}),a+=s.move("~~"),i(),a}function vpe(){return"~"}function bpe(e){return e.length}function wpe(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||bpe,i=[],a=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const x=[],b=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const y=jpe(e[d][v]);if(n.alignDelimiters!==!1){const w=s(y);b[v]=w,(c[v]===void 0||w>c[v])&&(c[v]=w)}x.push(y)}a[d]=x,l[d]=b}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)i[h]=dP(r[h]);else{const x=dP(r);for(;++h<u;)i[h]=x}h=-1;const f=[],p=[];for(;++h<u;){const x=i[h];let b="",v="";x===99?(b=":",v=":"):x===108?b=":":x===114&&(v=":");let y=n.alignDelimiters===!1?1:Math.max(1,c[h]-b.length-v.length);const w=b+"-".repeat(y)+v;n.alignDelimiters!==!1&&(y=b.length+y+v.length,y>c[h]&&(c[h]=y),p[h]=y),f[h]=w}a.splice(1,0,f),l.splice(1,0,p),d=-1;const g=[];for(;++d<a.length;){const x=a[d],b=l[d];h=-1;const v=[];for(;++h<u;){const y=x[h]||"";let w="",_="";if(n.alignDelimiters!==!1){const C=c[h]-(b[h]||0),E=i[h];E===114?w=" ".repeat(C):E===99?C%2?(w=" ".repeat(C/2+.5),_=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),_=w):_=" ".repeat(C)}n.delimiterStart!==!1&&!h&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&y==="")&&(n.delimiterStart!==!1||h)&&v.push(" "),n.alignDelimiters!==!1&&v.push(w),v.push(y),n.alignDelimiters!==!1&&v.push(_),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&v.push("|")}g.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return g.join(`
`)}function jpe(e){return e==null?"":String(e)}function dP(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Npe(e,t,n,r){const s=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const a=n.indentLines(n.containerFlow(e,i.current()),Spe);return s(),a}function Spe(e,t,n){return">"+(n?"":" ")+e}function kpe(e,t){return hP(e,t.inConstruct,!0)&&!hP(e,t.notInConstruct,!1)}function hP(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function fP(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&kpe(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function _pe(e,t){const n=String(e);let r=n.indexOf(t),s=r,i=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++i>a&&(a=i):i=1,s=r+t.length,r=n.indexOf(t,s);return a}function Cpe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Ape(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Ppe(e,t,n,r){const s=Ape(n),i=e.value||"",a=s==="`"?"GraveAccent":"Tilde";if(Cpe(e,n)){const h=n.enter("codeIndented"),f=n.indentLines(i,Epe);return h(),f}const l=n.createTracker(r),c=s.repeat(Math.max(_pe(i,s)+1,3)),u=n.enter("codeFenced");let d=l.move(c);if(e.lang){const h=n.enter(`codeFencedLang${a}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),h()}if(e.lang&&e.meta){const h=n.enter(`codeFencedMeta${a}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),h()}return d+=l.move(`
`),i&&(d+=l.move(i+`
`)),d+=l.move(c),u(),d}function Epe(e,t,n){return(n?"":"    ")+e}function O4(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Tpe(e,t,n,r){const s=O4(n),i=s==='"'?"Quote":"Apostrophe",a=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=c.move(" "+s),u+=c.move(n.safe(e.title,{before:u,after:s,...c.current()})),u+=c.move(s),l()),a(),u}function Mpe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Xg(e){return"&#x"+e.toString(16).toUpperCase()+";"}function E1(e,t,n){const r=Kf(e),s=Kf(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}dU.peek=Lpe;function dU(e,t,n,r){const s=Mpe(n),i=n.enter("emphasis"),a=n.createTracker(r),l=a.move(s);let c=a.move(n.containerPhrasing(e,{after:s,before:l,...a.current()}));const u=c.charCodeAt(0),d=E1(r.before.charCodeAt(r.before.length-1),u,s);d.inside&&(c=Xg(u)+c.slice(1));const h=c.charCodeAt(c.length-1),f=E1(r.after.charCodeAt(0),h,s);f.inside&&(c=c.slice(0,-1)+Xg(h));const p=a.move(s);return i(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},l+c+p}function Lpe(e,t,n){return n.options.emphasis||"*"}function Ipe(e,t){let n=!1;return D4(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,EN}),!!((!e.depth||e.depth<3)&&A4(e)&&(t.options.setext||n))}function Dpe(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(Ipe(e,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),f=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return h(),d(),f+`
`+(s===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(s),l=n.enter("headingAtx"),c=n.enter("phrasing");i.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=Xg(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),c(),l(),u}hU.peek=Rpe;function hU(e){return e.value||""}function Rpe(){return"<"}fU.peek=Ope;function fU(e,t,n,r){const s=O4(n),i=s==='"'?"Quote":"Apostrophe",a=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=c.move(" "+s),u+=c.move(n.safe(e.title,{before:u,after:s,...c.current()})),u+=c.move(s),l()),u+=c.move(")"),a(),u}function Ope(){return"!"}pU.peek=Fpe;function pU(e,t,n,r){const s=e.referenceType,i=n.enter("imageReference");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return a(),n.stack=d,i(),s==="full"||!u||u!==h?c+=l.move(h+"]"):s==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function Fpe(){return"!"}mU.peek=zpe;function mU(e,t,n){let r=e.value||"",s="`",i=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const a=n.unsafe[i],l=n.compilePattern(a);let c;if(a.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return s+r+s}function zpe(){return"`"}function gU(e,t){const n=A4(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}xU.peek=Bpe;function xU(e,t,n,r){const s=O4(n),i=s==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let l,c;if(gU(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let h=a.move("<");return h+=a.move(n.containerPhrasing(e,{before:h,after:">",...a.current()})),h+=a.move(">"),l(),n.stack=d,h}l=n.enter("link"),c=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(c=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${i}`),u+=a.move(" "+s),u+=a.move(n.safe(e.title,{before:u,after:s,...a.current()})),u+=a.move(s),c()),u+=a.move(")"),l(),u}function Bpe(e,t,n){return gU(e,n)?"<":"["}yU.peek=$pe;function yU(e,t,n,r){const s=e.referenceType,i=n.enter("linkReference");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return a(),n.stack=d,i(),s==="full"||!u||u!==h?c+=l.move(h+"]"):s==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function $pe(){return"["}function F4(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Upe(e){const t=F4(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Vpe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function vU(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function qpe(e,t,n,r){const s=n.enter("list"),i=n.bulletCurrent;let a=e.ordered?Vpe(n):F4(n);const l=e.ordered?a==="."?")":".":Upe(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),vU(n)===a&&d){let h=-1;for(;++h<e.children.length;){const f=e.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=l),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=i,s(),u}function Wpe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Hpe(e,t,n,r){const s=Wpe(n);let i=n.bulletCurrent||F4(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let a=i.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const l=n.createTracker(r);l.move(i+" ".repeat(a-i.length)),l.shift(a);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),d);return c(),u;function d(h,f,p){return f?(p?"":" ".repeat(a))+h:(p?i:i+" ".repeat(a-i.length))+h}}function Ype(e,t,n,r){const s=n.enter("paragraph"),i=n.enter("phrasing"),a=n.containerPhrasing(e,r);return i(),s(),a}const Gpe=qb(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Kpe(e,t,n,r){return(e.children.some(function(a){return Gpe(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Qpe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}bU.peek=Xpe;function bU(e,t,n,r){const s=Qpe(n),i=n.enter("strong"),a=n.createTracker(r),l=a.move(s+s);let c=a.move(n.containerPhrasing(e,{after:s,before:l,...a.current()}));const u=c.charCodeAt(0),d=E1(r.before.charCodeAt(r.before.length-1),u,s);d.inside&&(c=Xg(u)+c.slice(1));const h=c.charCodeAt(c.length-1),f=E1(r.after.charCodeAt(0),h,s);f.inside&&(c=c.slice(0,-1)+Xg(h));const p=a.move(s+s);return i(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},l+c+p}function Xpe(e,t,n){return n.options.strong||"*"}function Jpe(e,t,n,r){return n.safe(e.value,r)}function Zpe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function eme(e,t,n){const r=(vU(n)+(n.options.ruleSpaces?" ":"")).repeat(Zpe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const wU={blockquote:Npe,break:fP,code:Ppe,definition:Tpe,emphasis:dU,hardBreak:fP,heading:Dpe,html:hU,image:fU,imageReference:pU,inlineCode:mU,link:xU,linkReference:yU,list:qpe,listItem:Hpe,paragraph:Ype,root:Kpe,strong:bU,text:Jpe,thematicBreak:eme};function tme(){return{enter:{table:nme,tableData:pP,tableHeader:pP,tableRow:sme},exit:{codeText:ime,table:rme,tableData:a5,tableHeader:a5,tableRow:a5}}}function nme(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function rme(e){this.exit(e),this.data.inTable=void 0}function sme(e){this.enter({type:"tableRow",children:[]},e)}function a5(e){this.exit(e)}function pP(e){this.enter({type:"tableCell",children:[]},e)}function ime(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,ame));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function ame(e,t){return t==="|"?t:e}function ome(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:c,tableRow:l}};function a(p,g,x,b){return u(d(p,x,b),p.align)}function l(p,g,x,b){const v=h(p,x,b),y=u([v]);return y.slice(0,y.indexOf(`
`))}function c(p,g,x,b){const v=x.enter("tableCell"),y=x.enter("phrasing"),w=x.containerPhrasing(p,{...b,before:i,after:i});return y(),v(),w}function u(p,g){return wpe(p,{align:g,alignDelimiters:r,padding:n,stringLength:s})}function d(p,g,x){const b=p.children;let v=-1;const y=[],w=g.enter("table");for(;++v<b.length;)y[v]=h(b[v],g,x);return w(),y}function h(p,g,x){const b=p.children;let v=-1;const y=[],w=g.enter("tableRow");for(;++v<b.length;)y[v]=c(b[v],p,g,x);return w(),y}function f(p,g,x){let b=wU.inlineCode(p,g,x);return x.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function lme(){return{exit:{taskListCheckValueChecked:mP,taskListCheckValueUnchecked:mP,paragraph:ume}}}function cme(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:dme}}}function mP(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function ume(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let i=-1,a;for(;++i<s.length;){const l=s[i];if(l.type==="paragraph"){a=l;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function dme(e,t,n,r){const s=e.children[0],i=typeof e.checked=="boolean"&&s&&s.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);i&&l.move(a);let c=wU.listItem(e,t,n,{...r,...l.current()});return i&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+a}}function hme(){return[qfe(),dpe(),mpe(),tme(),lme()]}function fme(e){return{extensions:[Wfe(),hpe(e),gpe(),ome(e),cme()]}}const pme={tokenize:bme,partial:!0},jU={tokenize:wme,partial:!0},NU={tokenize:jme,partial:!0},SU={tokenize:Nme,partial:!0},mme={tokenize:Sme,partial:!0},kU={name:"wwwAutolink",tokenize:yme,previous:CU},_U={name:"protocolAutolink",tokenize:vme,previous:AU},Hl={name:"emailAutolink",tokenize:xme,previous:PU},el={};function gme(){return{text:el}}let Du=48;for(;Du<123;)el[Du]=Hl,Du++,Du===58?Du=65:Du===91&&(Du=97);el[43]=Hl;el[45]=Hl;el[46]=Hl;el[95]=Hl;el[72]=[Hl,_U];el[104]=[Hl,_U];el[87]=[Hl,kU];el[119]=[Hl,kU];function xme(e,t,n){const r=this;let s,i;return a;function a(h){return!IN(h)||!PU.call(r,r.previous)||z4(r.events)?n(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(h))}function l(h){return IN(h)?(e.consume(h),l):h===64?(e.consume(h),c):n(h)}function c(h){return h===46?e.check(mme,d,u)(h):h===45||h===95||Is(h)?(i=!0,e.consume(h),c):d(h)}function u(h){return e.consume(h),s=!0,c}function d(h){return i&&s&&Js(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):n(h)}}function yme(e,t,n){const r=this;return s;function s(a){return a!==87&&a!==119||!CU.call(r,r.previous)||z4(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(pme,e.attempt(jU,e.attempt(NU,i),n),n)(a))}function i(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function vme(e,t,n){const r=this;let s="",i=!1;return a;function a(h){return(h===72||h===104)&&AU.call(r,r.previous)&&!z4(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(h),e.consume(h),l):n(h)}function l(h){if(Js(h)&&s.length<5)return s+=String.fromCodePoint(h),e.consume(h),l;if(h===58){const f=s.toLowerCase();if(f==="http"||f==="https")return e.consume(h),c}return n(h)}function c(h){return h===47?(e.consume(h),i?u:(i=!0,c)):n(h)}function u(h){return h===null||C1(h)||Fn(h)||Ld(h)||$b(h)?n(h):e.attempt(jU,e.attempt(NU,d),n)(h)}function d(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function bme(e,t,n){let r=0;return s;function s(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),s):a===46&&r===3?(e.consume(a),i):n(a)}function i(a){return a===null?n(a):t(a)}}function wme(e,t,n){let r,s,i;return a;function a(u){return u===46||u===95?e.check(SU,c,l)(u):u===null||Fn(u)||Ld(u)||u!==45&&$b(u)?c(u):(i=!0,e.consume(u),a)}function l(u){return u===95?r=!0:(s=r,r=void 0),e.consume(u),a}function c(u){return s||r||!i?n(u):t(u)}}function jme(e,t){let n=0,r=0;return s;function s(a){return a===40?(n++,e.consume(a),s):a===41&&r<n?i(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(SU,t,i)(a):a===null||Fn(a)||Ld(a)?t(a):(e.consume(a),s)}function i(a){return a===41&&r++,e.consume(a),s}}function Nme(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),i):l===93?(e.consume(l),s):l===60||l===null||Fn(l)||Ld(l)?t(l):n(l)}function s(l){return l===null||l===40||l===91||Fn(l)||Ld(l)?t(l):r(l)}function i(l){return Js(l)?a(l):n(l)}function a(l){return l===59?(e.consume(l),r):Js(l)?(e.consume(l),a):n(l)}}function Sme(e,t,n){return r;function r(i){return e.consume(i),s}function s(i){return Is(i)?n(i):t(i)}}function CU(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Fn(e)}function AU(e){return!Js(e)}function PU(e){return!(e===47||IN(e))}function IN(e){return e===43||e===45||e===46||e===95||Is(e)}function z4(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const kme={tokenize:Lme,partial:!0};function _me(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Eme,continuation:{tokenize:Tme},exit:Mme}},text:{91:{name:"gfmFootnoteCall",tokenize:Pme},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Cme,resolveTo:Ame}}}}function Cme(e,t,n){const r=this;let s=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;s--;){const c=r.events[s][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!a||!a._balanced)return n(c);const u=Za(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function Ame(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function Pme(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,a;return l;function l(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),c}function c(h){return h!==94?n(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(i>999||h===93&&!a||h===null||h===91||Fn(h))return n(h);if(h===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return s.includes(Za(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(h)}return Fn(h)||(a=!0),i++,e.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(e.consume(h),i++,u):u(h)}}function Eme(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,a=0,l;return c;function c(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(g)}function d(g){if(a>999||g===93&&!l||g===null||g===91||Fn(g))return n(g);if(g===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return i=Za(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return Fn(g)||(l=!0),a++,e.consume(g),g===92?h:d}function h(g){return g===91||g===92||g===93?(e.consume(g),a++,d):d(g)}function f(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),s.includes(i)||s.push(i),pn(e,p,"gfmFootnoteDefinitionWhitespace")):n(g)}function p(g){return t(g)}}function Tme(e,t,n){return e.check(G0,t,e.attempt(kme,t,n))}function Mme(e){e.exit("gfmFootnoteDefinition")}function Lme(e,t,n){const r=this;return pn(e,s,"gfmFootnoteDefinitionIndent",5);function s(i){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(i):n(i)}}function Ime(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(a,l){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let u=c;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[c][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[c][1].end)},h={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[c][1].start)},f=[["enter",d,l],["enter",a[u][1],l],["exit",a[u][1],l],["enter",h,l]],p=l.parser.constructs.insideSpan.null;p&&Ki(f,f.length,0,Ub(p,a.slice(u+1,c),l)),Ki(f,f.length,0,[["exit",h,l],["enter",a[c][1],l],["exit",a[c][1],l],["exit",d,l]]),Ki(a,u-1,c-u+3,f),c=u+f.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function i(a,l,c){const u=this.previous,d=this.events;let h=0;return f;function f(g){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(g):(a.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const x=Kf(u);if(g===126)return h>1?c(g):(a.consume(g),h++,p);if(h<2&&!n)return c(g);const b=a.exit("strikethroughSequenceTemporary"),v=Kf(g);return b._open=!v||v===2&&!!x,b._close=!x||x===2&&!!v,l(g)}}}class Dme{constructor(){this.map=[]}add(t,n,r){Rme(this,t,n,r)}consume(t){if(this.map.sort(function(i,a){return i[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const i of s)t.push(i);s=r.pop()}this.map.length=0}}function Rme(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function Ome(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Fme(){return{flow:{null:{name:"table",tokenize:zme,resolveAll:Bme}}}}function zme(e,t,n){const r=this;let s=0,i=0,a;return l;function l(B){let L=r.events.length-1;for(;L>-1;){const F=r.events[L][1].type;if(F==="lineEnding"||F==="linePrefix")L--;else break}const P=L>-1?r.events[L][1].type:null,D=P==="tableHead"||P==="tableRow"?E:c;return D===E&&r.parser.lazy[r.now().line]?n(B):D(B)}function c(B){return e.enter("tableHead"),e.enter("tableRow"),u(B)}function u(B){return B===124||(a=!0,i+=1),d(B)}function d(B){return B===null?n(B):Nt(B)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),p):n(B):on(B)?pn(e,d,"whitespace")(B):(i+=1,a&&(a=!1,s+=1),B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),h(B)))}function h(B){return B===null||B===124||Fn(B)?(e.exit("data"),d(B)):(e.consume(B),B===92?f:h)}function f(B){return B===92||B===124?(e.consume(B),h):h(B)}function p(B){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(B):(e.enter("tableDelimiterRow"),a=!1,on(B)?pn(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):g(B))}function g(B){return B===45||B===58?b(B):B===124?(a=!0,e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),x):C(B)}function x(B){return on(B)?pn(e,b,"whitespace")(B):b(B)}function b(B){return B===58?(i+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),v):B===45?(i+=1,v(B)):B===null||Nt(B)?_(B):C(B)}function v(B){return B===45?(e.enter("tableDelimiterFiller"),y(B)):C(B)}function y(B){return B===45?(e.consume(B),y):B===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(B))}function w(B){return on(B)?pn(e,_,"whitespace")(B):_(B)}function _(B){return B===124?g(B):B===null||Nt(B)?!a||s!==i?C(B):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(B)):C(B)}function C(B){return n(B)}function E(B){return e.enter("tableRow"),O(B)}function O(B){return B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),O):B===null||Nt(B)?(e.exit("tableRow"),t(B)):on(B)?pn(e,O,"whitespace")(B):(e.enter("data"),T(B))}function T(B){return B===null||B===124||Fn(B)?(e.exit("data"),O(B)):(e.consume(B),B===92?$:T)}function $(B){return B===92||B===124?(e.consume(B),T):T(B)}}function Bme(e,t){let n=-1,r=!0,s=0,i=[0,0,0,0],a=[0,0,0,0],l=!1,c=0,u,d,h;const f=new Dme;for(;++n<e.length;){const p=e[n],g=p[1];p[0]==="enter"?g.type==="tableHead"?(l=!1,c!==0&&(gP(f,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,h=void 0,i=[0,0,0,0],a=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",d,t]])),s=g.type==="tableDelimiterRow"?2:d?3:1):s&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(i[1]!==0&&(a[0]=a[1],h=vy(f,t,i,s,void 0,h),i=[0,0,0,0]),a[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(a[0]=a[1],h=vy(f,t,i,s,void 0,h)),i=a,a=[i[1],n,0,0])):g.type==="tableHead"?(l=!0,c=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(c=n,i[1]!==0?(a[0]=a[1],h=vy(f,t,i,s,n,h)):a[1]!==0&&(h=vy(f,t,a,s,n,h)),s=0):s&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&gP(f,t,c,u,d),f.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Ome(t.events,n))}return e}function vy(e,t,n,r,s,i){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(i.end=Object.assign({},Th(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const c=Th(t.events,n[1]);if(i={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const u=Th(t.events,n[2]),d=Th(t.events,n[3]),h={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",h,t]]),r!==2){const f=t.events[n[2]],p=t.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,x=n[3]-n[2]-1;e.add(g,x,[])}}e.add(n[3]+1,0,[["exit",h,t]])}return s!==void 0&&(i.end=Object.assign({},Th(t.events,s)),e.add(s,0,[["exit",i,t]]),i=void 0),i}function gP(e,t,n,r,s){const i=[],a=Th(t.events,n);s&&(s.end=Object.assign({},a),i.push(["exit",s,t])),r.end=Object.assign({},a),i.push(["exit",r,t]),e.add(n+1,0,i)}function Th(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const $me={name:"tasklistCheck",tokenize:Vme};function Ume(){return{text:{91:$me}}}function Vme(e,t,n){const r=this;return s;function s(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),i)}function i(c){return Fn(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return Nt(c)?t(c):on(c)?e.check({tokenize:qme},t,n)(c):n(c)}}function qme(e,t,n){return pn(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function Wme(e){return z$([gme(),_me(),Ime(e),Fme(),Ume()])}const Hme={};function Yme(e){const t=this,n=e||Hme,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(Wme(n)),i.push(hme()),a.push(fme(n))}const by={"0-2":["Sleep training and bedtime routines","Dealing with toddler tantrums","Potty training readiness and tips","First foods and feeding challenges","Language development milestones","Safe exploration and childproofing","Separation anxiety management","Establishing daily routines","Teething comfort and care","Building attachment and bonding","Managing naptime struggles","Introducing solid foods safely","Encouraging first words","Handling biting and hitting","Creating a safe play environment"],"3-5":["Preschool readiness and preparation","Teaching sharing and taking turns","Bedtime resistance solutions","Picky eating in preschoolers","Managing big emotions and meltdowns","Potty training completion","Building independence skills","Screen time limits for young children","Teaching basic manners and politeness","Encouraging imaginative play","Handling defiant behavior","Preparing for kindergarten","Social skills with peers","Managing fear and anxiety","Creating consistent consequences"],"6-8":["Homework habits and study skills","Building self-confidence at school","Managing after-school activities","Teaching responsibility with chores","Handling peer conflicts","Screen time balance with schoolwork","Supporting learning differences","Building healthy friendships","Managing school stress and anxiety","Teaching problem-solving skills","Encouraging reading habits","Dealing with perfectionism","Building emotional intelligence","Teaching money basics","Supporting creativity and interests"],"9-12":["Navigating pre-teen social dynamics","Managing increased homework demands","Teaching digital citizenship","Handling peer pressure situations","Supporting identity development","Managing mood swings and emotions","Encouraging independence and responsibility","Discussing body changes and puberty","Building study and organization skills","Teaching conflict resolution","Managing social media introduction","Supporting academic challenges","Building self-advocacy skills","Teaching time management","Encouraging leadership opportunities"],"13-15":["Navigating early teenage relationships","Managing academic pressure and stress","Teaching healthy social media habits","Supporting identity and self-expression","Handling increased independence requests","Managing teenage mood and hormones","Discussing dating and relationships","Supporting extracurricular balance","Teaching financial responsibility","Navigating peer pressure and choices","Building communication and trust","Managing technology boundaries","Supporting college preparation thinking","Teaching driving responsibility","Encouraging healthy risk-taking"],"16-18":["College preparation and applications","Teaching adult life skills","Managing increased freedom responsibly","Supporting career exploration","Navigating serious relationships","Teaching financial independence","Managing driving responsibilities","Supporting mental health and wellness","Preparing for leaving home","Teaching decision-making skills","Managing work-school balance","Supporting future planning","Building adult communication skills","Teaching self-advocacy","Encouraging healthy independence"],general:["Building strong family communication","Creating consistent household routines","Teaching gratitude and kindness","Managing family stress and changes","Encouraging physical activity and health","Supporting learning and growth mindset","Building resilience in children","Teaching empathy and compassion","Creating positive family traditions","Managing sibling relationships","Supporting individual strengths","Teaching environmental responsibility","Building family values","Managing screen time as a family","Creating meaningful family time"]},Gme=e=>{const t=new Date,n=new Date(e),r=t.getFullYear()-n.getFullYear(),s=t.getMonth()-n.getMonth();let i=r;return(s<0||s===0&&t.getDate()<n.getDate())&&i--,i<=2?"0-2":i<=5?"3-5":i<=8?"6-8":i<=12?"9-12":i<=15?"13-15":i<=18?"16-18":"general"},Kme=(e=[])=>{let t=[];if(!e||e.length===0)t=by.general;else{const n=new Set;e.forEach(r=>{if(r.birthDate){const s=Gme(r.birthDate);n.add(s)}}),n.size===0&&n.add("general"),n.forEach(r=>{by[r]&&t.push(...by[r])}),n.size>1&&t.push(...by.general.slice(0,5))}return t},o5=(e=[])=>[...Kme(e)].sort(()=>.5-Math.random()).slice(0,6),Qme=({onClick:e,className:t,isBouncing:n,children:r})=>o.jsxs("button",{onClick:e,className:Je("relative bg-transparent border-none p-0 hover-scale transition-all duration-200",n&&"animate-bounce",t),"data-testid":"chatbot-button",children:[o.jsxs("svg",{viewBox:"0 0 64 64",className:"w-14 h-14 drop-shadow-lg",children:[o.jsx("path",{d:"M48 8H16c-4.4 0-8 3.6-8 8v24c0 4.4 3.6 8 8 8h6l10 12 10-12h6c4.4 0 8-3.6 8-8V16c0-4.4-3.6-8-8-8z",fill:"hsl(199, 89%, 48%)",className:"drop-shadow-md"}),o.jsx("circle",{cx:"22",cy:"28",r:"4",fill:"white"}),o.jsx("circle",{cx:"32",cy:"28",r:"4",fill:"white"}),o.jsx("circle",{cx:"42",cy:"28",r:"4",fill:"white"})]}),r]});function Xme({className:e}){const[t,n]=N.useState(!1),[r,s]=N.useState(!1),[i,a]=N.useState([]),[l,c]=N.useState(""),[u,d]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(!1),[x,b]=N.useState([]),v=N.useRef(null),y=N.useRef(null),w=N.useRef(Date.now()),_=N.useRef(null),C=N.useRef(0),{user:E,isAuthenticated:O,hasJustLoggedIn:T}=Yo(),{data:$=[]}=Ht({queryKey:["/api/child-profiles"],enabled:O});N.useEffect(()=>{t&&x.length===0&&b(o5(Array.isArray($)?$:[]))},[t,x.length,$]),N.useEffect(()=>{t&&Array.isArray($)&&$.length>0&&b(o5($))},[$,t]);const B=()=>{var U;(U=v.current)==null||U.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{i.length>0&&(i[i.length-1].role==="user"||i.length===1?B():setTimeout(()=>{const W=document.querySelectorAll("[data-message-id]"),H=W[W.length-1];H&&H.scrollIntoView({behavior:"smooth",block:"start"})},100))},[i]),N.useEffect(()=>{if(t&&i.length===0){const U={id:`welcome-${Date.now()}`,content:"Hi! I'm your AI parenting assistant. I'm here to help with child development, behavior challenges, parenting techniques, and more. What would you like to discuss today?",role:"assistant",timestamp:new Date};a([U])}},[t,i.length]),N.useEffect(()=>{if(console.log("Chatbot login effect:",{isAuthenticated:O,hasJustLoggedIn:T,user:E==null?void 0:E.username}),O&&E){const U=setTimeout(()=>{g(!0),f(!0),setTimeout(()=>{f(!1)},2e3),setTimeout(()=>{g(!1)},3e3)},3e3);if(T){const W=Date.now();if(console.log("Login detected for chatbot animation:",{currentTime:W,lastLoginTime:C.current,timeDiff:W-C.current}),W-C.current>3e4){C.current=W,console.log("Triggering chatbot welcome animation");const H=setTimeout(()=>{f(!0);const R=new Date().toDateString();localStorage.getItem("chatbot-explainer-shown")!==R&&(d(!0),localStorage.setItem("chatbot-explainer-shown",R),setTimeout(()=>{d(!1)},4e3)),setTimeout(()=>{f(!1)},2e3)},1e3);return()=>clearTimeout(H)}}return()=>{U&&clearTimeout(U)}}},[O,T,E]),N.useEffect(()=>{const U=()=>{w.current=Date.now()},W=["mousedown","mousemove","keypress","scroll","touchstart","click"];return W.forEach(R=>{document.addEventListener(R,U,!0)}),(()=>{_.current&&clearInterval(_.current),_.current=setInterval(()=>{const R=Date.now()-w.current,G=Math.random()*(10*60*1e3-5*60*1e3)+5*60*1e3;R>=G&&!t&&O&&(f(!0),setTimeout(()=>{f(!1)},2e3),w.current=Date.now())},3e4)})(),()=>{W.forEach(R=>{document.removeEventListener(R,U,!0)}),_.current&&clearInterval(_.current)}},[t]),N.useEffect(()=>()=>{_.current&&clearInterval(_.current)},[]);const L=On({mutationFn:async U=>{const W=localStorage.getItem("parentjourney_token"),H={"Content-Type":"application/json"};W&&(H.Authorization=`Bearer ${W}`);const R=await fetch("/api/parenting-chat",{method:"POST",headers:H,body:JSON.stringify({message:U,conversationHistory:i.slice(-10)})});if(!R.ok)throw new Error("Failed to get response");return await R.json()},onSuccess:U=>{const W={id:`assistant-${Date.now()}`,content:U.reply||"I'm here to help with any parenting questions you have!",role:"assistant",timestamp:new Date};a(H=>[...H,W])},onError:()=>{const U={id:`error-${Date.now()}`,content:"I'm having trouble responding right now, but I'm here when you need parenting support!",role:"assistant",timestamp:new Date};a(W=>[...W,U])}}),P=()=>{if(!l.trim()||L.isPending)return;const U={id:`user-${Date.now()}`,content:l,role:"user",timestamp:new Date};a(W=>[...W,U]),L.mutate(l),c("")},D=U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),P())},F=U=>{if(L.isPending)return;const W={id:`user-${Date.now()}`,content:U,role:"user",timestamp:new Date};a(H=>[...H,W]),L.mutate(U),b(o5(Array.isArray($)?$:[]))};return t?o.jsxs(Ye,{className:Je("fixed bottom-6 right-6 w-96 h-[85vh] shadow-2xl z-50 animate-pop-fade bg-white border border-neutral-200","md:w-96 md:h-[85vh]","max-md:fixed max-md:inset-0 max-md:w-full max-md:h-full max-md:bottom-0 max-md:right-0 max-md:rounded-none","drop-shadow-2xl shadow-black/20",r&&"h-14 max-md:h-14",e),children:[o.jsx(Mt,{className:"p-4 pb-2 border-b border-neutral-100 max-md:rounded-none",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsx(Hh,{className:"h-4 w-4 text-primary"})}),o.jsxs("div",{children:[o.jsx(Dt,{className:"text-sm font-medium text-neutral-800",children:"Parenting Assistant"}),o.jsx("p",{className:"text-xs text-neutral-500",children:"AI-powered support"})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(yi,{content:r?"Expand":"Minimize",children:o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:"h-8 w-8 p-0 md:flex hidden",children:r?o.jsx(vQ,{className:"h-3 w-3"}):o.jsx(NQ,{className:"h-3 w-3"})})}),o.jsx(yi,{content:"Close chat",children:o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>n(!1),className:"h-8 w-8 p-0 text-neutral-500 hover:text-neutral-700",children:o.jsx(Kr,{className:"h-3 w-3"})})})]})]})}),!r&&o.jsxs(Xe,{className:"p-0 flex flex-col h-[calc(85vh-80px)] max-md:h-[calc(100vh-80px)]",children:[o.jsx(N$,{className:"flex-1 p-4",children:o.jsxs("div",{className:"space-y-3",children:[i.map(U=>o.jsxs("div",{"data-message-id":U.id,className:Je("flex gap-2",U.role==="user"?"justify-end":"justify-start"),children:[U.role==="assistant"&&o.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:o.jsx(Hh,{className:"h-3 w-3 text-primary"})}),o.jsx("div",{className:Je("max-w-[280px] sm:max-w-[320px] p-2.5 rounded-lg text-sm leading-tight","max-md:max-w-[calc(100vw-120px)]",U.role==="user"?"bg-primary text-white rounded-br-sm":"bg-neutral-100 text-neutral-800 rounded-bl-sm"),children:o.jsx("div",{className:"chat-content whitespace-pre-wrap break-words",children:U.role==="assistant"?o.jsx(Ife,{remarkPlugins:[Yme],components:{p:({children:W})=>o.jsx("p",{style:{margin:"0 0 0.2rem 0",lineHeight:"1.2"},children:W}),ul:({children:W})=>o.jsx("ul",{className:"pl-4 list-disc",style:{listStylePosition:"outside",margin:"0 0 0.2rem 0",lineHeight:"1.2"},children:W}),ol:({children:W})=>o.jsx("ol",{className:"pl-4 list-decimal",style:{listStylePosition:"outside",margin:"0 0 0.2rem 0",lineHeight:"1.2"},children:W}),li:({children:W})=>o.jsx("li",{style:{display:"list-item",margin:"0",lineHeight:"1.2"},children:W}),strong:({children:W})=>o.jsx("strong",{className:"font-semibold",children:W}),em:({children:W})=>o.jsx("em",{className:"italic",children:W}),h1:({children:W})=>o.jsx("h1",{className:"text-base font-semibold",style:{margin:"0.2rem 0"},children:W}),h2:({children:W})=>o.jsx("h2",{className:"text-sm font-semibold",style:{margin:"0.2rem 0"},children:W}),h3:({children:W})=>o.jsx("h3",{className:"text-sm font-semibold",style:{margin:"0.2rem 0"},children:W}),blockquote:({children:W})=>o.jsx("blockquote",{className:"border-l-2 border-neutral-300 pl-3 italic",style:{margin:"0.2rem 0"},children:W}),code:({children:W})=>o.jsx("code",{className:"bg-neutral-100 px-1 py-0.5 rounded text-xs font-mono",children:W}),pre:({children:W})=>o.jsx("pre",{className:"bg-neutral-100 p-2 rounded text-xs font-mono overflow-x-auto",style:{margin:"0.2rem 0"},children:W})},children:U.content}):U.content})}),U.role==="user"&&o.jsx("div",{className:"w-6 h-6 bg-neutral-600 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:o.jsx(Bl,{className:"h-3 w-3 text-white"})})]},U.id)),L.isPending&&o.jsxs("div",{className:"flex gap-2 justify-start",children:[o.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:o.jsx(Hh,{className:"h-3 w-3 text-primary"})}),o.jsx("div",{className:"bg-neutral-100 text-neutral-800 rounded-lg rounded-bl-sm p-3 text-sm max-w-[280px] sm:max-w-[320px] max-md:max-w-[calc(100vw-120px)]",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ck,{className:"h-3 w-3 animate-spin flex-shrink-0"}),o.jsx("span",{children:"Thinking..."})]})})]}),o.jsx("div",{ref:v})]})}),i.length<=1&&o.jsxs("div",{className:"p-4 border-t border-neutral-100",children:[o.jsx("p",{className:"text-xs text-neutral-600 mb-2",children:"Quick topics:"}),o.jsx("div",{className:"grid grid-cols-2 gap-1.5 max-w-sm mx-auto",children:x.map(U=>o.jsx(xt,{variant:"secondary",className:"text-[10px] cursor-pointer hover:bg-primary/10 hover:text-primary transition-colors px-2 py-1 text-center justify-center",onClick:()=>F(U),children:U},U))})]}),o.jsx("div",{className:"p-4 border-t border-neutral-100",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Xr,{ref:y,value:l,onChange:U=>c(U.target.value),onKeyPress:D,placeholder:"Ask about parenting, child development, behavior...",className:"flex-1 min-h-[40px] max-h-20 resize-none text-sm",disabled:L.isPending}),o.jsx(ve,{onClick:P,disabled:!l.trim()||L.isPending,size:"sm",className:"h-10 w-10 p-0",children:o.jsx(CQ,{className:"h-4 w-4"})})]})})]})]}):o.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[u&&o.jsxs("div",{className:"absolute bottom-16 right-0 mb-2 mr-2 bg-white border border-neutral-200 rounded-lg shadow-lg p-3 max-w-xs animate-pop-fade z-50",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(Hh,{className:"h-3 w-3 text-primary"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-neutral-800 mb-1",children:["Welcome back",E!=null&&E.name?`, ${E.name.split(" ")[0]}`:"","!"]}),o.jsx("p",{className:"text-xs text-neutral-600",children:"Your AI parenting assistant is ready to help you today."})]})]}),o.jsx("div",{className:"absolute bottom-0 right-6 transform translate-y-1/2 rotate-45 w-2 h-2 bg-white border-r border-b border-neutral-200"})]}),o.jsx(yi,{content:"Ask your parenting AI assistant",children:o.jsx(Qme,{onClick:()=>n(!0),className:Je("animate-bounce-in",e),isBouncing:h})})]})}const xP=["What's something small that made you smile today as a parent?","Describe a recent parenting win  big or small.","What was a tough moment today, and how did you handle it?","What did your child teach you today?","If you could press pause today, what would you want to remember?","What's one thing you're grateful for about your parenting journey?","How did you show love to your child today?","What's a challenge you overcame this week?","Describe a moment when you felt really proud of your child.","What's something you want to remember about this stage of your child's life?","How are you taking care of yourself as a parent?","What made your child laugh today?","What's a new skill or milestone your child is working on?","How did you handle frustration or stress today?","What's your favorite thing about bedtime routine lately?","Describe a sweet conversation you had with your child.","What's something you're learning about your child's personality?","How did you and your child connect today?","What's a tradition or routine that's working well for your family?","What would you tell another parent going through a similar experience?"];function yP(){return xP[Math.floor(Math.random()*xP.length)]}const B4="parenting-journal-settings",vP={dailyReminder:!1,weeklyProgress:!1,reminderTime:"20:00",notificationEmail:"",notificationPhone:"",parentingFocus:"",darkMode:!1};function Jg(){try{const e=localStorage.getItem(B4);if(e){const t=JSON.parse(e);return{...vP,...t}}}catch(e){console.warn("Failed to load settings:",e)}return vP}function Jme(e){try{const n={...Jg(),...e};localStorage.setItem(B4,JSON.stringify(n)),e.darkMode!==void 0&&document.documentElement.classList.toggle("dark",e.darkMode)}catch(t){console.error("Failed to save settings:",t)}}function Zme(){try{localStorage.removeItem(B4),document.documentElement.classList.remove("dark")}catch(e){console.error("Failed to reset settings:",e)}}function ege(){Object.keys(localStorage).filter(n=>n.startsWith("parenting-journal")||n.startsWith("calmResetUsage")).forEach(n=>{localStorage.removeItem(n)}),document.documentElement.classList.remove("dark")}function tge(){const e=Jg();document.documentElement.classList.toggle("dark",e.darkMode)}function nge({insight:e,childName:t}){return o.jsx("div",{className:"mt-4 p-6 bg-gradient-accent rounded-lg border border-accent/20",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"w-10 h-10 bg-secondary rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:o.jsx(gQ,{className:"text-white h-5 w-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"font-semibold text-neutral-800 mb-2",children:["Developmental Insight ",t&&`for ${t}`]}),o.jsx("div",{className:"text-neutral-700 leading-relaxed",children:e})]})]})})}function rge({feedback:e}){const t=e.split(`

`).filter(n=>n.trim());return o.jsxs("div",{className:"mt-6 space-y-4 animate-fade-in",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-neutral-200",children:[o.jsx(rn,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold text-neutral-800",children:"Your AI Parenting Coach"}),o.jsx(xt,{variant:"secondary",className:"ml-auto text-xs",children:"Personalized Insights"})]}),o.jsx("div",{className:"space-y-4",children:t.map((n,r)=>{if(!n.includes(":"))return null;const[s,...i]=n.split(":"),a=i.join(":").trim();let l,c,u,d;return s.includes("Encouragement")?(l=o.jsx(Kn,{className:"text-pink-600 mr-2 mt-1 h-4 w-4 flex-shrink-0"}),c="bg-pink-50",u="border-l-pink-400",d="Emotional validation and support"):s.includes("Insight")?(l=o.jsx(Na,{className:"text-amber-600 mr-2 mt-1 h-4 w-4 flex-shrink-0"}),c="bg-amber-50",u="border-l-amber-400",d="A fresh perspective on your situation"):s.includes("Suggestion")?(l=o.jsx(Vi,{className:"text-blue-600 mr-2 mt-1 h-4 w-4 flex-shrink-0"}),c="bg-blue-50",u="border-l-blue-400",d="Actionable parenting guidance"):(l=o.jsx(rn,{className:"text-neutral-600 mr-2 mt-1 h-4 w-4 flex-shrink-0"}),c="bg-neutral-50",u="border-l-neutral-400",d="AI guidance"),o.jsx("div",{className:`p-4 ${c} rounded-lg border-l-4 ${u} hover-lift transition-all duration-200`,children:o.jsxs("div",{className:"flex",children:[l,o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h4",{className:"font-medium text-neutral-800",children:s.replace(/\*\*/g,"").trim()}),o.jsx("span",{className:"text-xs text-neutral-500",children:d})]}),o.jsx("p",{className:"text-neutral-700 leading-relaxed",children:a})]})]})},r)})}),o.jsx("div",{className:"mt-4 p-3 bg-primary/5 rounded-lg border border-primary/20",children:o.jsxs("p",{className:"text-xs text-neutral-600 flex items-center",children:[o.jsx(rn,{className:"h-3 w-3 mr-1"}),"These insights are generated based on your entry and child's developmental stage. Remember, you know your child best."]})})]})}function sge({triggerSignUpPrompt:e,selectedMood:t=""}){var D,F,U,W;const[n,r]=N.useState([]),[s,i]=N.useState(!1),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(!1),[f,p]=N.useState([]),[g,x]=N.useState(()=>yP());N.useState(()=>KO()),N.useState(!1);const[b]=N.useState(()=>Jg()),{toast:v}=vs(),y=Bs(),w=N.useRef(null),_=N.useRef(null),{data:C}=Ht({queryKey:["/api/child-profiles"],queryFn:async()=>{const H=localStorage.getItem("parentjourney_token"),R={};H&&(R.Authorization=`Bearer ${H}`);const G=await fetch("/api/child-profiles",{headers:R,credentials:"include"});if(!G.ok)throw new Error("Failed to fetch profiles");return G.json()}}),E=Fi({resolver:zi(Oae),defaultValues:{title:"",content:"",mood:"",emotionTags:[],childProfileId:"",hasAiFeedback:"false",aiFeedback:null,developmentalInsight:null,requestAiFeedback:!1}}),O=On({mutationFn:async H=>(await xr("POST","/api/journal-entries",H)).json(),onSuccess:H=>{y.invalidateQueries({queryKey:["/api/journal-entries"]}),y.invalidateQueries({queryKey:["/api/journal-stats"]}),H.aiFeedback&&(l(H.aiFeedback),h(!0)),H.developmentalInsight&&u(H.developmentalInsight),v({title:"Entry saved!",description:H.aiFeedback?"Your AI parenting coach has provided insights below.":"Your journal entry has been saved."}),H.aiFeedback||(E.reset(),r([]),p([])),i(!1),_.current&&_.current.scrollIntoView({behavior:"smooth",block:"start"})},onError:H=>{var G,M,ae,z;console.error("Failed to save entry:",H);let R="Failed to save your journal entry. Please try again.";(G=H.message)!=null&&G.includes("OpenAI API key not configured")?R="Entry saved, but AI feedback unavailable. Please add your OpenAI API key to enable coaching insights.":(M=H.message)!=null&&M.includes("OpenAI API quota exceeded")&&(R="Entry saved, but AI feedback unavailable due to quota limits. Please check your OpenAI usage."),v({title:(ae=H.message)!=null&&ae.includes("OpenAI")?"Entry Saved":"Error",description:R,variant:(z=H.message)!=null&&z.includes("OpenAI")?"default":"destructive"}),i(!1)}}),T=(H,R)=>{if(e&&e("save"))return;const G={...H,mood:t||null,emotionTags:null,childProfileId:n.length>0?n[0]:null,childProfileIds:n.length>0?n:null,requestAiFeedback:R,photos:f.length>0?f:null,entryType:"shared_journey"};R&&(i(!0),h(!1)),O.mutate(G)};new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});const $=((D=E.watch("content"))==null?void 0:D.length)||0,B=(C==null?void 0:C.filter(H=>n.includes(H.id)))||[],L=H=>{if(!H)return;const R=[],G=5-f.length,M=Math.min(H.length,G);for(let ae=0;ae<M;ae++){const z=H[ae];if(z.type.startsWith("image/")){const I=new FileReader;I.onload=J=>{var re;const se=(re=J.target)==null?void 0:re.result;R.push(se),R.length===M&&p(oe=>[...oe,...R])},I.readAsDataURL(z)}}},P=H=>{const R=f.filter((G,M)=>M!==H);p(R)};return o.jsx(Ye,{ref:_,className:"shadow-sm border border-neutral-200 hover-lift animate-pop-fade",children:o.jsxs(Xe,{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center mr-3",children:o.jsx(_g,{className:"text-white h-5 w-5"})}),o.jsx("h3",{className:"text-xl font-semibold text-neutral-800",children:"Share Your Parenting Journey"})]}),o.jsx("p",{className:"text-neutral-600 mb-4",children:"Your emotions and experiences help our AI provide personalized parenting insights and track your wellness journey."}),b.parentingFocus&&o.jsx("div",{className:"mb-4 p-3 bg-primary/5 rounded-lg border border-primary/20",children:o.jsxs("p",{className:"text-sm text-neutral-700",children:[o.jsx("span",{className:"font-medium",children:"Your focus:"})," ",b.parentingFocus]})})]}),o.jsx(Bi,{...E,children:o.jsxs("form",{className:"space-y-4",children:[o.jsx(Wt,{control:E.control,name:"title",render:({field:H})=>o.jsxs(Bt,{children:[o.jsxs(It,{className:"text-sm font-medium text-neutral-700",children:["Entry Title ",o.jsx("span",{className:"text-neutral-400",children:"(optional)"})]}),o.jsx($t,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Kt,{placeholder:"e.g., Teaching patience today...",className:"border-neutral-200 focus:ring-2 focus:ring-primary focus:border-transparent input-glow hover-scale pr-12",...H,value:H.value??""}),o.jsx(Yg,{onTranscription:R=>{const G=H.value||"";H.onChange(G+(G?" ":"")+R)},isInline:!0})]})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:E.control,name:"content",render:({field:H})=>o.jsxs(Bt,{children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs(It,{className:"text-sm font-medium text-neutral-700",children:["What's on your mind? ",o.jsx("span",{className:"text-red-400",children:"*"})]})}),o.jsx("div",{className:"mb-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"text-xs font-medium text-blue-800 mb-1 flex items-center",children:[o.jsx(Na,{className:"h-3 w-3 mr-1"}),"Writing Prompt Helper"]}),o.jsx("p",{className:"text-blue-700 text-xs leading-relaxed",children:g})]}),o.jsx(yi,{content:"Get another prompt",children:o.jsx(ve,{type:"button",variant:"ghost",size:"sm",onClick:()=>x(yP()),className:"text-blue-600 hover:text-blue-800 hover:bg-blue-100 ml-2 flex-shrink-0 h-6 w-6 p-0",children:o.jsx(Hv,{className:"h-3 w-3"})})})]})}),o.jsx($t,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Xr,{rows:5,placeholder:"Share your thoughts, challenges, victories, or anything about your day as a parent...",className:"border-neutral-200 focus:ring-2 focus:ring-primary focus:border-transparent resize-none input-glow hover-scale pr-12",...H,value:H.value??"",onChange:R=>{H.onChange(R.target.value)}}),o.jsx(Yg,{onTranscription:R=>{const G=H.value||"",M=G+(G&&!G.endsWith(" ")?" ":"")+R;H.onChange(M)},isInline:!0,className:"bottom-2"})]})}),o.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:[$," characters"]}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:E.control,name:"childProfileId",render:({field:H})=>o.jsxs(Bt,{children:[o.jsxs(It,{className:"text-sm font-medium text-neutral-700",children:["Which child(ren) is this entry about? ",o.jsx("span",{className:"text-neutral-400",children:"(optional)"})]}),o.jsx($t,{children:o.jsx("div",{className:"space-y-2",children:C&&C.length>0?C.map(R=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`child-${R.id}`,checked:n.includes(R.id),onChange:G=>{const M=G.target.checked?[...n,R.id]:n.filter(ae=>ae!==R.id);r(M),H.onChange(M.length>0?M[0]:"")},className:"rounded border-neutral-300 text-primary focus:ring-primary focus:ring-2"}),o.jsxs("label",{htmlFor:`child-${R.id}`,className:"text-sm text-neutral-700 flex items-center cursor-pointer",children:[o.jsx(gs,{className:"h-4 w-4 mr-2 text-primary"}),R.name]})]},R.id)):o.jsx("p",{className:"text-sm text-neutral-500 italic",children:"No children added yet"})})}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsx("p",{className:"text-xs text-neutral-500",children:"Selecting children will provide personalized developmental insights"}),o.jsx(QB,{trigger:o.jsxs(ve,{variant:"outline",size:"sm",type:"button",className:"text-xs",children:[o.jsx(Qc,{className:"h-3 w-3 mr-1"}),"Add Child"]})})]}),n.length>0&&o.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[o.jsx("span",{className:"text-xs text-neutral-500",children:"Selected:"}),n.map(R=>{const G=C==null?void 0:C.find(M=>M.id===R);return G?o.jsx(xt,{variant:"secondary",className:"text-xs",children:G.name},R):null})]}),o.jsx(Ut,{})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"text-sm font-medium text-neutral-700",children:["Add Photos ",o.jsx("span",{className:"text-neutral-400",children:"(optional)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[f.length>0&&o.jsxs("span",{className:"text-xs text-neutral-500",children:[f.length,"/5 photos"]}),o.jsx("input",{type:"file",ref:w,onChange:H=>L(H.target.files),accept:"image/*",multiple:!0,className:"hidden"}),o.jsx(yi,{content:"Add photos to your entry",children:o.jsxs(ve,{type:"button",variant:"outline",size:"sm",onClick:()=>{var H;return(H=w.current)==null?void 0:H.click()},disabled:f.length>=5,className:"text-xs",children:[o.jsx(NR,{className:"h-3 w-3 mr-1"}),f.length===0?"Add Photos":"Add More"]})})]})]}),f.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-neutral-50 rounded-lg border",children:f.map((H,R)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:H,alt:`Photo ${R+1}`,className:"w-16 h-16 object-cover rounded-lg border border-neutral-200"}),o.jsx("button",{type:"button",onClick:()=>P(R),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:o.jsx(Kr,{className:"h-3 w-3"})})]},R))})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs(ve,{type:"button",onClick:()=>T(E.getValues(),!0),disabled:O.isPending||!((F=E.getValues().content)!=null&&F.trim()),className:"flex-1 bg-primary text-white hover:bg-primary/90 button-ripple button-press hover-lift",children:[s?o.jsx(ck,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(rn,{className:"mr-2 h-4 w-4"}),"Save & Get AI Feedback"]}),o.jsxs(ve,{type:"button",onClick:()=>T(E.getValues(),!1),disabled:O.isPending||!((U=E.getValues().content)!=null&&U.trim()),variant:"outline",className:"sm:w-auto button-press hover-scale",children:[o.jsx(_R,{className:"mr-2 h-4 w-4"}),"Save Only"]})]})]})}),s&&o.jsxs("div",{className:"mt-6 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx(Z7,{message:"Your AI parenting coach is analyzing your entry...",size:"md"}),o.jsx("p",{className:"text-xs text-neutral-500 text-center mt-2",children:"This may take a few moments to provide personalized insights"})]}),c&&o.jsx(nge,{insight:c,childName:B.length>0?(W=B[0])==null?void 0:W.name:void 0}),d&&a&&o.jsxs(o.Fragment,{children:[o.jsx(rge,{feedback:a}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs(ve,{onClick:()=>{E.reset(),r([]),p([]),h(!1),l(""),u("")},className:"hover-scale button-press",children:[o.jsx(_g,{className:"mr-2 h-4 w-4"}),"Start New Entry"]})})]})]})})}function ige({photos:e,onPhotosChange:t,maxPhotos:n=5,className:r}){const[s,i]=N.useState(!1),a=N.useRef(null),l=f=>{if(!f)return;const p=[],g=n-e.length,x=Math.min(f.length,g);for(let b=0;b<x;b++){const v=f[b];if(v.type.startsWith("image/")){const y=new FileReader;y.onload=w=>{var C;const _=(C=w.target)==null?void 0:C.result;p.push(_),p.length===x&&t([...e,...p])},y.readAsDataURL(v)}}},c=f=>{const p=e.filter((g,x)=>x!==f);t(p)},u=f=>{f.preventDefault(),i(!1),l(f.dataTransfer.files)},d=f=>{f.preventDefault(),i(!0)},h=f=>{f.preventDefault(),i(!1)};return o.jsxs("div",{className:Je("space-y-4",r),children:[e.length<n&&o.jsxs("div",{className:Je("border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center transition-all",s&&"border-primary bg-primary/5","hover:border-primary/50 hover:bg-neutral-50"),onDrop:u,onDragOver:d,onDragLeave:h,children:[o.jsx("input",{ref:a,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:f=>l(f.target.files)}),o.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(NR,{className:"h-8 w-8 text-neutral-400"}),o.jsx(Kj,{className:"h-8 w-8 text-neutral-400"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-neutral-700",children:" Add photos to your entry"}),o.jsxs("p",{className:"text-xs text-neutral-500 mt-1",children:["Drag & drop or click to upload (",e.length,"/",n," photos)"]})]}),o.jsxs(ve,{type:"button",variant:"outline",onClick:()=>{var f;return(f=a.current)==null?void 0:f.click()},className:"mt-2",children:[o.jsx(Kj,{className:"h-4 w-4 mr-2"}),"Choose Photos"]})]})]}),e.length>0&&o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:e.map((f,p)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:f,alt:`Upload ${p+1}`,className:"w-full h-24 object-cover rounded-lg border border-neutral-200"}),o.jsx(yi,{content:"Remove photo",children:o.jsx("button",{type:"button",onClick:()=>c(p),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:o.jsx(Kr,{className:"h-3 w-3"})})})]},p))}),e.length>=n&&o.jsxs("div",{className:"text-xs text-neutral-500 text-center",children:["Maximum ",n," photos reached"]})]})}const bP=[{id:"gratitude",category:"Gratitude",icon:"",prompt:"What is one small moment with your child today that made you smile?",followUp:"How did this moment make you feel as a parent?"},{id:"challenge",category:"Growth",icon:"",prompt:"What was the most challenging part of parenting today, and what did you learn from it?",followUp:"How might you handle a similar situation differently next time?"},{id:"connection",category:"Connection",icon:"",prompt:"Describe a moment today when you felt truly connected with your child.",followUp:"What made this connection special?"},{id:"patience",category:"Mindfulness",icon:"",prompt:"When did you practice patience today, and how did it affect the situation?",followUp:"What helps you stay centered during difficult moments?"},{id:"joy",category:"Joy",icon:"",prompt:"What brought you and your child joy today?",followUp:"How can you create more moments like this?"},{id:"growth",category:"Development",icon:"",prompt:"What new skill, behavior, or milestone did you notice in your child today?",followUp:"How did witnessing this growth make you feel?"},{id:"self-care",category:"Self-Care",icon:"",prompt:"How did you take care of yourself as a parent today?",followUp:"What would help you feel more supported tomorrow?"},{id:"communication",category:"Communication",icon:"",prompt:"Describe a conversation or interaction with your child that stood out today.",followUp:"What did you learn about your child from this interaction?"},{id:"routine",category:"Routine",icon:"",prompt:"What part of your daily routine with your child worked well today?",followUp:"What would you like to improve about your routines?"},{id:"love",category:"Love",icon:"",prompt:"How did you show love to your child today, and how did they show love to you?",followUp:"What does your child's love language seem to be?"}];function age(){const[e,t]=N.useState(null),[n,r]=N.useState(""),[s,i]=N.useState(""),[a,l]=N.useState(!1),[c,u]=N.useState([]),[d,h]=N.useState([]),{toast:f}=vs(),p=Bs(),{data:g}=Ht({queryKey:["/api/child-profiles"]}),x=()=>{const w=Math.floor(Math.random()*bP.length),_=bP[w];t(_),r(""),i(""),l(!1),u([]),h([])},b=On({mutationFn:async w=>{const _=localStorage.getItem("parentjourney_token");console.log("Daily reflection save - token present:",!!_);let C=[];if(w.photos&&w.photos.length>0)for(const T of w.photos)if(T.startsWith("data:")){const B=await(await fetch(T)).blob(),L=await fetch("/api/objects/upload",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},credentials:"include"});if(!L.ok)throw new Error("Failed to get upload URL");const{uploadURL:P}=await L.json();if(!(await fetch(P,{method:"PUT",body:B,headers:{"Content-Type":B.type}})).ok)throw new Error("Failed to upload photo");const F=P.split("?")[0].split("/").slice(-2).join("/");C.push(`/objects/${F}`)}else C.push(T);const E={"Content-Type":"application/json"};_&&(E.Authorization=`Bearer ${_}`);const O=await fetch("/api/journal-entries",{method:"POST",headers:E,credentials:"include",body:JSON.stringify({title:w.title,content:w.content,photos:C,hasAiFeedback:"true",entryType:"quick_moment",childProfileIds:w.childProfileIds})});if(console.log("Daily reflection save - response status:",O.status),!O.ok){const T=await O.text();throw console.log("Daily reflection save - error response:",T),new Error(`Failed to save reflection: ${O.status} ${T}`)}return O.json()},onSuccess:()=>{p.invalidateQueries({queryKey:["/api/journal-entries"]}),p.invalidateQueries({queryKey:["/api/journal-stats"]}),f({title:" Reflection Saved!",description:"Your daily reflection has been added to your journal."}),r(""),i(""),t(null),l(!1),u([]),h([])},onError:w=>{var C,E,O,T;console.error("Daily reflection save error:",w);let _="Failed to save your reflection. Please try again.";(C=w.message)!=null&&C.includes("401")||(E=w.message)!=null&&E.includes("Authentication")?_="Please log in to save your reflection.":((O=w.message)!=null&&O.includes("403")||(T=w.message)!=null&&T.includes("Forbidden"))&&(_="You don't have permission to save reflections."),f({title:" Save Failed",description:_,variant:"destructive"})}}),v=()=>{if(!e||!n.trim())return;const w=` Daily Reflection: ${e.category}`;let _=`**${e.icon} ${e.prompt}**

${n.trim()}`;a&&s.trim()&&(_+=`

**${e.followUp}**

${s.trim()}`),b.mutate({title:w,content:_,photos:c,childProfileIds:d})},y=()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return o.jsxs(Ye,{className:"border-neutral-200 shadow-sm",children:[o.jsxs(Mt,{className:"pb-3",children:[o.jsxs(Dt,{className:"text-lg font-semibold text-neutral-800 flex items-center",children:[o.jsx(Na,{className:"mr-2 h-5 w-5 text-accent"})," Daily Reflection"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Get guided prompts to help you reflect on your parenting journey"}),o.jsxs("div",{className:"flex items-center text-xs text-neutral-500",children:[o.jsx(N0,{className:"mr-1 h-3 w-3"}),y()]})]})]}),o.jsxs(Xe,{className:"space-y-4",children:[e?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gradient-primary rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs(xt,{variant:"secondary",className:"bg-white/80 text-neutral-700",children:[e.icon," ",e.category]}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:x,className:"h-8 w-8 p-0 hover:bg-white/20",children:o.jsx(Hv,{className:"h-4 w-4"})})]}),o.jsx("p",{className:"text-neutral-800 font-medium",children:e.prompt})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:" Your Reflection"}),o.jsx(Xr,{value:n,onChange:w=>r(w.target.value),placeholder:"Take your time and share your thoughts...",className:"min-h-[100px] border-neutral-200 focus:border-primary resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:" Add Photos (Optional)"}),o.jsx(ige,{photos:c,onPhotosChange:u,maxPhotos:3,className:"border-neutral-200"})]}),g&&g.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:" Related to Children (Optional)"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"grid grid-cols-1 gap-2",children:g.map(w=>o.jsxs("div",{className:`flex items-center p-2 rounded-lg border transition-colors cursor-pointer ${d.includes(w.id)?"border-primary bg-primary/5":"border-neutral-200 hover:border-neutral-300"}`,onClick:()=>{h(_=>_.includes(w.id)?_.filter(C=>C!==w.id):[..._,w.id])},children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsx(gs,{className:"text-primary h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-neutral-800",children:w.name}),o.jsx("p",{className:"text-xs text-neutral-600",children:new Date(w.dateOfBirth).toLocaleDateString("en-US",{year:"numeric",month:"short"})})]})]}),d.includes(w.id)&&o.jsx("div",{className:"w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},w.id))}),o.jsx("p",{className:"text-xs text-neutral-500",children:"Select children this reflection relates to for better tracking and insights"})]})]}),e.followUp&&!a&&n.trim()&&o.jsxs(ve,{variant:"outline",onClick:()=>l(!0),className:"w-full border-dashed border-neutral-300 text-neutral-600 hover:border-primary hover:text-primary",children:[o.jsx(Sl,{className:"mr-2 h-4 w-4"}),"Answer Follow-up Question"]}),a&&o.jsxs("div",{children:[o.jsx("div",{className:"bg-neutral-50 rounded-lg p-3 mb-3",children:o.jsx("p",{className:"text-sm font-medium text-neutral-700",children:e.followUp})}),o.jsx(Xr,{value:s,onChange:w=>i(w.target.value),placeholder:"Dive a little deeper...",className:"min-h-[80px] border-neutral-200 focus:border-primary resize-none"})]}),o.jsxs("div",{className:"flex space-x-2 pt-2",children:[o.jsx(ve,{variant:"outline",onClick:()=>{t(null),r(""),i(""),l(!1),u([]),h([])},className:"flex-1",children:"Cancel"}),o.jsx(ve,{onClick:v,disabled:!n.trim()||b.isPending,className:"flex-1 bg-primary hover:bg-primary/90",children:b.isPending?o.jsxs(o.Fragment,{children:[o.jsx(Hv,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(_g,{className:"mr-2 h-4 w-4"})," Save to Journal"]})})]})]}):o.jsxs("div",{className:"text-center py-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx(rn,{className:"mx-auto h-12 w-12 text-accent opacity-60"})}),o.jsx("h3",{className:"font-medium text-neutral-800 mb-2",children:" Ready for today's reflection?"}),o.jsx("p",{className:"text-sm text-neutral-600 mb-4",children:"Get a personalized prompt to help you reflect on your parenting journey"}),o.jsxs(ve,{onClick:x,className:"bg-primary hover:bg-primary/90",children:[o.jsx(Na,{className:"mr-2 h-4 w-4"}),"Get My Prompt"]})]}),o.jsx("div",{className:"border-t border-neutral-200 pt-4",children:o.jsxs("div",{className:"text-xs text-neutral-500 space-y-1",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Kn,{className:"mr-1 h-3 w-3"}),o.jsx("span",{children:" Tip: There's no right or wrong answer - just be honest"})]}),g&&g.length>0&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(gs,{className:"mr-1 h-3 w-3"}),o.jsx("span",{children:" You can mention specific children in your reflection"})]})]})})]})]})}function oge({selectedMood:e,triggerSignUpPrompt:t}){const[n,r]=N.useState(!1),[s,i]=N.useState(!1);return o.jsx(Ye,{className:"shadow-lg border border-indigo-200 bg-gradient-to-r from-indigo-50 to-purple-50 hover-lift animate-bounce-in",children:o.jsxs(Xe,{className:"p-3 sm:p-6",children:[o.jsxs("div",{className:"text-center mb-2 sm:mb-6",children:[o.jsxs("div",{className:"flex items-center justify-center mb-1 sm:mb-2",children:[o.jsx(Kn,{className:"h-3 w-3 sm:h-6 sm:w-6 text-rose-500 mr-1 sm:mr-2"}),o.jsx("h3",{className:"text-sm sm:text-xl font-semibold text-neutral-800",children:"Record your journey"}),o.jsx(rn,{className:"h-3 w-3 sm:h-6 sm:w-6 text-amber-500 ml-1 sm:ml-2"})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-2 sm:p-3 mt-2 sm:mt-3 select-none",children:o.jsx("p",{className:"text-xs sm:text-sm text-blue-800 text-center leading-snug pointer-events-none",children:o.jsx("span",{className:"font-semibold",children:" Your entries help our AI deliver smarter, more personalized support."})})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4",children:[o.jsxs(yr,{open:n,onOpenChange:r,children:[o.jsx(Vl,{asChild:!0,children:o.jsxs(ve,{variant:"outline","data-onboarding":"journal-button",className:"h-auto min-h-[140px] sm:min-h-[150px] p-3 sm:p-4 flex flex-col items-center justify-center space-y-2 sm:space-y-3 border-rose-200 bg-gradient-to-br from-white to-rose-50 hover:border-rose-300 hover:bg-rose-100/50 hover-lift button-press w-full group transition-all duration-200 cursor-pointer hover:shadow-md active:scale-[0.98]",children:[o.jsx("div",{className:"bg-rose-100 p-1.5 sm:p-3 rounded-full group-hover:bg-rose-200 transition-colors",children:o.jsx(_g,{className:"h-4 w-4 sm:h-7 sm:w-7 text-rose-600"})}),o.jsxs("div",{className:"text-center px-3 sm:px-4 w-full",children:[o.jsx("div",{className:"font-semibold text-xs sm:text-base text-neutral-800 mb-1 sm:mb-2",children:"Share Journey"}),o.jsx("div",{className:"text-xs sm:text-sm text-neutral-600 leading-snug text-center break-words whitespace-normal",children:"Write or voice record your full thoughts and experiences - perfect for detailed reflection and deeper journaling"})]})]})}),o.jsxs(rr,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(sr,{children:[o.jsx(ir,{children:"Share Your Parenting Journey"}),o.jsx(ps,{children:"Document your experiences, challenges, and victories as a parent."})]}),o.jsx(sge,{selectedMood:e,triggerSignUpPrompt:t})]})]}),o.jsxs(yr,{open:s,onOpenChange:i,children:[o.jsx(Vl,{asChild:!0,children:o.jsxs(ve,{variant:"outline","data-onboarding":"checkin-button",className:"h-auto min-h-[140px] sm:min-h-[150px] p-3 sm:p-4 flex flex-col items-center justify-center space-y-2 sm:space-y-3 border-amber-200 bg-gradient-to-br from-white to-amber-50 hover:border-amber-300 hover:bg-amber-100/50 hover-lift button-press w-full group transition-all duration-200 cursor-pointer hover:shadow-md active:scale-[0.98]",children:[o.jsx("div",{className:"bg-amber-100 p-1.5 sm:p-3 rounded-full group-hover:bg-amber-200 transition-colors",children:o.jsx(Na,{className:"h-4 w-4 sm:h-7 sm:w-7 text-amber-600"})}),o.jsxs("div",{className:"text-center px-3 sm:px-4 w-full",children:[o.jsx("div",{className:"font-semibold text-xs sm:text-base text-neutral-800 mb-1 sm:mb-2",children:"Quick Moment"}),o.jsx("div",{className:"text-xs sm:text-sm text-neutral-600 leading-snug text-center break-words whitespace-normal",children:"Quick reflection with a sentence or photo - perfect for capturing moments on the go"})]})]})}),o.jsxs(rr,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(sr,{children:[o.jsx(ir,{children:"Quick Daily Reflection"}),o.jsx(ps,{children:"Take a moment to reflect on a specific aspect of your parenting day."})]}),o.jsx(age,{})]})]})]})]})})}function Gh({progress:e,size:t=80,strokeWidth:n=6,color:r="#3B82F6",label:s,showPercentage:i=!0}){const[a,l]=N.useState(0);N.useEffect(()=>{const g=setTimeout(()=>{l(e)},200);return()=>clearTimeout(g)},[e]);const c=(t-n)/2,u=c*2*Math.PI,d=u,h=isNaN(a)?u:u-a/100*u,p=r==="#3B82F6"?(g=>g>=80?"#10B981":g>=60?"#F59E0B":g>=40?"#EF4444":"#6B7280")(e):r;return o.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[o.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[o.jsx("circle",{cx:t/2,cy:t/2,r:c,stroke:"currentColor",strokeWidth:n,fill:"transparent",className:"text-gray-200"}),o.jsx("circle",{cx:t/2,cy:t/2,r:c,stroke:p,strokeWidth:n,fill:"transparent",strokeDasharray:d,strokeDashoffset:h,strokeLinecap:"round",className:"transition-all duration-1000 ease-out",style:{filter:e>=80?"drop-shadow(0 0 6px rgba(16, 185, 129, 0.4))":"none"}})]}),o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:[i&&o.jsxs("span",{className:"text-sm font-bold",style:{color:p},children:[Math.round(a),"%"]}),s&&o.jsx("span",{className:"text-xs text-gray-600 mt-0.5 max-w-12 leading-tight",children:s})]}),e>=80&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute -top-1 -right-1 animate-ping",children:o.jsx("span",{className:"text-xs",children:""})}),o.jsx("div",{className:"absolute -bottom-1 -left-1 animate-bounce",style:{animationDelay:"0.5s"},children:o.jsx("span",{className:"text-xs",children:""})})]})]})}function lge(){return localStorage.getItem("parentjourney_token")}async function wy(e,t={}){const n=lge(),r={"Content-Type":"application/json",...t.headers};n&&(r.Authorization=`Bearer ${n}`);const s=await fetch(e,{...t,credentials:"include",headers:r});return s.status===401&&n&&(console.log("API request unauthorized, clearing stored token"),localStorage.removeItem("parentjourney_token"),localStorage.removeItem("parentjourney_auth")),s}function cge({triggerSignUpPrompt:e}){const[t,n]=N.useState("");N.useState(!1),N.useState(!1);const{user:r,isAuthenticated:s}=Yo(),{data:i,isLoading:a,error:l}=Ht({queryKey:["/api/parent-profile"],queryFn:async()=>{const f=await wy("/api/parent-profile");if(!f.ok)throw new Error("Failed to fetch parent profile");return f.json()},enabled:s,staleTime:3e5,retry:!1}),{data:c,isLoading:u}=Ht({queryKey:["/api/journal-stats"],queryFn:async()=>{const f=await wy("/api/journal-stats");if(!f.ok)throw new Error("Failed to fetch stats");return f.json()},enabled:s&&!!i,staleTime:3e4,retry:!1}),{data:d}=Ht({queryKey:["/api/child-profiles"],queryFn:async()=>{const f=await wy("/api/child-profiles");if(!f.ok)throw new Error("Failed to fetch profiles");return f.json()},enabled:s&&!!i,staleTime:6e4,retry:!1});Ht({queryKey:["/api/journal-entries"],queryFn:async()=>{const f=await wy("/api/journal-entries");if(!f.ok)throw new Error("Failed to fetch entries");return f.json()},enabled:s&&!!i,staleTime:1e4,retry:!1});const h=f=>e?e(f):!1;return a&&s?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-blue-50 to-indigo-100",children:[o.jsx(Bm,{}),o.jsx("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your parenting journey..."})]})})})]}):l&&s?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-blue-50 to-indigo-100",children:[o.jsx(Bm,{}),o.jsx("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-red-600",children:["Failed to load profile: ",l.message]}),o.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Retry"})]})})})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-blue-50 to-indigo-100",children:[o.jsx(Bm,{}),o.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[o.jsx("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:o.jsxs("div",{className:"bg-gradient-to-r from-white to-blue-50/50 rounded-xl sm:rounded-2xl border border-primary/20 shadow-lg p-4 sm:p-5 md:p-6 mb-4 sm:mb-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-neutral-800 mb-2",children:["Welcome back, ",(i==null?void 0:i.name)||"there","!"]}),o.jsx("p",{className:"text-sm text-neutral-600",children:"You're one step closer to better parenting self-awareness."})]}),o.jsx("div",{className:"hidden sm:block",children:o.jsx(qk,{variant:"help"})})]}),u?o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[o.jsx(Ls,{className:"h-12 sm:h-16 rounded-lg animate-shimmer"}),o.jsx(Ls,{className:"h-12 sm:h-16 rounded-lg animate-shimmer"}),o.jsx(Ls,{className:"h-12 sm:h-16 rounded-lg animate-shimmer"})]}),o.jsx(Ls,{className:"h-10 sm:h-12 rounded-lg animate-shimmer"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx(Hse,{totalEntries:(c==null?void 0:c.totalEntries)||0,weekEntries:(c==null?void 0:c.weekEntries)||0,longestStreak:(c==null?void 0:c.longestStreak)||0,weekSharedJourneys:(c==null?void 0:c.weekSharedJourneys)||0,weekQuickMoments:(c==null?void 0:c.weekQuickMoments)||0}),o.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-3 border border-purple-200 mt-3",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-1 sm:space-y-0",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("div",{className:"text-xs sm:text-sm font-medium text-purple-800",children:[" ",(()=>{const f=(c==null?void 0:c.totalEntries)||0;return f>=100?"Mindful Master":f>=75?"Wellness Warrior":f>=50?"Balanced Parent":f>=25?"Growing Guardian":f>=10?"Aware Parent":"Beginner Level"})()," - Building awareness"]})}),o.jsx("div",{className:"text-xs text-purple-600 text-left sm:text-right",children:(()=>{const f=(c==null?void 0:c.totalEntries)||0,p=f<10?10:f<25?25:f<50?50:f<75?75:100;return f>=100?" Max level reached!":`${p-f} more to next level`})()}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(yi,{content:"Your weekly check-ins help you stay connected with your wellness patterns",position:"top",children:o.jsx(Gh,{progress:Math.min(((c==null?void 0:c.weekEntries)||0)/7*100,100),size:28,showPercentage:!1})}),o.jsx(yi,{content:"Consistency in self-reflection shows your commitment to growth",position:"top",children:o.jsx(Gh,{progress:Math.min(((c==null?void 0:c.longestStreak)||0)/21*100,100),size:28,showPercentage:!1})})]})]})})]})]})}),o.jsx("div",{className:"mb-4 sm:mb-6","data-mood-selector":!0,children:o.jsx(lie,{})}),o.jsx("div",{className:"mb-4 sm:mb-6",children:o.jsx(oge,{selectedMood:t,triggerSignUpPrompt:h})}),o.jsx("div",{className:"mb-4 sm:mb-6",children:o.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-lg border border-emerald-200 p-3 hover-lift animate-pop-fade stagger-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-emerald-800 mb-2 flex items-center",children:" Recent Journal Entries"}),o.jsx("p",{className:"text-xs text-emerald-600 mb-3",children:"Your latest reflections and moments - these also appear in your children's profiles below"}),o.jsx(Vse,{})]})}),o.jsx("div",{className:"mb-4 sm:mb-6",children:o.jsx(e9,{})}),o.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-emerald-50 to-green-50 rounded-lg border border-emerald-200 animate-pop-fade shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-emerald-800 font-medium",children:"Feeling overwhelmed today? Take a moment to center yourself."}),o.jsx(qle,{trigger:"inline"})]})}),o.jsx("div",{className:"space-y-3",children:d&&d.length>0&&o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-3 animate-bounce-in stagger-5",children:[o.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2 flex items-center",children:" Your Children's Journey"}),o.jsx("p",{className:"text-xs text-blue-600 mb-3",children:"Child-specific views of your journal entries and reflections"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:d.map((f,p)=>o.jsx("div",{className:`animate-pop-in stagger-${p+6}`,children:o.jsx(Gse,{child:f})},f.id))})]})}),o.jsx("div",{className:"mb-4",children:o.jsx(Ble,{selectedMood:t,triggerSignUpPrompt:h})})]}),o.jsx(Xme,{}),o.jsx(jm,{mode:"signup",trigger:"manual"}),o.jsx("footer",{className:"mt-16 py-6 border-t border-gray-200 dark:border-gray-700",children:o.jsx("div",{className:"text-center",children:o.jsx(Nn,{href:"/privacy-policy",className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors","data-testid":"link-privacy-policy",children:"Privacy Policy & Terms of Use"})})})]})}function uge(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(Ye,{className:"w-full max-w-md mx-4",children:o.jsxs(Xe,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(cQ,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function dge(){const[e,t]=N.useState(0),{data:n,isLoading:r}=Ht({queryKey:["/api/journal-entries"]}),i=(()=>{if(!n)return null;const c=new Date,u=Ji(Fw(c,e)),d=Wf(Fw(c,e)),h=n.filter(E=>{const O=new Date(E.createdAt);return O>=u&&O<=d});if(h.length===0)return null;const f={};h.forEach(E=>{E.mood&&(f[E.mood]=(f[E.mood]||0)+1)});const p=h.map(E=>E.content).join(" ").toLowerCase(),g=p.match(/\b\w{4,}\b/g)||[],x={},b=["this","that","with","have","will","been","were","said","each","which","their","time","about","would","there","could","other","after","first","well","many","some","what","know","just","like","very","when","come","back","into","over","think","also","your","work","life","only","new"];g.forEach(E=>{!b.includes(E)&&E.length>3&&(x[E]=(x[E]||0)+1)});const v=Object.entries(x).sort((E,O)=>O[1]-E[1]).slice(0,5).map(([E,O])=>({word:E,count:O})),y=Math.round(h.reduce((E,O)=>E+O.content.length,0)/h.length),w=[],_=Object.entries(f).sort((E,O)=>O[1]-E[1])[0];_&&w.push(`Your most common mood this week was ${_[0]} (${_[1]} times)`),y>200?w.push("You've been writing detailed entries - great for reflection!"):y<100&&w.push("Your entries have been brief - consider adding more detail for better insights"),h.length>=5?w.push("Excellent journaling consistency this week!"):h.length>=3&&w.push("Good journaling frequency - try for daily entries");const C=[];return(p.includes("challenge")||p.includes("difficult"))&&C.push("Facing challenges - seeking growth opportunities"),(p.includes("proud")||p.includes("achievement"))&&C.push("Celebrating wins and achievements"),(p.includes("tired")||p.includes("exhausted"))&&C.push("Managing energy levels and self-care"),{totalEntries:h.length,moodDistribution:f,topWords:v,averageLength:y,patterns:C,insights:w}})(),a=Fw(new Date,e),l=e===0?"This Week":e===1?"Last Week":`${e+1} Weeks Ago`;return r?o.jsx(Ye,{className:"shadow-sm border border-neutral-200",children:o.jsx(Xe,{className:"p-6",children:o.jsx("div",{className:"text-center py-8 text-neutral-500",children:"Loading weekly reflection..."})})}):o.jsxs(Ye,{className:"shadow-sm border border-neutral-200",children:[o.jsxs(Mt,{children:[o.jsxs(Dt,{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(Fl,{className:"mr-2 h-5 w-5 text-primary"})," Weekly Reflection"]}),o.jsx("div",{className:"flex gap-2",children:[0,1,2,3].map(c=>o.jsx(ve,{variant:e===c?"default":"outline",size:"sm",onClick:()=>t(c),children:c===0?"This Week":c===1?"Last Week":`${c+1}w ago`},c))})]}),o.jsxs("div",{className:"flex items-center text-sm text-neutral-600",children:[o.jsx(rs,{className:"mr-1 h-4 w-4"}),tn(Ji(a),"MMM d")," - ",tn(Wf(a),"MMM d, yyyy")]})]}),o.jsx(Xe,{className:"space-y-6",children:i?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.totalEntries}),o.jsx("div",{className:"text-xs text-blue-700",children:"Entries"})]}),o.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.averageLength}),o.jsx("div",{className:"text-xs text-green-700",children:"Avg Length"})]}),o.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg col-span-2 sm:col-span-1",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Object.keys(i.moodDistribution).length}),o.jsx("div",{className:"text-xs text-purple-700",children:"Mood Types"})]})]}),Object.keys(i.moodDistribution).length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium text-neutral-800 mb-3 flex items-center",children:[o.jsx(Kn,{className:"mr-2 h-4 w-4 text-red-500"})," Mood Overview"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(i.moodDistribution).map(([c,u])=>o.jsxs(xt,{variant:"outline",className:"px-3 py-1",children:[c," (",u,")"]},c))})]}),i.topWords.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium text-neutral-800 mb-3 flex items-center",children:[o.jsx(ji,{className:"mr-2 h-4 w-4 text-blue-500"})," Key Themes"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:i.topWords.map(({word:c,count:u})=>o.jsxs(xt,{variant:"secondary",className:"px-3 py-1",children:[c," (",u,")"]},c))})]}),i.patterns.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium text-neutral-800 mb-3 flex items-center",children:[o.jsx(uC,{className:"mr-2 h-4 w-4 text-green-500"})," Patterns Detected"]}),o.jsx("ul",{className:"space-y-2",children:i.patterns.map((c,u)=>o.jsxs("li",{className:"text-sm text-neutral-600 flex items-start",children:[o.jsx(Vi,{className:"mr-2 h-3 w-3 text-yellow-500 mt-0.5 flex-shrink-0"}),c]},u))})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium text-neutral-800 mb-3 flex items-center",children:[o.jsx(Vi,{className:"mr-2 h-4 w-4 text-yellow-500"})," Insights & Reflections"]}),o.jsx("ul",{className:"space-y-2",children:i.insights.map((c,u)=>o.jsx("li",{className:"text-sm text-neutral-600 bg-amber-50 p-3 rounded-lg border border-amber-200",children:c},u))})]})]}):o.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[o.jsx(uC,{className:"mx-auto h-12 w-12 mb-4 text-neutral-300"}),o.jsxs("p",{children:["No entries found for ",l.toLowerCase()]}),o.jsx("p",{className:"text-sm",children:"Start journaling to see your weekly insights!"})]})})]})}const l5={"":"Happy","":"Sad","":"Tired","":"Frustrated","":"Loving","":"Stressed","":"Excited","":"Peaceful"};function hge(){const[e,t]=N.useState("month"),{data:n,isLoading:r}=Ht({queryKey:["/api/journal-entries"]}),i=(()=>{var _,C,E;if(!n)return null;const l=new Date;let c,u=l;switch(e){case"week":c=Ji(l),u=Wf(l);break;case"month":c=Rs(l),u=z0(l);break;case"3months":c=Um(l,90);break;default:c=Rs(l)}const d=n.filter(O=>{const T=new Date(O.createdAt);return T>=c&&T<=u&&(O.mood||O.aiAnalyzedMood)});if(d.length===0)return null;const h={};d.forEach(O=>{const T=O.aiAnalyzedMood||O.mood;T&&(h[T]=(h[T]||0)+1)});const f=((_=Object.entries(h).sort((O,T)=>T[1]-O[1])[0])==null?void 0:_[0])||"",p=[],g={};d.forEach(O=>{const T=O.aiAnalyzedMood||O.mood;if(T){const $=tn(new Date(O.createdAt),"yyyy-MM-dd");g[$]||(g[$]={}),g[$][T]=(g[$][T]||0)+1}}),Object.entries(g).forEach(([O,T])=>{Object.entries(T).forEach(([$,B])=>{p.push({date:O,mood:$,count:B})})});const x=new Set(d.map(O=>tn(new Date(O.createdAt),"yyyy-MM-dd"))),b=d.length/x.size,v=[...d].sort((O,T)=>new Date(T.createdAt).getTime()-new Date(O.createdAt).getTime()).slice(0,7);let y=((C=v[0])==null?void 0:C.aiAnalyzedMood)||((E=v[0])==null?void 0:E.mood)||"",w=0;for(const O of v)if((O.aiAnalyzedMood||O.mood)===y)w++;else break;return{totalEntries:d.length,moodCounts:h,moodTrends:p,averageMoodsPerDay:Math.round(b*10)/10,mostCommonMood:f,moodStreak:{mood:y,days:w}}})(),a=()=>{switch(e){case"week":return"This Week";case"month":return"This Month";case"3months":return"Last 3 Months";default:return"This Month"}};return r?o.jsx(Ye,{className:"shadow-sm border border-neutral-200",children:o.jsx(Xe,{className:"p-6",children:o.jsx("div",{className:"text-center py-8 text-neutral-500",children:"Loading mood analytics..."})})}):o.jsxs(Ye,{className:"shadow-sm border border-neutral-200",children:[o.jsxs(Mt,{children:[o.jsxs(Dt,{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(Kn,{className:"mr-2 h-5 w-5 text-red-500"})," Mood Analytics"]}),o.jsx("div",{className:"flex gap-2",children:["week","month","3months"].map(l=>o.jsx(ve,{variant:e===l?"default":"outline",size:"sm",onClick:()=>t(l),children:l==="week"?"Week":l==="month"?"Month":"3M"},l))})]}),o.jsxs("div",{className:"text-sm text-neutral-600",children:["Tracking your emotional journey  ",a()]})]}),o.jsx(Xe,{className:"space-y-6",children:i?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.totalEntries}),o.jsx("div",{className:"text-xs text-blue-700",children:"Mood Entries"})]}),o.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.averageMoodsPerDay}),o.jsx("div",{className:"text-xs text-green-700",children:"Per Day"})]}),o.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Object.keys(i.moodCounts).length}),o.jsx("div",{className:"text-xs text-purple-700",children:"Mood Types"})]}),o.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.moodStreak.days}),o.jsx("div",{className:"text-xs text-yellow-700",children:"Day Streak"})]})]}),i.mostCommonMood&&o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border border-blue-200",children:o.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[o.jsx("span",{className:"text-3xl",children:i.mostCommonMood}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium text-neutral-800",children:"Most Common Mood"}),o.jsxs("div",{className:"text-sm text-neutral-600",children:[l5[i.mostCommonMood]," (",i.moodCounts[i.mostCommonMood]," times)"]})]})]})}),o.jsxs("div",{"data-tour":"mood-chart",children:[o.jsxs("h3",{className:"font-medium text-neutral-800 mb-4 flex items-center",children:[o.jsx(Fl,{className:"mr-2 h-4 w-4 text-blue-500"})," Mood Distribution"]}),o.jsx("div",{className:"space-y-3",children:Object.entries(i.moodCounts).sort((l,c)=>c[1]-l[1]).map(([l,c])=>{const u=Math.round(c/i.totalEntries*100);return o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-2xl w-8 text-center",children:l}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{className:"font-medium",children:l5[l]||"Unknown"}),o.jsxs("span",{className:"text-neutral-500",children:[c," times (",u,"%)"]})]}),o.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${u}%`}})})]})]},l)})})]}),i.moodStreak.days>1&&o.jsx("div",{"data-tour":"streak-display",className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ji,{className:"h-5 w-5 text-amber-600"}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-amber-800",children:[(()=>{const l=i.moodStreak.days;return l<=2?"":l<=4?"":l<=6?"":l<=13?"":l<=20?"":l<=29?"":""})()," Current Streak: ",i.moodStreak.days," days"]}),o.jsxs("div",{className:"text-sm text-amber-700",children:["You've been feeling ",l5[i.moodStreak.mood]," ",i.moodStreak.mood," consistently!"]})]})]})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium text-neutral-800 mb-4 flex items-center",children:[o.jsx(rs,{className:"mr-2 h-4 w-4 text-green-500"})," Recent Mood Timeline"]}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:Array.from({length:7},(l,c)=>{const u=Um(new Date,6-c),d=tn(u,"yyyy-MM-dd"),h=i.moodTrends.filter(f=>f.date===d);return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:tn(u,"EEE")}),o.jsx("div",{className:"h-16 bg-neutral-100 rounded-lg flex flex-col items-center justify-center space-y-1",children:h.length>0?h.map((f,p)=>o.jsx("span",{className:"text-lg",children:f.mood},p)):o.jsx("span",{className:"text-neutral-400 text-xs",children:"No mood"})}),o.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:tn(u,"d")})]},c)})})]})]}):o.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[o.jsx(db,{className:"mx-auto h-12 w-12 mb-4 text-neutral-300"}),o.jsxs("p",{children:["No mood data found for ",a().toLowerCase()]}),o.jsx("p",{className:"text-sm",children:"Add moods to your entries to see analytics!"})]})})]})}const fge=[{value:"",label:" Happy"},{value:"",label:" Sad"},{value:"",label:" Tired"},{value:"",label:" Frustrated"},{value:"",label:" Loving"},{value:"",label:" Stressed"},{value:"",label:" Excited"},{value:"",label:" Peaceful"}];function pge({onResults:e,onClear:t}){var p;const[n,r]=N.useState(!1),[s,i]=N.useState({keyword:"",mood:"",childId:"",dateFrom:void 0,dateTo:void 0,hasAiFeedback:"",hasPhotos:""}),{data:a}=Ht({queryKey:["/api/journal-entries"]}),{data:l}=Ht({queryKey:["/api/child-profiles"]}),c=(g,x)=>{i(b=>({...b,[g]:x}))},u=()=>{if(!a)return;let g=[...a];if(s.keyword.trim()){const x=s.keyword.toLowerCase();g=g.filter(b=>{var v,y;return((v=b.title)==null?void 0:v.toLowerCase().includes(x))||b.content.toLowerCase().includes(x)||((y=b.aiFeedback)==null?void 0:y.toLowerCase().includes(x))})}s.mood&&(g=g.filter(x=>x.mood===s.mood)),s.childId&&(g=g.filter(x=>x.childProfileId===s.childId)),s.dateFrom&&(g=g.filter(x=>new Date(x.createdAt)>=s.dateFrom)),s.dateTo&&(g=g.filter(x=>new Date(x.createdAt)<=s.dateTo)),s.hasAiFeedback==="yes"?g=g.filter(x=>x.hasAiFeedback&&x.aiFeedback):s.hasAiFeedback==="no"&&(g=g.filter(x=>!x.hasAiFeedback||!x.aiFeedback)),s.hasPhotos==="yes"||s.hasPhotos,e(g)},d=()=>{i({keyword:"",mood:"",childId:"",dateFrom:void 0,dateTo:void 0,hasAiFeedback:"",hasPhotos:""}),t()},f=(()=>{let g=0;return s.keyword.trim()&&g++,s.mood&&g++,s.childId&&g++,s.dateFrom&&g++,s.dateTo&&g++,s.hasAiFeedback&&g++,s.hasPhotos&&g++,g})();return o.jsxs(Ye,{className:"shadow-sm border border-neutral-200",children:[o.jsx(Mt,{children:o.jsxs(Dt,{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(nf,{className:"mr-2 h-5 w-5 text-primary"})," Advanced Search"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[f>0&&o.jsxs(xt,{variant:"secondary",className:"text-xs",children:[f," filter",f>1?"s":""," active"]}),o.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>r(!n),children:[o.jsx(lk,{className:"h-4 w-4 mr-2"}),n?"Hide Filters":"Show Filters"]})]})]})}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(nf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),o.jsx(Kt,{placeholder:" Search in titles, content, and AI feedback...",value:s.keyword,onChange:g=>c("keyword",g.target.value),className:"pl-10",onKeyDown:g=>g.key==="Enter"&&u()})]}),o.jsx(ve,{onClick:u,children:"Search"})]}),n&&o.jsxs("div",{className:"space-y-4 border-t border-neutral-200 pt-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[o.jsx(Kn,{className:"inline mr-1 h-4 w-4"}),"Mood"]}),o.jsxs(vr,{value:s.mood,onValueChange:g=>c("mood",g),children:[o.jsx(ar,{children:o.jsx(br,{placeholder:"Any mood"})}),o.jsxs(or,{children:[o.jsx(pt,{value:"",children:"Any mood"}),fge.map(g=>o.jsx(pt,{value:g.value,children:g.label},g.value))]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[o.jsx(Bl,{className:"inline mr-1 h-4 w-4"}),"Children"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"search-any-child",checked:s.childId==="",onChange:g=>{g.target.checked&&c("childId","")},className:"rounded border-neutral-300 text-primary focus:ring-primary focus:ring-2"}),o.jsx("label",{htmlFor:"search-any-child",className:"text-sm text-neutral-700 cursor-pointer",children:"Any child"})]}),l==null?void 0:l.map(g=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`search-child-${g.id}`,checked:s.childId===g.id,onChange:x=>{c("childId",x.target.checked?g.id:"")},className:"rounded border-neutral-300 text-primary focus:ring-primary focus:ring-2"}),o.jsxs("label",{htmlFor:`search-child-${g.id}`,className:"text-sm text-neutral-700 cursor-pointer",children:[" ",g.name]})]},g.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:" AI Feedback"}),o.jsxs(vr,{value:s.hasAiFeedback,onValueChange:g=>c("hasAiFeedback",g),children:[o.jsx(ar,{children:o.jsx(br,{placeholder:"Any"})}),o.jsxs(or,{children:[o.jsx(pt,{value:"",children:"Any"}),o.jsx(pt,{value:"yes",children:"With AI feedback"}),o.jsx(pt,{value:"no",children:"Without AI feedback"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:" Photos"}),o.jsxs(vr,{value:s.hasPhotos,onValueChange:g=>c("hasPhotos",g),children:[o.jsx(ar,{children:o.jsx(br,{placeholder:"Any"})}),o.jsxs(or,{children:[o.jsx(pt,{value:"",children:"Any"}),o.jsx(pt,{value:"yes",children:"With photos"}),o.jsx(pt,{value:"no",children:"Without photos"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[o.jsx(rs,{className:"inline mr-1 h-4 w-4"}),"From Date"]}),o.jsxs(wN,{children:[o.jsx(jN,{asChild:!0,children:o.jsxs(ve,{variant:"outline",className:Je("w-full justify-start text-left font-normal",!s.dateFrom&&"text-muted-foreground"),children:[o.jsx(rs,{className:"mr-2 h-4 w-4"}),s.dateFrom?tn(s.dateFrom,"PPP"):"Pick a date"]})}),o.jsx(S1,{className:"w-auto p-0",children:o.jsx(Gg,{mode:"single",selected:s.dateFrom,onSelect:g=>c("dateFrom",g),initialFocus:!0})})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[o.jsx(rs,{className:"inline mr-1 h-4 w-4"}),"To Date"]}),o.jsxs(wN,{children:[o.jsx(jN,{asChild:!0,children:o.jsxs(ve,{variant:"outline",className:Je("w-full justify-start text-left font-normal",!s.dateTo&&"text-muted-foreground"),children:[o.jsx(rs,{className:"mr-2 h-4 w-4"}),s.dateTo?tn(s.dateTo,"PPP"):"Pick a date"]})}),o.jsx(S1,{className:"w-auto p-0",children:o.jsx(Gg,{mode:"single",selected:s.dateTo,onSelect:g=>c("dateTo",g),initialFocus:!0})})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsxs(ve,{onClick:u,className:"flex-1",children:[o.jsx(nf,{className:"mr-2 h-4 w-4"}),"Apply Filters"]}),f>0&&o.jsxs(ve,{variant:"outline",onClick:d,children:[o.jsx(Kr,{className:"mr-2 h-4 w-4"}),"Clear All"]})]})]}),f>0&&o.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-neutral-200",children:[s.keyword&&o.jsxs(xt,{variant:"secondary",className:"gap-1",children:['Keyword: "',s.keyword,'"',o.jsx(Kr,{className:"h-3 w-3 cursor-pointer",onClick:()=>c("keyword","")})]}),s.mood&&o.jsxs(xt,{variant:"secondary",className:"gap-1",children:["Mood: ",s.mood,o.jsx(Kr,{className:"h-3 w-3 cursor-pointer",onClick:()=>c("mood","")})]}),s.childId&&o.jsxs(xt,{variant:"secondary",className:"gap-1",children:["Child: ",(p=l==null?void 0:l.find(g=>g.id===s.childId))==null?void 0:p.name,o.jsx(Kr,{className:"h-3 w-3 cursor-pointer",onClick:()=>c("childId","")})]}),s.dateFrom&&o.jsxs(xt,{variant:"secondary",className:"gap-1",children:["From: ",tn(s.dateFrom,"MMM d"),o.jsx(Kr,{className:"h-3 w-3 cursor-pointer",onClick:()=>c("dateFrom",void 0)})]}),s.dateTo&&o.jsxs(xt,{variant:"secondary",className:"gap-1",children:["To: ",tn(s.dateTo,"MMM d"),o.jsx(Kr,{className:"h-3 w-3 cursor-pointer",onClick:()=>c("dateTo",void 0)})]})]})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Q0(e){return e+.5|0}const Oc=(e,t,n)=>Math.max(Math.min(e,n),t);function km(e){return Oc(Q0(e*2.55),0,255)}function Zc(e){return Oc(Q0(e*255),0,255)}function _l(e){return Oc(Q0(e/2.55)/100,0,1)}function wP(e){return Oc(Q0(e*100),0,100)}const ca={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},DN=[..."0123456789ABCDEF"],mge=e=>DN[e&15],gge=e=>DN[(e&240)>>4]+DN[e&15],jy=e=>(e&240)>>4===(e&15),xge=e=>jy(e.r)&&jy(e.g)&&jy(e.b)&&jy(e.a);function yge(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ca[e[1]]*17,g:255&ca[e[2]]*17,b:255&ca[e[3]]*17,a:t===5?ca[e[4]]*17:255}:(t===7||t===9)&&(n={r:ca[e[1]]<<4|ca[e[2]],g:ca[e[3]]<<4|ca[e[4]],b:ca[e[5]]<<4|ca[e[6]],a:t===9?ca[e[7]]<<4|ca[e[8]]:255})),n}const vge=(e,t)=>e<255?t(e):"";function bge(e){var t=xge(e)?mge:gge;return e?"#"+t(e.r)+t(e.g)+t(e.b)+vge(e.a,t):void 0}const wge=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function EU(e,t,n){const r=t*Math.min(n,1-n),s=(i,a=(i+e/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function jge(e,t,n){const r=(s,i=(s+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Nge(e,t,n){const r=EU(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function Sge(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}function $4(e){const n=e.r/255,r=e.g/255,s=e.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),l=(i+a)/2;let c,u,d;return i!==a&&(d=i-a,u=l>.5?d/(2-i-a):d/(i+a),c=Sge(n,r,s,d,i),c=c*60+.5),[c|0,u||0,l]}function U4(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Zc)}function V4(e,t,n){return U4(EU,e,t,n)}function kge(e,t,n){return U4(Nge,e,t,n)}function _ge(e,t,n){return U4(jge,e,t,n)}function TU(e){return(e%360+360)%360}function Cge(e){const t=wge.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?km(+t[5]):Zc(+t[5]));const s=TU(+t[2]),i=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?r=kge(s,i,a):t[1]==="hsv"?r=_ge(s,i,a):r=V4(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function Age(e,t){var n=$4(e);n[0]=TU(n[0]+t),n=V4(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Pge(e){if(!e)return;const t=$4(e),n=t[0],r=wP(t[1]),s=wP(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${_l(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const jP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},NP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ege(){const e={},t=Object.keys(NP),n=Object.keys(jP);let r,s,i,a,l;for(r=0;r<t.length;r++){for(a=l=t[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,jP[i]);i=parseInt(NP[a],16),e[l]=[i>>16&255,i>>8&255,i&255]}return e}let Ny;function Tge(e){Ny||(Ny=Ege(),Ny.transparent=[0,0,0,0]);const t=Ny[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Mge=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Lge(e){const t=Mge.exec(e);let n=255,r,s,i;if(t){if(t[7]!==r){const a=+t[7];n=t[8]?km(a):Oc(a*255,0,255)}return r=+t[1],s=+t[3],i=+t[5],r=255&(t[2]?km(r):Oc(r,0,255)),s=255&(t[4]?km(s):Oc(s,0,255)),i=255&(t[6]?km(i):Oc(i,0,255)),{r,g:s,b:i,a:n}}}function Ige(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${_l(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const c5=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,_h=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Dge(e,t,n){const r=_h(_l(e.r)),s=_h(_l(e.g)),i=_h(_l(e.b));return{r:Zc(c5(r+n*(_h(_l(t.r))-r))),g:Zc(c5(s+n*(_h(_l(t.g))-s))),b:Zc(c5(i+n*(_h(_l(t.b))-i))),a:e.a+n*(t.a-e.a)}}function Sy(e,t,n){if(e){let r=$4(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=V4(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function MU(e,t){return e&&Object.assign(t||{},e)}function SP(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Zc(e[3]))):(t=MU(e,{r:0,g:0,b:0,a:1}),t.a=Zc(t.a)),t}function Rge(e){return e.charAt(0)==="r"?Lge(e):Cge(e)}class Zg{constructor(t){if(t instanceof Zg)return t;const n=typeof t;let r;n==="object"?r=SP(t):n==="string"&&(r=yge(t)||Tge(t)||Rge(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=MU(this._rgb);return t&&(t.a=_l(t.a)),t}set rgb(t){this._rgb=SP(t)}rgbString(){return this._valid?Ige(this._rgb):void 0}hexString(){return this._valid?bge(this._rgb):void 0}hslString(){return this._valid?Pge(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,s=t.rgb;let i;const a=n===i?.5:n,l=2*a-1,c=r.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=Dge(this._rgb,t._rgb,n)),this}clone(){return new Zg(this.rgb)}alpha(t){return this._rgb.a=Zc(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Q0(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Sy(this._rgb,2,t),this}darken(t){return Sy(this._rgb,2,-t),this}saturate(t){return Sy(this._rgb,1,t),this}desaturate(t){return Sy(this._rgb,1,-t),this}rotate(t){return Age(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function gl(){}const Oge=(()=>{let e=0;return()=>e++})();function Sn(e){return e==null}function Ur(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function dn(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function zs(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function wo(e,t){return zs(e)?e:t}function sn(e,t){return typeof e>"u"?t:e}const Fge=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Hn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Pn(e,t,n,r){let s,i,a;if(Ur(e))for(i=e.length,s=0;s<i;s++)t.call(n,e[s],s);else if(dn(e))for(a=Object.keys(e),i=a.length,s=0;s<i;s++)t.call(n,e[a[s]],a[s])}function T1(e,t){let n,r,s,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],i=t[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function M1(e){if(Ur(e))return e.map(M1);if(dn(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=M1(e[n[s]]);return t}return e}function LU(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function zge(e,t,n,r){if(!LU(e))return;const s=t[e],i=n[e];dn(s)&&dn(i)?e0(s,i,r):t[e]=M1(i)}function e0(e,t,n){const r=Ur(t)?t:[t],s=r.length;if(!dn(e))return e;n=n||{};const i=n.merger||zge;let a;for(let l=0;l<s;++l){if(a=r[l],!dn(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)i(c[u],e,a,n)}return e}function Gm(e,t){return e0(e,t,{merger:Bge})}function Bge(e,t,n){if(!LU(e))return;const r=t[e],s=n[e];dn(r)&&dn(s)?Gm(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=M1(s))}const kP={"":e=>e,x:e=>e.x,y:e=>e.y};function $ge(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Uge(e){const t=$ge(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Qf(e,t){return(kP[t]||(kP[t]=Uge(t)))(e)}function q4(e){return e.charAt(0).toUpperCase()+e.slice(1)}const t0=e=>typeof e<"u",du=e=>typeof e=="function",_P=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Vge(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const is=Math.PI,eo=2*is,qge=eo+is,L1=Number.POSITIVE_INFINITY,Wge=is/180,Ga=is/2,Ru=is/4,CP=is*2/3,RN=Math.log10,Uo=Math.sign;function Km(e,t,n){return Math.abs(e-t)<n}function AP(e){const t=Math.round(e);e=Km(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(RN(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Hge(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((s,i)=>s-i).pop(),t}function Yge(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function n0(e){return!Yge(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Gge(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Kge(e,t,n){let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function td(e){return e*(is/180)}function Qge(e){return e*(180/is)}function PP(e){if(!zs(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Xge(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*is&&(i+=eo),{angle:i,distance:s}}function ON(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Jge(e,t){return(e-t+qge)%eo-is}function Co(e){return(e%eo+eo)%eo}function IU(e,t,n,r){const s=Co(e),i=Co(t),a=Co(n),l=Co(i-s),c=Co(a-s),u=Co(s-i),d=Co(s-a);return s===i||s===a||r&&i===a||l>c&&u<d}function qi(e,t,n){return Math.max(t,Math.min(n,e))}function Zge(e){return qi(e,-32768,32767)}function Fc(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function W4(e,t,n){n=n||(a=>e[a]<t);let r=e.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const nd=(e,t,n,r)=>W4(e,n,r?s=>{const i=e[s][t];return i<n||i===n&&e[s+1][t]===n}:s=>e[s][t]<n),e0e=(e,t,n)=>W4(e,n,r=>e[r][t]>=n);function t0e(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}const DU=["push","pop","shift","splice","unshift"];function n0e(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),DU.forEach(n=>{const r="_onData"+q4(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return e._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),a}})})}function EP(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);s!==-1&&r.splice(s,1),!(r.length>0)&&(DU.forEach(i=>{delete e[i]}),delete e._chartjs)}function RU(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const OU=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function FU(e,t){let n=[],r=!1;return function(...s){n=s,r||(r=!0,OU.call(window,()=>{r=!1,e.apply(t,n)}))}}function r0e(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const H4=e=>e==="start"?"left":e==="end"?"right":"center",Ps=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,s0e=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function i0e(e,t,n){const r=t.length;let s=0,i=r;if(e._sorted){const{iScale:a,vScale:l,_parsed:c}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=a.axis,{min:h,max:f,minDefined:p,maxDefined:g}=a.getUserBounds();if(p){if(s=Math.min(nd(c,d,h).lo,n?r:nd(t,d,a.getPixelForValue(h)).lo),u){const x=c.slice(0,s+1).reverse().findIndex(b=>!Sn(b[l.axis]));s-=Math.max(0,x)}s=qi(s,0,r-1)}if(g){let x=Math.max(nd(c,a.axis,f,!0).hi+1,n?0:nd(t,d,a.getPixelForValue(f),!0).hi+1);if(u){const b=c.slice(x-1).findIndex(v=>!Sn(v[l.axis]));x+=Math.max(0,b)}i=qi(x,s,r)-s}else i=r-s}return{start:s,count:i}}function a0e(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=s,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const ky=e=>e===0||e===1,TP=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*eo/n)),MP=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*eo/n)+1,Qm={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ga)+1,easeOutSine:e=>Math.sin(e*Ga),easeInOutSine:e=>-.5*(Math.cos(is*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>ky(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ky(e)?e:TP(e,.075,.3),easeOutElastic:e=>ky(e)?e:MP(e,.075,.3),easeInOutElastic(e){return ky(e)?e:e<.5?.5*TP(e*2,.1125,.45):.5+.5*MP(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Qm.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Qm.easeInBounce(e*2)*.5:Qm.easeOutBounce(e*2-1)*.5+.5};function Y4(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function LP(e){return Y4(e)?e:new Zg(e)}function u5(e){return Y4(e)?e:new Zg(e).saturate(.5).darken(.1).hexString()}const o0e=["x","y","borderWidth","radius","tension"],l0e=["color","borderColor","backgroundColor"];function c0e(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:l0e},numbers:{type:"number",properties:o0e}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function u0e(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const IP=new Map;function d0e(e,t){t=t||{};const n=e+JSON.stringify(t);let r=IP.get(n);return r||(r=new Intl.NumberFormat(e,t),IP.set(n,r)),r}function zU(e,t,n){return d0e(t,n).format(e)}const BU={values(e){return Ur(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let s,i=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=h0e(e,n)}const a=RN(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),zU(e,r,c)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(RN(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?BU.numeric.call(this,e,t,n):""}};function h0e(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var $U={formatters:BU};function f0e(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$U.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Id=Object.create(null),FN=Object.create(null);function Xm(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];e=e[i]||(e[i]=Object.create(null))}return e}function d5(e,t,n){return typeof t=="string"?e0(Xm(e,t),n):e0(Xm(e,""),t)}class p0e{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>u5(s.backgroundColor),this.hoverBorderColor=(r,s)=>u5(s.borderColor),this.hoverColor=(r,s)=>u5(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return d5(this,t,n)}get(t){return Xm(this,t)}describe(t,n){return d5(FN,t,n)}override(t,n){return d5(Id,t,n)}route(t,n,r,s){const i=Xm(this,t),a=Xm(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=a[s];return dn(c)?Object.assign({},u,c):sn(c,u)},set(c){this[l]=c}}})}apply(t){t.forEach(n=>n(this))}}var Tr=new p0e({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[c0e,u0e,f0e]);function m0e(e){return!e||Sn(e.size)||Sn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function DP(e,t,n,r,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Ou(e,t,n){const r=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function RP(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function zN(e,t,n,r){UU(e,t,n,r,null)}function UU(e,t,n,r,s){let i,a,l,c,u,d,h,f;const p=t.pointStyle,g=t.rotation,x=t.radius;let b=(g||0)*Wge;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(x)||x<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,r,s/2,x,0,0,eo):e.arc(n,r,x,0,eo),e.closePath();break;case"triangle":d=s?s/2:x,e.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*x),b+=CP,e.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*x),b+=CP,e.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*x),e.closePath();break;case"rectRounded":u=x*.516,c=x-u,a=Math.cos(b+Ru)*c,h=Math.cos(b+Ru)*(s?s/2-u:c),l=Math.sin(b+Ru)*c,f=Math.sin(b+Ru)*(s?s/2-u:c),e.arc(n-h,r-l,u,b-is,b-Ga),e.arc(n+f,r-a,u,b-Ga,b),e.arc(n+h,r+l,u,b,b+Ga),e.arc(n-f,r+a,u,b+Ga,b+is),e.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*x,d=s?s/2:c,e.rect(n-d,r-c,2*d,2*c);break}b+=Ru;case"rectRot":h=Math.cos(b)*(s?s/2:x),a=Math.cos(b)*x,l=Math.sin(b)*x,f=Math.sin(b)*(s?s/2:x),e.moveTo(n-h,r-l),e.lineTo(n+f,r-a),e.lineTo(n+h,r+l),e.lineTo(n-f,r+a),e.closePath();break;case"crossRot":b+=Ru;case"cross":h=Math.cos(b)*(s?s/2:x),a=Math.cos(b)*x,l=Math.sin(b)*x,f=Math.sin(b)*(s?s/2:x),e.moveTo(n-h,r-l),e.lineTo(n+h,r+l),e.moveTo(n+f,r-a),e.lineTo(n-f,r+a);break;case"star":h=Math.cos(b)*(s?s/2:x),a=Math.cos(b)*x,l=Math.sin(b)*x,f=Math.sin(b)*(s?s/2:x),e.moveTo(n-h,r-l),e.lineTo(n+h,r+l),e.moveTo(n+f,r-a),e.lineTo(n-f,r+a),b+=Ru,h=Math.cos(b)*(s?s/2:x),a=Math.cos(b)*x,l=Math.sin(b)*x,f=Math.sin(b)*(s?s/2:x),e.moveTo(n-h,r-l),e.lineTo(n+h,r+l),e.moveTo(n+f,r-a),e.lineTo(n-f,r+a);break;case"line":a=s?s/2:Math.cos(b)*x,l=Math.sin(b)*x,e.moveTo(n-a,r-l),e.lineTo(n+a,r+l);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(b)*(s?s/2:x),r+Math.sin(b)*x);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function r0(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Hb(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Yb(e){e.restore()}function g0e(e,t,n,r,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else s==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function x0e(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function y0e(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Sn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function v0e(e,t,n,r,s){if(s.strikethrough||s.underline){const i=e.measureText(r),a=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,d),e.lineTo(l,d),e.stroke()}}function b0e(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function s0(e,t,n,r,s,i={}){const a=Ur(t)?t:[t],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(e.save(),e.font=s.string,y0e(e,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&b0e(e,i.backdrop),l&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Sn(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(u,n,r,i.maxWidth)),e.fillText(u,n,r,i.maxWidth),v0e(e,n,r,u,i),r+=Number(s.lineHeight);e.restore()}function I1(e,t){const{x:n,y:r,w:s,h:i,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*is,is,!0),e.lineTo(n,r+i-a.bottomLeft),e.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,is,Ga,!0),e.lineTo(n+s-a.bottomRight,r+i),e.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,Ga,0,!0),e.lineTo(n+s,r+a.topRight),e.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-Ga,!0),e.lineTo(n+a.topLeft,r)}const w0e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,j0e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function N0e(e,t){const n=(""+e).match(w0e);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const S0e=e=>+e||0;function VU(e,t){const n={},r=dn(t),s=r?Object.keys(t):t,i=dn(e)?r?a=>sn(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of s)n[a]=S0e(i(a));return n}function qU(e){return VU(e,{top:"y",right:"x",bottom:"y",left:"x"})}function hf(e){return VU(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Sa(e){const t=qU(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ds(e,t){e=e||{},t=t||Tr.font;let n=sn(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=sn(e.style,t.style);r&&!(""+r).match(j0e)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:sn(e.family,t.family),lineHeight:N0e(sn(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:sn(e.weight,t.weight),string:""};return s.string=m0e(s),s}function _y(e,t,n,r){let s,i,a;for(s=0,i=e.length;s<i;++s)if(a=e[s],a!==void 0&&a!==void 0)return a}function k0e(e,t,n){const{min:r,max:s}=e,i=Fge(t,(s-r)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function Ud(e,t){return Object.assign(Object.create(e),t)}function G4(e,t=[""],n,r,s=()=>e[0]){const i=n||e;typeof r>"u"&&(r=GU("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>G4([l,...e],t,i,r)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return HU(l,c,()=>L0e(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return FP(l).includes(c)},ownKeys(l){return FP(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function Xf(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:WU(e,r),setContext:i=>Xf(e,i,n,r),override:i=>Xf(e.override(i),t,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete e[a],!0},get(i,a,l){return HU(i,a,()=>C0e(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(i,a,l){return e[a]=l,delete i[a],!0}})}function WU(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:du(n)?n:()=>n,isIndexable:du(r)?r:()=>r}}const _0e=(e,t)=>e?e+q4(t):t,K4=(e,t)=>dn(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function HU(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function C0e(e,t,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=e;let l=r[t];return du(l)&&a.isScriptable(t)&&(l=A0e(t,l,e,n)),Ur(l)&&l.length&&(l=P0e(t,l,e,a.isIndexable)),K4(t,l)&&(l=Xf(l,s,i&&i[t],a)),l}function A0e(e,t,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(i,a||r);return l.delete(e),K4(e,c)&&(c=Q4(s._scopes,s,e,c)),c}function P0e(e,t,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(dn(t[0])){const c=t,u=s._scopes.filter(d=>d!==c);t=[];for(const d of c){const h=Q4(u,s,e,d);t.push(Xf(h,i,a&&a[e],l))}}return t}function YU(e,t,n){return du(e)?e(t,n):e}const E0e=(e,t)=>e===!0?t:typeof e=="string"?Qf(t,e):void 0;function T0e(e,t,n,r,s){for(const i of t){const a=E0e(n,i);if(a){e.add(a);const l=YU(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function Q4(e,t,n,r){const s=t._rootScopes,i=YU(t._fallback,n,r),a=[...e,...s],l=new Set;l.add(r);let c=OP(l,a,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=OP(l,a,i,c,r),c===null)?!1:G4(Array.from(l),[""],s,i,()=>M0e(t,n,r))}function OP(e,t,n,r,s){for(;n;)n=T0e(e,t,n,r,s);return n}function M0e(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];return Ur(s)&&dn(n)?n:s||{}}function L0e(e,t,n,r){let s;for(const i of t)if(s=GU(_0e(i,e),n),typeof s<"u")return K4(e,s)?Q4(n,r,e,s):s}function GU(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function FP(e){let t=e._keys;return t||(t=e._keys=I0e(e._scopes)),t}function I0e(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(r);return Array.from(t)}const D0e=Number.EPSILON||1e-14,Jf=(e,t)=>t<e.length&&!e[t].skip&&e[t],KU=e=>e==="x"?"y":"x";function R0e(e,t,n,r){const s=e.skip?t:e,i=t,a=n.skip?t:n,l=ON(i,s),c=ON(a,i);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=r*u,f=r*d;return{previous:{x:i.x-h*(a.x-s.x),y:i.y-h*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function O0e(e,t,n){const r=e.length;let s,i,a,l,c,u=Jf(e,0);for(let d=0;d<r-1;++d)if(c=u,u=Jf(e,d+1),!(!c||!u)){if(Km(t[d],0,D0e)){n[d]=n[d+1]=0;continue}s=n[d]/t[d],i=n[d+1]/t[d],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),n[d]=s*a*t[d],n[d+1]=i*a*t[d])}}function F0e(e,t,n="x"){const r=KU(n),s=e.length;let i,a,l,c=Jf(e,0);for(let u=0;u<s;++u){if(a=l,l=c,c=Jf(e,u+1),!l)continue;const d=l[n],h=l[r];a&&(i=(d-a[n])/3,l[`cp1${n}`]=d-i,l[`cp1${r}`]=h-i*t[u]),c&&(i=(c[n]-d)/3,l[`cp2${n}`]=d+i,l[`cp2${r}`]=h+i*t[u])}}function z0e(e,t="x"){const n=KU(t),r=e.length,s=Array(r).fill(0),i=Array(r);let a,l,c,u=Jf(e,0);for(a=0;a<r;++a)if(l=c,c=u,u=Jf(e,a+1),!!c){if(u){const d=u[t]-c[t];s[a]=d!==0?(u[n]-c[n])/d:0}i[a]=l?u?Uo(s[a-1])!==Uo(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}O0e(e,s,i),F0e(e,i,t)}function Cy(e,t,n){return Math.max(Math.min(e,n),t)}function B0e(e,t){let n,r,s,i,a,l=r0(e[0],t);for(n=0,r=e.length;n<r;++n)a=i,i=l,l=n<r-1&&r0(e[n+1],t),i&&(s=e[n],a&&(s.cp1x=Cy(s.cp1x,t.left,t.right),s.cp1y=Cy(s.cp1y,t.top,t.bottom)),l&&(s.cp2x=Cy(s.cp2x,t.left,t.right),s.cp2y=Cy(s.cp2y,t.top,t.bottom)))}function $0e(e,t,n,r,s){let i,a,l,c;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")z0e(e,s);else{let u=r?e[e.length-1]:e[0];for(i=0,a=e.length;i<a;++i)l=e[i],c=R0e(u,l,e[Math.min(i+1,a-(r?0:1))%a],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}t.capBezierPoints&&B0e(e,n)}function X4(){return typeof window<"u"&&typeof document<"u"}function J4(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function D1(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Gb=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function U0e(e,t){return Gb(e).getPropertyValue(t)}const V0e=["top","right","bottom","left"];function pd(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=V0e[s];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const q0e=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function W0e(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:i}=r;let a=!1,l,c;if(q0e(s,i,e.target))l=s,c=i;else{const u=t.getBoundingClientRect();l=r.clientX-u.left,c=r.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function qu(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=Gb(n),i=s.boxSizing==="border-box",a=pd(s,"padding"),l=pd(s,"border","width"),{x:c,y:u,box:d}=W0e(e,n),h=a.left+(d&&l.left),f=a.top+(d&&l.top);let{width:p,height:g}=t;return i&&(p-=a.width+l.width,g-=a.height+l.height),{x:Math.round((c-h)/p*n.width/r),y:Math.round((u-f)/g*n.height/r)}}function H0e(e,t,n){let r,s;if(t===void 0||n===void 0){const i=e&&J4(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const a=i.getBoundingClientRect(),l=Gb(i),c=pd(l,"border","width"),u=pd(l,"padding");t=a.width-u.width-c.width,n=a.height-u.height-c.height,r=D1(l.maxWidth,i,"clientWidth"),s=D1(l.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:r||L1,maxHeight:s||L1}}const Ay=e=>Math.round(e*10)/10;function Y0e(e,t,n,r){const s=Gb(e),i=pd(s,"margin"),a=D1(s.maxWidth,e,"clientWidth")||L1,l=D1(s.maxHeight,e,"clientHeight")||L1,c=H0e(e,t,n);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const f=pd(s,"border","width"),p=pd(s,"padding");u-=p.width+f.width,d-=p.height+f.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=Ay(Math.min(u,a,c.maxWidth)),d=Ay(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Ay(u/2)),(t!==void 0||n!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,u=Ay(Math.floor(d*r))),{width:u,height:d}}function zP(e,t,n){const r=t||1,s=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(e.currentDevicePixelRatio=r,a.height=s,a.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const G0e=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};X4()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function BP(e,t){const n=U0e(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Wu(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function K0e(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function Q0e(e,t,n,r){const s={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},a=Wu(e,s,n),l=Wu(s,i,n),c=Wu(i,t,n),u=Wu(a,l,n),d=Wu(l,c,n);return Wu(u,d,n)}const X0e=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},J0e=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function ff(e,t,n){return e?X0e(t,n):J0e()}function QU(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function XU(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function JU(e){return e==="angle"?{between:IU,compare:Jge,normalize:Co}:{between:Fc,compare:(t,n)=>t-n,normalize:t=>t}}function $P({start:e,end:t,count:n,loop:r,style:s}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:s}}function Z0e(e,t,n){const{property:r,start:s,end:i}=n,{between:a,normalize:l}=JU(r),c=t.length;let{start:u,end:d,loop:h}=e,f,p;if(h){for(u+=c,d+=c,f=0,p=c;f<p&&a(l(t[u%c][r]),s,i);++f)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:e.style}}function ZU(e,t,n){if(!n)return[e];const{property:r,start:s,end:i}=n,a=t.length,{compare:l,between:c,normalize:u}=JU(r),{start:d,end:h,loop:f,style:p}=Z0e(e,t,n),g=[];let x=!1,b=null,v,y,w;const _=()=>c(s,w,v)&&l(s,w)!==0,C=()=>l(i,v)===0||c(i,w,v),E=()=>x||_(),O=()=>!x||C();for(let T=d,$=d;T<=h;++T)y=t[T%a],!y.skip&&(v=u(y[r]),v!==w&&(x=c(v,s,i),b===null&&E()&&(b=l(v,s)===0?T:$),b!==null&&O()&&(g.push($P({start:b,end:T,loop:f,count:a,style:p})),b=null),$=T,w=v));return b!==null&&g.push($P({start:b,end:h,loop:f,count:a,style:p})),g}function eV(e,t){const n=[],r=e.segments;for(let s=0;s<r.length;s++){const i=ZU(r[s],e.points,t);i.length&&n.push(...i)}return n}function exe(e,t,n,r){let s=0,i=t-1;if(n&&!r)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(i+=s);i>s&&e[i%t].skip;)i--;return i%=t,{start:s,end:i}}function txe(e,t,n,r){const s=e.length,i=[];let a=t,l=e[t],c;for(c=t+1;c<=n;++c){const u=e[c%s];u.skip||u.stop?l.skip||(r=!1,i.push({start:t%s,end:(c-1)%s,loop:r}),t=a=u.stop?c:null):(a=c,l.skip&&(t=c)),l=u}return a!==null&&i.push({start:t%s,end:a%s,loop:r}),i}function nxe(e,t){const n=e.points,r=e.options.spanGaps,s=n.length;if(!s)return[];const i=!!e._loop,{start:a,end:l}=exe(n,s,i,r);if(r===!0)return UP(e,[{start:a,end:l,loop:i}],n,t);const c=l<a?l+s:l,u=!!e._fullLoop&&a===0&&l===s-1;return UP(e,txe(n,a,c,u),n,t)}function UP(e,t,n,r){return!r||!r.setContext||!n?t:rxe(e,t,n,r)}function rxe(e,t,n,r){const s=e._chart.getContext(),i=VP(e.options),{_datasetIndex:a,options:{spanGaps:l}}=e,c=n.length,u=[];let d=i,h=t[0].start,f=h;function p(g,x,b,v){const y=l?-1:1;if(g!==x){for(g+=c;n[g%c].skip;)g-=y;for(;n[x%c].skip;)x+=y;g%c!==x%c&&(u.push({start:g%c,end:x%c,loop:b,style:v}),d=v,h=x%c)}}for(const g of t){h=l?h:g.start;let x=n[h%c],b;for(f=h+1;f<=g.end;f++){const v=n[f%c];b=VP(r.setContext(Ud(s,{type:"segment",p0:x,p1:v,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),sxe(b,d)&&p(h,f-1,g.loop,d),x=v,d=b}h<f-1&&p(h,f-1,g.loop,d)}return u}function VP(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function sxe(e,t){if(!t)return!1;const n=[],r=function(s,i){return Y4(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Py(e,t,n){return e.options.clip?e[n]:t[n]}function ixe(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Py(n,t,"left"),right:Py(n,t,"right"),top:Py(r,t,"top"),bottom:Py(r,t,"bottom")}:t}function tV(e,t){const n=t._clip;if(n.disabled)return!1;const r=ixe(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class axe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(l=>l({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=OU.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(t),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,t,"progress")),i.length||(r.running=!1,this._notify(s,r,t,"complete"),r.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var bl=new axe;const qP="transparent",oxe={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=LP(e||qP),s=r.valid&&LP(t||qP);return s&&s.valid?s.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class lxe{constructor(t,n,r,s){const i=n[r];s=_y([t.to,s,i,t.from]);const a=_y([t.from,i,s]);this._active=!0,this._fn=t.fn||oxe[t.type||typeof a],this._easing=Qm[t.easing]||Qm.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=_y([t.to,n,s,t.from]),this._from=_y([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class nV{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!dn(t))return;const n=Object.keys(Tr.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!dn(i))return;const a={};for(const l of n)a[l]=i[l];(Ur(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,a)})})}_animateOptions(t,n){const r=n.options,s=uxe(t,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&cxe(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,n){const r=this._properties,s=[],i=t.$animations||(t.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(t,n));continue}const d=n[u];let h=i[u];const f=r.get(u);if(h)if(f&&h.active()){h.update(f,d,l);continue}else h.cancel();if(!f||!f.duration){t[u]=d;continue}i[u]=h=new lxe(f,t,u,d),s.push(h)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return bl.add(this._chart,r),!0}}function cxe(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const i=e[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function uxe(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function WP(e,t){const n=e&&e.options||{},r=n.reverse,s=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:r?i:s,end:r?s:i}}function dxe(e,t,n){if(n===!1)return!1;const r=WP(e,n),s=WP(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function hxe(e){let t,n,r,s;return dn(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:e===!1}}function rV(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function HP(e,t,n,r={}){const s=e.keys,i=r.mode==="single";let a,l,c,u;if(t===null)return;let d=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===n){if(d=!0,r.all)continue;break}u=e.values[c],zs(u)&&(i||t===0||Uo(t)===Uo(u))&&(t+=u)}return!d&&!r.all?0:t}function fxe(e,t){const{iScale:n,vScale:r}=t,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(e),l=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],l[c]={[s]:d,[i]:e[d]};return l}function h5(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function pxe(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function mxe(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function gxe(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function YP(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const i=e[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function GP(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:l}=r,c=i.axis,u=a.axis,d=pxe(i,a,r),h=t.length;let f;for(let p=0;p<h;++p){const g=t[p],{[c]:x,[u]:b}=g,v=g._stacks||(g._stacks={});f=v[u]=gxe(s,d,x),f[l]=b,f._top=YP(f,a,!0,r.type),f._bottom=YP(f,a,!1,r.type);const y=f._visualValues||(f._visualValues={});y[l]=b}}function f5(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function xxe(e,t){return Ud(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function yxe(e,t,n){return Ud(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function am(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const s of t){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const p5=e=>e==="reset"||e==="none",KP=(e,t)=>t?e:Object.assign({},e),vxe=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:rV(n,!0),values:null};class pf{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=h5(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&am(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,i=n.xAxisID=sn(r.xAxisID,f5(t,"x")),a=n.yAxisID=sn(r.yAxisID,f5(t,"y")),l=n.rAxisID=sn(r.rAxisID,f5(t,"r")),c=n.indexAxis,u=n.iAxisID=s(c,i,a,l),d=n.vAxisID=s(c,a,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&EP(this._data,this),t._stacked&&am(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(dn(n)){const s=this._cachedMeta;this._data=fxe(n,s)}else if(r!==n){if(r){EP(r,this);const s=this._cachedMeta;am(s),s._parsed=[]}n&&Object.isExtensible(n)&&n0e(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=h5(n.vScale,n),n.stack!==r.stack&&(s=!0,am(n),n.stack=r.stack),this._resyncElements(t),(s||i!==n._stacked)&&(GP(this,n._parsed),n._stacked=h5(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,l=i.axis;let c=t===0&&n===s.length?!0:r._sorted,u=t>0&&r._parsed[t-1],d,h,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{Ur(s[t])?f=this.parseArrayData(r,s,t,n):dn(s[t])?f=this.parseObjectData(r,s,t,n):f=this.parsePrimitiveData(r,s,t,n);const p=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<n;++d)r._parsed[d+t]=h=f[d],c&&(p()&&(c=!1),u=h);r._sorted=c}a&&GP(this,f)}parsePrimitiveData(t,n,r,s){const{iScale:i,vScale:a}=t,l=i.axis,c=a.axis,u=i.getLabels(),d=i===a,h=new Array(s);let f,p,g;for(f=0,p=s;f<p;++f)g=f+r,h[f]={[l]:d||i.parse(u[g],g),[c]:a.parse(n[g],g)};return h}parseArrayData(t,n,r,s){const{xScale:i,yScale:a}=t,l=new Array(s);let c,u,d,h;for(c=0,u=s;c<u;++c)d=c+r,h=n[d],l[c]={x:i.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(t,n,r,s){const{xScale:i,yScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,h,f,p;for(d=0,h=s;d<h;++d)f=d+r,p=n[f],u[d]={x:i.parse(Qf(p,l),f),y:a.parse(Qf(p,c),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const s=this.chart,i=this._cachedMeta,a=n[t.axis],l={keys:rV(s,!0),values:n._stacks[t.axis]._visualValues};return HP(l,a,i.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,a=HP(s,i,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&t===r.iScale,a=s.length,l=this._getOtherScale(t),c=vxe(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=mxe(l);let f,p;function g(){p=s[f];const x=p[l.axis];return!zs(p[t.axis])||d>x||h<x}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(u,t,p,c),i));++f);if(i){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,t,p,c);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][t.axis],zs(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=hxe(sn(this.options.clip,dxe(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(t,i,l,c),d=l;d<l+c;++d){const h=s[d];h.hidden||(h.active&&u?a.push(h):h.draw(t,i))}for(d=0;d<a.length;++d)a[d].draw(t,i)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];i=a.$context||(a.$context=yxe(this.getContext(),t,a)),i.parsed=this.getParsed(t),i.raw=s.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=xxe(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=t+"-"+n,l=i[a],c=this.enableOptionSharing&&t0(r);if(l)return KP(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(Tr.elements[t]),g=()=>this.getContext(r,s,n),x=u.resolveNamedOptions(f,p,g,h);return x.$shared&&(x.$shared=c,i[a]=Object.freeze(KP(x,c))),x}_resolveAnimations(t,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,l=i[a];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(t,r,n))}const u=new nV(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||p5(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(t,n,r,s){p5(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!p5(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,t):i<s&&this._removeElements(i,s-i)}_insertElements(t,n,r=!0){const s=this._cachedMeta,i=s.data,a=t+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=a;l--)u[l]=u[l-n]};for(c(i),l=t;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,n),r&&this.updateElements(i,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&am(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}le(pf,"defaults",{}),le(pf,"datasetElementType",null),le(pf,"dataElementType",null);function bxe(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=RU(r.sort((s,i)=>s-i))}return e._cache.$bar}function wxe(e){const t=e.iScale,n=bxe(t,e.type);let r=t._length,s,i,a,l;const c=()=>{a===32767||a===-32768||(t0(l)&&(r=Math.min(r,Math.abs(a-l)||r)),l=a)};for(s=0,i=n.length;s<i;++s)a=t.getPixelForValue(n[s]),c();for(l=void 0,s=0,i=t.ticks.length;s<i;++s)a=t.getPixelForTick(s),c();return r}function jxe(e,t,n,r){const s=n.barThickness;let i,a;return Sn(s)?(i=t.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:t.pixels[e]-i/2}}function Nxe(e,t,n,r){const s=t.pixels,i=s[e];let a=e>0?s[e-1]:null,l=e<s.length-1?s[e+1]:null;const c=n.categoryPercentage;a===null&&(a=i-(l===null?t.end-t.start:l-i)),l===null&&(l=i+i-a);const u=i-(i-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/r,ratio:n.barPercentage,start:u}}function Sxe(e,t,n,r){const s=n.parse(e[0],r),i=n.parse(e[1],r),a=Math.min(s,i),l=Math.max(s,i);let c=a,u=l;Math.abs(a)>Math.abs(l)&&(c=l,u=a),t[n.axis]=u,t._custom={barStart:c,barEnd:u,start:s,end:i,min:a,max:l}}function sV(e,t,n,r){return Ur(e)?Sxe(e,t,n,r):t[n.axis]=n.parse(e,r),t}function QP(e,t,n,r){const s=e.iScale,i=e.vScale,a=s.getLabels(),l=s===i,c=[];let u,d,h,f;for(u=n,d=n+r;u<d;++u)f=t[u],h={},h[s.axis]=l||s.parse(a[u],u),c.push(sV(f,h,i,u));return c}function m5(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function kxe(e,t,n){return e!==0?Uo(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function _xe(e){let t,n,r,s,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:t,top:s,bottom:i}}function Cxe(e,t,n,r){let s=t.borderSkipped;const i={};if(!s){e.borderSkipped=i;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:u,bottom:d}=_xe(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[XP(d,a,l,c)]=!0,s=u)),i[XP(s,a,l,c)]=!0,e.borderSkipped=i}function XP(e,t,n,r){return r?(e=Axe(e,t,n),e=JP(e,n,t)):e=JP(e,t,n),e}function Axe(e,t,n){return e===t?n:e===n?t:e}function JP(e,t,n){return e==="start"?t:e==="end"?n:e}function Pxe(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class fv extends pf{parsePrimitiveData(t,n,r,s){return QP(t,n,r,s)}parseArrayData(t,n,r,s){return QP(t,n,r,s)}parseObjectData(t,n,r,s){const{iScale:i,vScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,d=a.axis==="x"?l:c,h=[];let f,p,g,x;for(f=r,p=r+s;f<p;++f)x=n[f],g={},g[i.axis]=i.parse(Qf(x,u),f),h.push(sV(Qf(x,d),g,a,f));return h}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(t),a=i._custom,l=m5(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let p=n;p<n+r;p++){const g=this.getParsed(p),x=i||Sn(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,d),v=(g._stacks||{})[l.axis],y={horizontal:u,base:x.base,enableBorderRadius:!v||m5(g._custom)||a===v._top||a===v._bottom,x:u?x.head:b.center,y:u?b.center:x.head,height:u?b.size:Math.abs(x.size),width:u?Math.abs(x.size):b.size};f&&(y.options=h||this.resolveDataElementOptions(p,t[p].active?"active":s));const w=y.options||t[p].options;Cxe(y,w,v,a),Pxe(y,w,d.ratio),this.updateElement(t[p],p,y,s)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],u=d=>{const h=d._parsed.find(p=>p[r.axis]===c),f=h&&h[d.vScale.axis];if(Sn(f)||isNaN(f))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[sn(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const s=this._getStacks(t,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,a;for(i=0,a=n.data.length;i<a;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const l=t.barThickness;return{min:l||wxe(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:a}}=this,l=i||0,c=this.getParsed(t),u=c._custom,d=m5(u);let h=c[n.axis],f=0,p=r?this.applyStack(n,c,r):h,g,x;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&Uo(h)!==Uo(u.barEnd)&&(f=0),f+=h);const b=!Sn(i)&&!d?i:f;let v=n.getPixelForValue(b);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(f+p):g=v,x=g-v,Math.abs(x)<a){x=kxe(x,n,l)*a,h===l&&(v-=x/2);const y=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),_=Math.min(y,w),C=Math.max(y,w);v=Math.max(Math.min(v,C),_),g=v+x,r&&!d&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(g)-n.getValueForPixel(v))}if(v===n.getPixelForValue(l)){const y=Uo(x)*n.getLineWidthForValue(l)/2;v+=y,x-=y}return{size:x,base:v,head:g,center:g+x/2}}_calculateBarIndexPixels(t,n){const r=n.scale,s=this.options,i=s.skipNull,a=sn(s.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(t):n.stackCount,h=s.barThickness==="flex"?Nxe(t,n,s,d*u):jxe(t,n,s,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(sn(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+p;l=h.start+h.chunk*g+h.chunk/2,c=Math.min(a,h.chunk*h.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),c=Math.min(a,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}le(fv,"id","bar"),le(fv,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),le(fv,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class pv extends pf{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:l,count:c}=i0e(n,s,a);this._drawStart=l,this._drawCount=c,a0e(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},t),this.updateElements(s,l,c,t)}updateElements(t,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s),f=a.axis,p=l.axis,{spanGaps:g,segment:x}=this.options,b=n0(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||s==="none",y=n+r,w=t.length;let _=n>0&&this.getParsed(n-1);for(let C=0;C<w;++C){const E=t[C],O=v?E:{};if(C<n||C>=y){O.skip=!0;continue}const T=this.getParsed(C),$=Sn(T[p]),B=O[f]=a.getPixelForValue(T[f],C),L=O[p]=i||$?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[p],C);O.skip=isNaN(B)||isNaN(L)||$,O.stop=C>0&&Math.abs(T[f]-_[f])>b,x&&(O.parsed=T,O.raw=u.data[C]),h&&(O.options=d||this.resolveDataElementOptions(C,E.active?"active":s)),v||this.updateElement(E,C,O,s),_=T}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}le(pv,"id","line"),le(pv,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),le(pv,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Fu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Z4{constructor(t){le(this,"options");this.options=t||{}}static override(t){Object.assign(Z4.prototype,t)}init(){}formats(){return Fu()}parse(){return Fu()}format(){return Fu()}add(){return Fu()}diff(){return Fu()}startOf(){return Fu()}endOf(){return Fu()}}var Exe={_date:Z4};function Txe(e,t,n,r){const{controller:s,data:i,_sorted:a}=e,l=s._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&a&&i.length){const u=l._reversePixels?e0e:nd;if(r){if(s._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(t);if(h){const f=u(i,t,n-h),p=u(i,t,n+h);return{lo:f.lo,hi:p.hi}}}}else{const d=u(i,t,n);if(c){const{vScale:h}=s._cachedMeta,{_parsed:f}=e,p=f.slice(0,d.lo+1).reverse().findIndex(x=>!Sn(x[h.axis]));d.lo-=Math.max(0,p);const g=f.slice(d.hi).findIndex(x=>!Sn(x[h.axis]));d.hi+=Math.max(0,g)}return d}}return{lo:0,hi:i.length-1}}function X0(e,t,n,r,s){const i=e.getSortedVisibleDatasetMetas(),a=n[t];for(let l=0,c=i.length;l<c;++l){const{index:u,data:d}=i[l],{lo:h,hi:f}=Txe(i[l],t,a,s);for(let p=h;p<=f;++p){const g=d[p];g.skip||r(g,u,p)}}}function Mxe(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,s){const i=t?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function g5(e,t,n,r,s){const i=[];return!s&&!e.isPointInArea(t)||X0(e,n,t,function(l,c,u){!s&&!r0(l,e.chartArea,0)||l.inRange(t.x,t.y,r)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function Lxe(e,t,n,r){let s=[];function i(a,l,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:h}=Xge(a,{x:t.x,y:t.y});IU(h,u,d)&&s.push({element:a,datasetIndex:l,index:c})}return X0(e,n,t,i),s}function Ixe(e,t,n,r,s,i){let a=[];const l=Mxe(n);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const p=d.inRange(t.x,t.y,s);if(r&&!p)return;const g=d.getCenterPoint(s);if(!(!!i||e.isPointInArea(g))&&!p)return;const b=l(t,g);b<c?(a=[{element:d,datasetIndex:h,index:f}],c=b):b===c&&a.push({element:d,datasetIndex:h,index:f})}return X0(e,n,t,u),a}function x5(e,t,n,r,s,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!r?Lxe(e,t,n,s):Ixe(e,t,n,r,s,i)}function ZP(e,t,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return X0(e,n,t,(c,u,d)=>{c[a]&&c[a](t[n],s)&&(i.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(t.x,t.y,s))}),r&&!l?[]:i}var Dxe={evaluateInteractionItems:X0,modes:{index(e,t,n,r){const s=qu(t,e),i=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?g5(e,s,i,r,a):x5(e,s,i,!1,r,a),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(e,t,n,r){const s=qu(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?g5(e,s,i,r,a):x5(e,s,i,!1,r,a);if(l.length>0){const c=l[0].datasetIndex,u=e.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(e,t,n,r){const s=qu(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;return g5(e,s,i,r,a)},nearest(e,t,n,r){const s=qu(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;return x5(e,s,i,n.intersect,r,a)},x(e,t,n,r){const s=qu(t,e);return ZP(e,s,"x",n.intersect,r)},y(e,t,n,r){const s=qu(t,e);return ZP(e,s,"y",n.intersect,r)}}};const iV=["left","top","right","bottom"];function om(e,t){return e.filter(n=>n.pos===t)}function e6(e,t){return e.filter(n=>iV.indexOf(n.pos)===-1&&n.box.axis===t)}function lm(e,t){return e.sort((n,r)=>{const s=t?r:n,i=t?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function Rxe(e){const t=[];let n,r,s,i,a,l;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],{position:i,options:{stack:a,stackWeight:l=1}}=s,t.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return t}function Oxe(e){const t={};for(const n of e){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!iV.includes(s))continue;const a=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return t}function Fxe(e,t){const n=Oxe(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let i,a,l;for(i=0,a=e.length;i<a;++i){l=e[i];const{fullSize:c}=l.box,u=n[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*r:c&&t.availableWidth,l.height=s):(l.width=r,l.height=d?d*s:c&&t.availableHeight)}return n}function zxe(e){const t=Rxe(e),n=lm(t.filter(u=>u.box.fullSize),!0),r=lm(om(t,"left"),!0),s=lm(om(t,"right")),i=lm(om(t,"top"),!0),a=lm(om(t,"bottom")),l=e6(t,"x"),c=e6(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:om(t,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(a).concat(l)}}function t6(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function aV(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Bxe(e,t,n,r){const{pos:s,box:i}=n,a=e.maxPadding;if(!dn(s)){n.size&&(e[s]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,e[s]+=n.size}i.getPadding&&aV(a,i.getPadding());const l=Math.max(0,t.outerWidth-t6(a,e,"left","right")),c=Math.max(0,t.outerHeight-t6(a,e,"top","bottom")),u=l!==e.w,d=c!==e.h;return e.w=l,e.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function $xe(e){const t=e.maxPadding;function n(r){const s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Uxe(e,t){const n=t.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(t[a],n[a])}),i}return r(e?["left","right"]:["top","bottom"])}function _m(e,t,n,r){const s=[];let i,a,l,c,u,d;for(i=0,a=e.length,u=0;i<a;++i){l=e[i],c=l.box,c.update(l.width||t.w,l.height||t.h,Uxe(l.horizontal,t));const{same:h,other:f}=Bxe(t,n,l,r);u|=h&&s.length,d=d||f,c.fullSize||s.push(l)}return u&&_m(s,t,n,r)||d}function Ey(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function n6(e,t,n,r){const s=n.padding;let{x:i,y:a}=t;for(const l of e){const c=l.box,u=r[l.stack]||{count:1,placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const h=t.w*d,f=u.size||c.height;t0(u.start)&&(a=u.start),c.fullSize?Ey(c,s.left,a,n.outerWidth-s.right-s.left,f):Ey(c,t.left+u.placed,a,h,f),u.start=a,u.placed+=h,a=c.bottom}else{const h=t.h*d,f=u.size||c.width;t0(u.start)&&(i=u.start),c.fullSize?Ey(c,i,s.top,f,n.outerHeight-s.bottom-s.top):Ey(c,i,t.top+u.placed,f,h),u.start=i,u.placed+=h,i=c.right}}t.x=i,t.y=a}var xa={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=Sa(e.options.layout.padding),i=Math.max(t-s.width,0),a=Math.max(n-s.height,0),l=zxe(e.boxes),c=l.vertical,u=l.horizontal;Pn(e.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const d=c.reduce((x,b)=>b.box.options&&b.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},s);aV(f,Sa(r));const p=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),g=Fxe(c.concat(u),h);_m(l.fullSize,p,h,g),_m(c,p,h,g),_m(u,p,h,g)&&_m(c,p,h,g),$xe(p),n6(l.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,n6(l.rightAndBottom,p,h,g),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Pn(l.chartArea,x=>{const b=x.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class oV{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,s){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(t){return!0}updateConfig(t){}}class Vxe extends oV{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const mv="$chartjs",qxe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},r6=e=>e===null||e==="";function Wxe(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[mv]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",r6(s)){const i=BP(e,"width");i!==void 0&&(e.width=i)}if(r6(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=BP(e,"height");i!==void 0&&(e.height=i)}return e}const lV=G0e?{passive:!0}:!1;function Hxe(e,t,n){e&&e.addEventListener(t,n,lV)}function Yxe(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,lV)}function Gxe(e,t){const n=qxe[e.type]||e.type,{x:r,y:s}=qu(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:s!==void 0?s:null}}function R1(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Kxe(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||R1(l.addedNodes,r),a=a&&!R1(l.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function Qxe(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||R1(l.removedNodes,r),a=a&&!R1(l.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const i0=new Map;let s6=0;function cV(){const e=window.devicePixelRatio;e!==s6&&(s6=e,i0.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Xxe(e,t){i0.size||window.addEventListener("resize",cV),i0.set(e,t)}function Jxe(e){i0.delete(e),i0.size||window.removeEventListener("resize",cV)}function Zxe(e,t,n){const r=e.canvas,s=r&&J4(r);if(!s)return;const i=FU((l,c)=>{const u=s.clientWidth;n(l,c),u<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(s),Xxe(e,i),a}function y5(e,t,n){n&&n.disconnect(),t==="resize"&&Jxe(e)}function eye(e,t,n){const r=e.canvas,s=FU(i=>{e.ctx!==null&&n(Gxe(i,e))},e);return Hxe(r,t,s),s}class tye extends oV{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(Wxe(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[mv])return!1;const r=n[mv].initial;["height","width"].forEach(i=>{const a=r[i];Sn(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[mv],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),a={attach:Kxe,detach:Qxe,resize:Zxe}[n]||eye;s[n]=a(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),s=r[n];if(!s)return;({attach:y5,detach:y5,resize:y5}[n]||Yxe)(t,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,s){return Y0e(t,n,r,s)}isAttached(t){const n=t&&J4(t);return!!(n&&n.isConnected)}}function nye(e){return!X4()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Vxe:tye}var Vy;let ju=(Vy=class{constructor(){le(this,"x");le(this,"y");le(this,"active",!1);le(this,"options");le(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return n0(this.x)&&n0(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const s={};return t.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},le(Vy,"defaults",{}),le(Vy,"defaultRoutes"),Vy);function rye(e,t){const n=e.options.ticks,r=sye(e),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?aye(t):[],a=i.length,l=i[0],c=i[a-1],u=[];if(a>s)return oye(t,u,i,a/s),u;const d=iye(i,t,s);if(a>0){let h,f;const p=a>1?Math.round((c-l)/(a-1)):null;for(Ty(t,u,d,Sn(p)?0:l-p,l),h=0,f=a-1;h<f;h++)Ty(t,u,d,i[h],i[h+1]);return Ty(t,u,d,c,Sn(p)?t.length:c+p),u}return Ty(t,u,d),u}function sye(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}function iye(e,t,n){const r=lye(e),s=t.length/n;if(!r)return Math.max(s,1);const i=Hge(r);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function aye(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function oye(e,t,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<e.length;a++)a===i&&(t.push(e[a]),s++,i=n[s*r])}function Ty(e,t,n,r,s){const i=sn(r,0),a=Math.min(sn(s,e.length),e.length);let l=0,c,u,d;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),d=i;d<0;)l++,d=Math.round(i+l*n);for(u=Math.max(i,0);u<a;u++)u===d&&(t.push(e[u]),l++,d=Math.round(i+l*n))}function lye(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const cye=e=>e==="left"?"right":e==="right"?"left":e,i6=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,a6=(e,t)=>Math.min(t||e,e);function o6(e,t){const n=[],r=e.length/t,s=e.length;let i=0;for(;i<s;i+=r)n.push(e[Math.floor(i)]);return n}function uye(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),i=e._startPixel,a=e._endPixel,l=1e-6;let c=e.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(c-i,a-c):t===0?u=(e.getPixelForTick(1)-c)/2:u=(c-e.getPixelForTick(s-1))/2,c+=s<t?u:-u,c<i-l||c>a+l)))return c}function dye(e,t){Pn(e,n=>{const r=n.gc,s=r.length/2;let i;if(s>t){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function cm(e){return e.drawTicks?e.tickLength:0}function l6(e,t){if(!e.display)return 0;const n=Ds(e.font,t),r=Sa(e.padding);return(Ur(e.text)?e.text.length:1)*n.lineHeight+r.height}function hye(e,t){return Ud(e,{scale:t,type:"scale"})}function fye(e,t,n){return Ud(e,{tick:n,index:t,type:"tick"})}function pye(e,t,n){let r=H4(e);return(n&&t!=="right"||!n&&t==="right")&&(r=cye(r)),r}function mye(e,t,n,r){const{top:s,left:i,bottom:a,right:l,chart:c}=e,{chartArea:u,scales:d}=c;let h=0,f,p,g;const x=a-s,b=l-i;if(e.isHorizontal()){if(p=Ps(r,i,l),dn(n)){const v=Object.keys(n)[0],y=n[v];g=d[v].getPixelForValue(y)+x-t}else n==="center"?g=(u.bottom+u.top)/2+x-t:g=i6(e,n,t);f=l-i}else{if(dn(n)){const v=Object.keys(n)[0],y=n[v];p=d[v].getPixelForValue(y)-b+t}else n==="center"?p=(u.left+u.right)/2-b+t:p=i6(e,n,t);g=Ps(r,a,s),h=n==="left"?-Ga:Ga}return{titleX:p,titleY:g,maxWidth:f,rotation:h}}class hp extends ju{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return t=wo(t,Number.POSITIVE_INFINITY),n=wo(n,Number.NEGATIVE_INFINITY),r=wo(r,Number.POSITIVE_INFINITY),s=wo(s,Number.NEGATIVE_INFINITY),{min:wo(t,r),max:wo(n,s),minDefined:zs(t),maxDefined:zs(n)}}getMinMax(t){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,t),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:wo(n,wo(r,n)),max:wo(r,wo(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Hn(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=k0e(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?o6(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=rye(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Hn(this.options.afterUpdate,[this])}beforeSetDimensions(){Hn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Hn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Hn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Hn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r],i.label=Hn(n.callback,[i.value,r,t],this)}afterTickToLabelConversion(){Hn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Hn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=a6(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=qi(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/r:p/(r-1),h+6>l&&(l=p/(r-(t.offset?.5:1)),c=this.maxHeight-cm(t.grid)-n.padding-l6(t.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),a=Qge(Math.min(Math.asin(qi((d.highest.height+6)/l,-1,1)),Math.asin(qi(c/u,-1,1))-Math.asin(qi(f/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Hn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Hn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=l6(s,n.options.font);if(l?(t.width=this.maxWidth,t.height=cm(i)+c):(t.height=this.maxHeight,t.width=cm(i)+c),r.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),p=r.padding*2,g=td(this.labelRotation),x=Math.cos(g),b=Math.sin(g);if(l){const v=r.mirror?0:b*h.width+x*f.height;t.height=Math.min(this.maxHeight,t.height+v+p)}else{const v=r.mirror?0:x*h.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+v+p)}this._calculatePadding(u,d,b,x)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,s){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?u?(f=s*t.width,p=r*n.height):(f=r*t.height,p=s*n.width):i==="start"?p=n.width:i==="end"?f=t.width:i!=="inner"&&(f=t.width/2,p=n.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+a)*this.width/(this.width-h),0)}else{let d=n.height/2,h=t.height/2;i==="start"?(d=0,h=t.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Hn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Sn(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=o6(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(n/a6(n,r));let u=0,d=0,h,f,p,g,x,b,v,y,w,_,C;for(h=0;h<n;h+=c){if(g=t[h].label,x=this._resolveTickFontOptions(h),s.font=b=x.string,v=i[b]=i[b]||{data:{},gc:[]},y=x.lineHeight,w=_=0,!Sn(g)&&!Ur(g))w=DP(s,v.data,v.gc,w,g),_=y;else if(Ur(g))for(f=0,p=g.length;f<p;++f)C=g[f],!Sn(C)&&!Ur(C)&&(w=DP(s,v.data,v.gc,w,C),_+=y);a.push(w),l.push(_),u=Math.max(w,u),d=Math.max(_,d)}dye(i,n);const E=a.indexOf(u),O=l.indexOf(d),T=$=>({width:a[$]||0,height:l[$]||0});return{first:T(0),last:T(n-1),widest:T(E),highest:T(O),widths:a,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Zge(this._alignToPixels?Ou(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=fye(this.getContext(),t,r))}return this.$context||(this.$context=hye(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=td(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=t.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:l}=s,c=i.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=cm(i),p=[],g=l.setContext(this.getContext()),x=g.display?g.width:0,b=x/2,v=function(W){return Ou(r,W,x)};let y,w,_,C,E,O,T,$,B,L,P,D;if(a==="top")y=v(this.bottom),O=this.bottom-f,$=y-b,L=v(t.top)+b,D=t.bottom;else if(a==="bottom")y=v(this.top),L=t.top,D=v(t.bottom)-b,O=y+b,$=this.top+f;else if(a==="left")y=v(this.right),E=this.right-f,T=y-b,B=v(t.left)+b,P=t.right;else if(a==="right")y=v(this.left),B=t.left,P=v(t.right)-b,E=y+b,T=this.left+f;else if(n==="x"){if(a==="center")y=v((t.top+t.bottom)/2+.5);else if(dn(a)){const W=Object.keys(a)[0],H=a[W];y=v(this.chart.scales[W].getPixelForValue(H))}L=t.top,D=t.bottom,O=y+b,$=O+f}else if(n==="y"){if(a==="center")y=v((t.left+t.right)/2);else if(dn(a)){const W=Object.keys(a)[0],H=a[W];y=v(this.chart.scales[W].getPixelForValue(H))}E=y-b,T=E-f,B=t.left,P=t.right}const F=sn(s.ticks.maxTicksLimit,h),U=Math.max(1,Math.ceil(h/F));for(w=0;w<h;w+=U){const W=this.getContext(w),H=i.setContext(W),R=l.setContext(W),G=H.lineWidth,M=H.color,ae=R.dash||[],z=R.dashOffset,I=H.tickWidth,J=H.tickColor,se=H.tickBorderDash||[],re=H.tickBorderDashOffset;_=uye(this,w,c),_!==void 0&&(C=Ou(r,_,G),u?E=T=B=P=C:O=$=L=D=C,p.push({tx1:E,ty1:O,tx2:T,ty2:$,x1:B,y1:L,x2:P,y2:D,width:G,color:M,borderDash:ae,borderDashOffset:z,tickWidth:I,tickColor:J,tickBorderDash:se,tickBorderDashOffset:re}))}return this._ticksLength=h,this._borderValue=y,p}_computeLabelItems(t){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=i,f=cm(r.grid),p=f+d,g=h?-d:p,x=-td(this.labelRotation),b=[];let v,y,w,_,C,E,O,T,$,B,L,P,D="middle";if(s==="top")E=this.bottom-g,O=this._getXAxisLabelAlignment();else if(s==="bottom")E=this.top+g,O=this._getXAxisLabelAlignment();else if(s==="left"){const U=this._getYAxisLabelAlignment(f);O=U.textAlign,C=U.x}else if(s==="right"){const U=this._getYAxisLabelAlignment(f);O=U.textAlign,C=U.x}else if(n==="x"){if(s==="center")E=(t.top+t.bottom)/2+p;else if(dn(s)){const U=Object.keys(s)[0],W=s[U];E=this.chart.scales[U].getPixelForValue(W)+p}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")C=(t.left+t.right)/2-p;else if(dn(s)){const U=Object.keys(s)[0],W=s[U];C=this.chart.scales[U].getPixelForValue(W)}O=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));const F=this._getLabelSizes();for(v=0,y=l.length;v<y;++v){w=l[v],_=w.label;const U=i.setContext(this.getContext(v));T=this.getPixelForTick(v)+i.labelOffset,$=this._resolveTickFontOptions(v),B=$.lineHeight,L=Ur(_)?_.length:1;const W=L/2,H=U.color,R=U.textStrokeColor,G=U.textStrokeWidth;let M=O;a?(C=T,O==="inner"&&(v===y-1?M=this.options.reverse?"left":"right":v===0?M=this.options.reverse?"right":"left":M="center"),s==="top"?u==="near"||x!==0?P=-L*B+B/2:u==="center"?P=-F.highest.height/2-W*B+B:P=-F.highest.height+B/2:u==="near"||x!==0?P=B/2:u==="center"?P=F.highest.height/2-W*B:P=F.highest.height-L*B,h&&(P*=-1),x!==0&&!U.showLabelBackdrop&&(C+=B/2*Math.sin(x))):(E=T,P=(1-L)*B/2);let ae;if(U.showLabelBackdrop){const z=Sa(U.backdropPadding),I=F.heights[v],J=F.widths[v];let se=P-z.top,re=0-z.left;switch(D){case"middle":se-=I/2;break;case"bottom":se-=I;break}switch(O){case"center":re-=J/2;break;case"right":re-=J;break;case"inner":v===y-1?re-=J:v>0&&(re-=J/2);break}ae={left:re,top:se,width:J+z.width,height:I+z.height,color:U.backdropColor}}b.push({label:_,font:$,textOffset:P,options:{rotation:x,color:H,strokeColor:R,strokeWidth:G,textAlign:M,textBaseline:D,translation:[C,E],backdrop:ae}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-td(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=t+i,c=a.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,s,i,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,a;const l=(c,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=Ou(t,this.left,a)-a/2,d=Ou(t,this.right,l)+l/2,h=f=c):(h=Ou(t,this.top,a)-a/2,f=Ou(t,this.bottom,l)+l/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Hb(r,s);const i=this.getLabelItems(t);for(const a of i){const l=a.options,c=a.font,u=a.label,d=a.textOffset;s0(r,u,0,d,c,l)}s&&Yb(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Ds(r.font),a=Sa(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||dn(n)?(c+=a.bottom,Ur(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=mye(this,c,n,l);s0(t,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:f,textAlign:pye(l,n,s),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=sn(t.grid&&t.grid.z,-1),s=sn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==hp.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];l[r]===this.id&&(!t||l.type===t)&&s.push(l)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Ds(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class My{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;yye(n)&&(r=this.register(n));const s=this.items,i=t.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in s||(s[i]=t,gye(t,a,r),this.override&&Tr.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,s=this.scope;r in n&&delete n[r],s&&r in Tr[s]&&(delete Tr[s][r],this.override&&delete Id[r])}}function gye(e,t,n){const r=e0(Object.create(null),[n?Tr.get(n):{},Tr.get(t),e.defaults]);Tr.set(t,r),e.defaultRoutes&&xye(t,e.defaultRoutes),e.descriptors&&Tr.describe(t,e.descriptors)}function xye(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),i=[e].concat(r).join("."),a=t[n].split("."),l=a.pop(),c=a.join(".");Tr.route(i,s,c,l)})}function yye(e){return"id"in e&&"defaults"in e}class vye{constructor(){this.controllers=new My(pf,"datasets",!0),this.elements=new My(ju,"elements"),this.plugins=new My(Object,"plugins"),this.scales=new My(hp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(t,i,s):Pn(s,a=>{const l=r||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,n,r){const s=q4(t);Hn(r["before"+s],[],r),n[t](r),Hn(r["after"+s],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return s}}var _o=new vye;class bye{constructor(){this._init=[]}notify(t,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(i,t,n,r);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,r,s){s=s||{};for(const i of t){const a=i.plugin,l=a[r],c=[n,s,i.options];if(Hn(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Sn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,s=sn(r.options&&r.options.plugins,{}),i=wye(r);return s===!1&&!n?[]:Nye(t,i,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),t,"stop"),this._notify(s(r,n),t,"start")}}function wye(e){const t={},n=[],r=Object.keys(_o.plugins.items);for(let i=0;i<r.length;i++)n.push(_o.getPlugin(r[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function jye(e,t){return!t&&e===!1?null:e===!0?{}:e}function Nye(e,{plugins:t,localIds:n},r,s){const i=[],a=e.getContext();for(const l of t){const c=l.id,u=jye(r[c],s);u!==null&&i.push({plugin:l,options:Sye(e.config,{plugin:l,local:n[c]},u,a)})}return i}function Sye(e,{plugin:t,local:n},r,s){const i=e.pluginScopeKeys(t),a=e.getOptionScopes(r,i);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function BN(e,t){const n=Tr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function kye(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function _ye(e,t){return e===t?"_index_":"_value_"}function c6(e){if(e==="x"||e==="y"||e==="r")return e}function Cye(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function $N(e,...t){if(c6(e))return e;for(const n of t){const r=n.axis||Cye(n.position)||e.length>1&&c6(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function u6(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Aye(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return u6(e,"x",n[0])||u6(e,"y",n[0])}return{}}function Pye(e,t){const n=Id[e.type]||{scales:{}},r=t.scales||{},s=BN(e.type,t),i=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!dn(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=$N(a,l,Aye(a,e),Tr.scales[l.type]),u=_ye(c,s),d=n.scales||{};i[a]=Gm(Object.create(null),[{axis:c},l,d[c],d[u]])}),e.data.datasets.forEach(a=>{const l=a.type||e.type,c=a.indexAxis||BN(l,t),d=(Id[l]||{}).scales||{};Object.keys(d).forEach(h=>{const f=kye(h,c),p=a[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),Gm(i[p],[{axis:f},r[p],d[h]])})}),Object.keys(i).forEach(a=>{const l=i[a];Gm(l,[Tr.scales[l.type],Tr.scale])}),i}function uV(e){const t=e.options||(e.options={});t.plugins=sn(t.plugins,{}),t.scales=Pye(e,t)}function dV(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Eye(e){return e=e||{},e.data=dV(e.data),uV(e),e}const d6=new Map,hV=new Set;function Ly(e,t){let n=d6.get(e);return n||(n=t(),d6.set(e,n),hV.add(n)),n}const um=(e,t,n)=>{const r=Qf(t,n);r!==void 0&&e.add(r)};class Tye{constructor(t){this._config=Eye(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=dV(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),uV(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ly(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Ly(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Ly(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Ly(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let s=r.get(t);return(!s||n)&&(s=new Map,r.set(t,s)),s}getOptionScopes(t,n,r){const{options:s,type:i}=this,a=this._cachedScopes(t,r),l=a.get(n);if(l)return l;const c=new Set;n.forEach(d=>{t&&(c.add(t),d.forEach(h=>um(c,t,h))),d.forEach(h=>um(c,s,h)),d.forEach(h=>um(c,Id[i]||{},h)),d.forEach(h=>um(c,Tr,h)),d.forEach(h=>um(c,FN,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),hV.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,Id[n]||{},Tr.datasets[n]||{},{type:n},Tr,FN]}resolveNamedOptions(t,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=h6(this._resolverCache,t,s);let c=a;if(Lye(a,n)){i.$shared=!1,r=du(r)?r():r;const u=this.createResolver(t,r,l);c=Xf(a,r,u)}for(const u of n)i[u]=c[u];return i}createResolver(t,n,r=[""],s){const{resolver:i}=h6(this._resolverCache,t,r);return dn(n)?Xf(i,n,void 0,s):i}}function h6(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let i=r.get(s);return i||(i={resolver:G4(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const Mye=e=>dn(e)&&Object.getOwnPropertyNames(e).some(t=>du(e[t]));function Lye(e,t){const{isScriptable:n,isIndexable:r}=WU(e);for(const s of t){const i=n(s),a=r(s),l=(a||i)&&e[s];if(i&&(du(l)||Mye(l))||a&&Ur(l))return!0}return!1}var Iye="4.5.0";const Dye=["top","bottom","left","right","chartArea"];function f6(e,t){return e==="top"||e==="bottom"||Dye.indexOf(e)===-1&&t==="x"}function p6(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function m6(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Hn(n&&n.onComplete,[e],t)}function Rye(e){const t=e.chart,n=t.options.animation;Hn(n&&n.onProgress,[e],t)}function fV(e){return X4()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const gv={},g6=e=>{const t=fV(e);return Object.values(gv).filter(n=>n.canvas===t).pop()};function Oye(e,t,n){const r=Object.keys(e);for(const s of r){const i=+s;if(i>=t){const a=e[s];delete e[s],(n>0||i>t)&&(e[i+n]=a)}}}function Fye(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}var mc;let J0=(mc=class{static register(...t){_o.add(...t),x6()}static unregister(...t){_o.remove(...t),x6()}constructor(t,n){const r=this.config=new Tye(n),s=fV(t),i=g6(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||nye(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Oge(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bye,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=r0e(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],gv[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}bl.listen(this,"complete",m6),bl.listen(this,"progress",Rye),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return Sn(t)?n&&i?i:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return _o}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return RP(this.canvas,this.ctx),this}stop(){return bl.stop(this),this}resize(t,n){bl.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,zP(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Hn(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Pn(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const l=n[a],c=$N(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Pn(i,a=>{const l=a.options,c=l.id,u=$N(c,l),d=sn(l.type,a.dtype);(l.position===void 0||f6(l.position,u)!==f6(a.dposition))&&(l.position=a.dposition),s[c]=!0;let h=null;if(c in r&&r[c].type===d)h=r[c];else{const f=_o.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(l,t)}),Pn(s,(a,l)=>{a||delete r[l]}),Pn(r,a=>{xa.configure(this,a,a.options),xa.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(p6("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=i.indexAxis||BN(l,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=_o.getController(l),{datasetElementType:u,dataElementType:d}=Tr.datasets[l];Object.assign(c,{dataElementType:_o.getElement(d),datasetElementType:u&&_o.getElement(u)}),a.controller=new c(this,r),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Pn(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||Pn(i,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(p6("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Pn(this.scales,t=>{xa.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!_P(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;Oye(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(t.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!_P(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xa.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Pn(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,du(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bl.has(this)?this.attached&&!bl.running(this)&&bl.start(this):(this.draw(),m6({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!t||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=tV(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Hb(n,s),t.controller.draw(),s&&Yb(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return r0(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const i=Dxe.modes[n];return typeof i=="function"?i(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Ud(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(t),a=i.controller._resolveAnimations(void 0,s);t0(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(i,{visible:r}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),bl.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),RP(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete gv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),t[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};Pn(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),t[c]=u},s=(c,u)=>{t[c]&&(n.removeEventListener(this,c,u),delete t[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Pn(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Pn(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let i,a,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){a=t[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!T1(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const s=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=i(n,t),l=r?t:i(t,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:i}=this,a=n,l=this._getActiveElements(t,s,r,a),c=Vge(t),u=Fye(t,this._lastEvent,r,c);r&&(this._lastEvent=null,Hn(i.onHover,[t,l,this],this),c&&Hn(i.onClick,[t,l,this],this));const d=!T1(l,s);return(d||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=u,d}_getActiveElements(t,n,r,s){if(t.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,s)}},le(mc,"defaults",Tr),le(mc,"instances",gv),le(mc,"overrides",Id),le(mc,"registry",_o),le(mc,"version",Iye),le(mc,"getChart",g6),mc);function x6(){return Pn(J0.instances,e=>e._plugins.invalidate())}function pV(e,t,n=t){e.lineCap=sn(n.borderCapStyle,t.borderCapStyle),e.setLineDash(sn(n.borderDash,t.borderDash)),e.lineDashOffset=sn(n.borderDashOffset,t.borderDashOffset),e.lineJoin=sn(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=sn(n.borderWidth,t.borderWidth),e.strokeStyle=sn(n.borderColor,t.borderColor)}function zye(e,t,n){e.lineTo(n.x,n.y)}function Bye(e){return e.stepped?g0e:e.tension||e.cubicInterpolationMode==="monotone"?x0e:zye}function mV(e,t,n={}){const r=e.length,{start:s=0,end:i=r-1}=n,{start:a,end:l}=t,c=Math.max(s,a),u=Math.min(i,l),d=s<a&&i<a||s>l&&i>l;return{count:r,start:c,loop:t.loop,ilen:u<c&&!d?r+u-c:u-c}}function $ye(e,t,n,r){const{points:s,options:i}=t,{count:a,start:l,loop:c,ilen:u}=mV(s,n,r),d=Bye(i);let{move:h=!0,reverse:f}=r||{},p,g,x;for(p=0;p<=u;++p)g=s[(l+(f?u-p:p))%a],!g.skip&&(h?(e.moveTo(g.x,g.y),h=!1):d(e,x,g,f,i.stepped),x=g);return c&&(g=s[(l+(f?u:0))%a],d(e,x,g,f,i.stepped)),!!c}function Uye(e,t,n,r){const s=t.points,{count:i,start:a,ilen:l}=mV(s,n,r),{move:c=!0,reverse:u}=r||{};let d=0,h=0,f,p,g,x,b,v;const y=_=>(a+(u?l-_:_))%i,w=()=>{x!==b&&(e.lineTo(d,b),e.lineTo(d,x),e.lineTo(d,v))};for(c&&(p=s[y(0)],e.moveTo(p.x,p.y)),f=0;f<=l;++f){if(p=s[y(f)],p.skip)continue;const _=p.x,C=p.y,E=_|0;E===g?(C<x?x=C:C>b&&(b=C),d=(h*d+_)/++h):(w(),e.lineTo(_,C),g=E,h=0,x=b=C),v=C}w()}function UN(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?Uye:$ye}function Vye(e){return e.stepped?K0e:e.tension||e.cubicInterpolationMode==="monotone"?Q0e:Wu}function qye(e,t,n,r){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,r)&&s.closePath()),pV(e,t.options),e.stroke(s)}function Wye(e,t,n,r){const{segments:s,options:i}=t,a=UN(t);for(const l of s)pV(e,i,l.style),e.beginPath(),a(e,t,l,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const Hye=typeof Path2D=="function";function Yye(e,t,n,r){Hye&&!t.options.segment?qye(e,t,n,r):Wye(e,t,n,r)}class El extends ju{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;$0e(this._points,r,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=nxe(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,s=t[n],i=this.points,a=eV(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],c=Vye(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:f}=a[u],p=i[h],g=i[f];if(p===g){l.push(p);continue}const x=Math.abs((s-p[n])/(g[n]-p[n])),b=c(p,g,x,r.stepped);b[n]=t[n],l.push(b)}return l.length===1?l[0]:l}pathSegment(t,n,r){return UN(this)(t,this,n,r)}path(t,n,r){const s=this.segments,i=UN(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)a&=i(t,this,l,{start:n,end:n+r-1});return!!a}draw(t,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),Yye(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}le(El,"id","line"),le(El,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),le(El,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),le(El,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function y6(e,t,n,r){const s=e.options,{[n]:i}=e.getProps([n],r);return Math.abs(t-i)<s.radius+s.hitRadius}class Jm extends ju{constructor(n){super();le(this,"parsed");le(this,"skip");le(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(r-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return y6(this,n,"x",r)}inYRange(n,r){return y6(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!r0(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,zN(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}le(Jm,"id","point"),le(Jm,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),le(Jm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function gV(e,t){const{x:n,y:r,base:s,width:i,height:a}=e.getProps(["x","y","base","width","height"],t);let l,c,u,d,h;return e.horizontal?(h=a/2,l=Math.min(n,s),c=Math.max(n,s),u=r-h,d=r+h):(h=i/2,l=n-h,c=n+h,u=Math.min(r,s),d=Math.max(r,s)),{left:l,top:u,right:c,bottom:d}}function zc(e,t,n,r){return e?0:qi(t,n,r)}function Gye(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,i=qU(r);return{t:zc(s.top,i.top,0,n),r:zc(s.right,i.right,0,t),b:zc(s.bottom,i.bottom,0,n),l:zc(s.left,i.left,0,t)}}function Kye(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=hf(s),a=Math.min(t,n),l=e.borderSkipped,c=r||dn(s);return{topLeft:zc(!c||l.top||l.left,i.topLeft,0,a),topRight:zc(!c||l.top||l.right,i.topRight,0,a),bottomLeft:zc(!c||l.bottom||l.left,i.bottomLeft,0,a),bottomRight:zc(!c||l.bottom||l.right,i.bottomRight,0,a)}}function Qye(e){const t=gV(e),n=t.right-t.left,r=t.bottom-t.top,s=Gye(e,n/2,r/2),i=Kye(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function v5(e,t,n,r){const s=t===null,i=n===null,l=e&&!(s&&i)&&gV(e,r);return l&&(s||Fc(t,l.left,l.right))&&(i||Fc(n,l.top,l.bottom))}function Xye(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Jye(e,t){e.rect(t.x,t.y,t.w,t.h)}function b5(e,t,n={}){const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+i,h:e.h+a,radius:e.radius}}class Zm extends ju{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:a}=Qye(this),l=Xye(a.radius)?I1:Jye;t.save(),(a.w!==i.w||a.h!==i.h)&&(t.beginPath(),l(t,b5(a,n,i)),t.clip(),l(t,b5(i,-n,a)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),l(t,b5(i,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,r){return v5(this,t,n,r)}inXRange(t,n){return v5(this,t,null,n)}inYRange(t,n){return v5(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}le(Zm,"id","bar"),le(Zm,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),le(Zm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Zye(e,t,n){const r=e.segments,s=e.points,i=t.points,a=[];for(const l of r){let{start:c,end:u}=l;u=Kb(c,u,s);const d=VN(n,s[c],s[u],l.loop);if(!t.segments){a.push({source:l,target:d,start:s[c],end:s[u]});continue}const h=eV(t,d);for(const f of h){const p=VN(n,i[f.start],i[f.end],f.loop),g=ZU(l,s,p);for(const x of g)a.push({source:x,target:f,start:{[n]:v6(d,p,"start",Math.max)},end:{[n]:v6(d,p,"end",Math.min)}})}}return a}function VN(e,t,n,r){if(r)return;let s=t[e],i=n[e];return e==="angle"&&(s=Co(s),i=Co(i)),{property:e,start:s,end:i}}function eve(e,t){const{x:n=null,y:r=null}=e||{},s=t.points,i=[];return t.segments.forEach(({start:a,end:l})=>{l=Kb(a,l,s);const c=s[a],u=s[l];r!==null?(i.push({x:c.x,y:r}),i.push({x:u.x,y:r})):n!==null&&(i.push({x:n,y:c.y}),i.push({x:n,y:u.y}))}),i}function Kb(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function v6(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function xV(e,t){let n=[],r=!1;return Ur(e)?(r=!0,n=e):n=eve(e,t),n.length?new El({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function b6(e){return e&&e.fill!==!1}function tve(e,t,n){let s=e[t].fill;const i=[t];let a;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!zs(s))return s;if(a=e[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function nve(e,t,n){const r=ave(e);if(dn(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return zs(s)&&Math.floor(s)===s?rve(r[0],t,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function rve(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function sve(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:dn(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function ive(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:dn(e)?r=e.value:r=t.getBaseValue(),r}function ave(e){const t=e.options,n=t.fill;let r=sn(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function ove(e){const{scale:t,index:n,line:r}=e,s=[],i=r.segments,a=r.points,l=lve(t,n);l.push(xV({x:null,y:t.bottom},r));for(let c=0;c<i.length;c++){const u=i[c];for(let d=u.start;d<=u.end;d++)cve(s,a[d],l)}return new El({points:s,options:{}})}function lve(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===t)break;i.hidden||n.unshift(i.dataset)}return n}function cve(e,t,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:a,last:l,point:c}=uve(i,t,"x");if(!(!c||a&&l)){if(a)r.unshift(c);else if(e.push(c),!l)break}}e.push(...r)}function uve(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const s=r[n],i=e.segments,a=e.points;let l=!1,c=!1;for(let u=0;u<i.length;u++){const d=i[u],h=a[d.start][n],f=a[d.end][n];if(Fc(s,h,f)){l=s===h,c=s===f;break}}return{first:l,last:c,point:r}}class yV{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:s,y:i,radius:a}=this;return n=n||{start:0,end:eo},t.arc(s,i,a,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:s}=this,i=t.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function dve(e){const{chart:t,fill:n,line:r}=e;if(zs(n))return hve(t,n);if(n==="stack")return ove(e);if(n==="shape")return!0;const s=fve(e);return s instanceof yV?s:xV(s,r)}function hve(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function fve(e){return(e.scale||{}).getPointPositionForValue?mve(e):pve(e)}function pve(e){const{scale:t={},fill:n}=e,r=sve(n,t);if(zs(r)){const s=t.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function mve(e){const{scale:t,fill:n}=e,r=t.options,s=t.getLabels().length,i=r.reverse?t.max:t.min,a=ive(n,t,i),l=[];if(r.grid.circular){const c=t.getPointPositionForValue(0,i);return new yV({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(a)})}for(let c=0;c<s;++c)l.push(t.getPointPositionForValue(c,a));return l}function w5(e,t,n){const r=dve(t),{chart:s,index:i,line:a,scale:l,axis:c}=t,u=a.options,d=u.fill,h=u.backgroundColor,{above:f=h,below:p=h}=d||{},g=s.getDatasetMeta(i),x=tV(s,g);r&&a.points.length&&(Hb(e,n),gve(e,{line:a,target:r,above:f,below:p,area:n,scale:l,axis:c,clip:x}),Yb(e))}function gve(e,t){const{line:n,target:r,above:s,below:i,area:a,scale:l,clip:c}=t,u=n._loop?"angle":t.axis;e.save();let d=i;i!==s&&(u==="x"?(w6(e,r,a.top),j5(e,{line:n,target:r,color:s,scale:l,property:u,clip:c}),e.restore(),e.save(),w6(e,r,a.bottom)):u==="y"&&(j6(e,r,a.left),j5(e,{line:n,target:r,color:i,scale:l,property:u,clip:c}),e.restore(),e.save(),j6(e,r,a.right),d=s)),j5(e,{line:n,target:r,color:d,scale:l,property:u,clip:c}),e.restore()}function w6(e,t,n){const{segments:r,points:s}=t;let i=!0,a=!1;e.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],h=s[Kb(c,u,s)];i?(e.moveTo(d.x,d.y),i=!1):(e.lineTo(d.x,n),e.lineTo(d.x,d.y)),a=!!t.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function j6(e,t,n){const{segments:r,points:s}=t;let i=!0,a=!1;e.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],h=s[Kb(c,u,s)];i?(e.moveTo(d.x,d.y),i=!1):(e.lineTo(n,d.y),e.lineTo(d.x,d.y)),a=!!t.pathSegment(e,l,{move:a}),a?e.closePath():e.lineTo(n,h.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function j5(e,t){const{line:n,target:r,property:s,color:i,scale:a,clip:l}=t,c=Zye(n,r,s);for(const{source:u,target:d,start:h,end:f}of c){const{style:{backgroundColor:p=i}={}}=u,g=r!==!0;e.save(),e.fillStyle=p,xve(e,a,l,g&&VN(s,h,f)),e.beginPath();const x=!!n.pathSegment(e,u);let b;if(g){x?e.closePath():N6(e,r,f,s);const v=!!r.pathSegment(e,d,{move:x,reverse:!0});b=x&&v,b||N6(e,r,h,s)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function xve(e,t,n,r){const s=t.chart.chartArea,{property:i,start:a,end:l}=r||{};if(i==="x"||i==="y"){let c,u,d,h;i==="x"?(c=a,u=s.top,d=l,h=s.bottom):(c=s.left,u=a,d=s.right,h=l),e.beginPath(),n&&(c=Math.max(c,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),h=Math.min(h,n.bottom)),e.rect(c,u,d-c,h-u),e.clip()}}function N6(e,t,n,r){const s=t.interpolate(n,r);s&&e.lineTo(s.x,s.y)}var vV={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,s=[];let i,a,l,c;for(a=0;a<r;++a)i=e.getDatasetMeta(a),l=i.dataset,c=null,l&&l.options&&l instanceof El&&(c={visible:e.isDatasetVisible(a),index:a,fill:nve(l,a,r),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,s.push(c);for(a=0;a<r;++a)c=s[a],!(!c||c.fill===!1)&&(c.fill=tve(s,a,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(i,l.axis),r&&l.fill&&w5(e.ctx,l,i))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;b6(i)&&w5(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!b6(r)||n.drawTime!=="beforeDatasetDraw"||w5(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const S6=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},yve=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class k6 extends ju{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Hn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,s)=>t.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,s=Ds(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=S6(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,l,c)+10):(d=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let h=t;i.textAlign="left",i.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((g,x)=>{const b=r+n/2+i.measureText(g.text).width;(x===0||u[u.length-1]+b+2*l>a)&&(h+=d,u[u.length-(x>0?0:1)]=0,p+=d,f++),c[x]={left:0,top:p,row:f,width:b,height:s},u[u.length-1]+=b+l}),h}_fitCols(t,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-t;let h=l,f=0,p=0,g=0,x=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:y,itemHeight:w}=vve(r,n,i,b,s);v>0&&p+w+2*l>d&&(h+=f+l,u.push({width:f,height:p}),g+=f+l,x++,f=p=0),c[v]={left:g,top:p,col:x,width:y,height:w},f=Math.max(f,y),p+=w+l}),h+=f,u.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=ff(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Ps(r,this.left+s,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=Ps(r,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+t+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=Ps(r,this.top+t+s,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=Ps(r,this.top+t+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Hb(t,this),this._draw(),Yb(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=t,l=Tr.color,c=ff(t.rtl,this.left,this.width),u=Ds(a.font),{padding:d}=a,h=u.size,f=h/2;let p;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:g,boxHeight:x,itemHeight:b}=S6(a,h),v=function(E,O,T){if(isNaN(g)||g<=0||isNaN(x)||x<0)return;s.save();const $=sn(T.lineWidth,1);if(s.fillStyle=sn(T.fillStyle,l),s.lineCap=sn(T.lineCap,"butt"),s.lineDashOffset=sn(T.lineDashOffset,0),s.lineJoin=sn(T.lineJoin,"miter"),s.lineWidth=$,s.strokeStyle=sn(T.strokeStyle,l),s.setLineDash(sn(T.lineDash,[])),a.usePointStyle){const B={radius:x*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:$},L=c.xPlus(E,g/2),P=O+f;UU(s,B,L,P,a.pointStyleWidth&&g)}else{const B=O+Math.max((h-x)/2,0),L=c.leftForLtr(E,g),P=hf(T.borderRadius);s.beginPath(),Object.values(P).some(D=>D!==0)?I1(s,{x:L,y:B,w:g,h:x,radius:P}):s.rect(L,B,g,x),s.fill(),$!==0&&s.stroke()}s.restore()},y=function(E,O,T){s0(s,T.text,E,O+b/2,u,{strikethrough:T.hidden,textAlign:c.textAlign(T.textAlign)})},w=this.isHorizontal(),_=this._computeTitleHeight();w?p={x:Ps(i,this.left+d,this.right-r[0]),y:this.top+d+_,line:0}:p={x:this.left+d,y:Ps(i,this.top+_+d,this.bottom-n[0].height),line:0},QU(this.ctx,t.textDirection);const C=b+d;this.legendItems.forEach((E,O)=>{s.strokeStyle=E.fontColor,s.fillStyle=E.fontColor;const T=s.measureText(E.text).width,$=c.textAlign(E.textAlign||(E.textAlign=a.textAlign)),B=g+f+T;let L=p.x,P=p.y;c.setWidth(this.width),w?O>0&&L+B+d>this.right&&(P=p.y+=C,p.line++,L=p.x=Ps(i,this.left+d,this.right-r[p.line])):O>0&&P+C>this.bottom&&(L=p.x=L+n[p.line].width+d,p.line++,P=p.y=Ps(i,this.top+_+d,this.bottom-n[p.line].height));const D=c.x(L);if(v(D,P,E),L=s0e($,L+g+f,w?L+B:this.right,t.rtl),y(c.x(L),P,E),w)p.x+=B+d;else if(typeof E.text!="string"){const F=u.lineHeight;p.y+=bV(E,F)+d}else p.y+=C}),XU(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Ds(n.font),s=Sa(n.padding);if(!n.display)return;const i=ff(t.rtl,this.left,this.width),a=this.ctx,l=n.position,c=r.size/2,u=s.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=Ps(t.align,h,this.right-f);else{const g=this.columnSizes.reduce((x,b)=>Math.max(x,b.height),0);d=u+Ps(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const p=Ps(l,h,h+f);a.textAlign=i.textAlign(H4(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,s0(a,n.text,p,d,r)}_computeTitleHeight(){const t=this.options.title,n=Ds(t.font),r=Sa(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,s,i;if(Fc(t,this.left,this.right)&&Fc(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Fc(t,s.left,s.left+s.width)&&Fc(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!jve(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,i=yve(s,r);s&&!i&&Hn(n.onLeave,[t,s,this],this),this._hoveredItem=r,r&&!i&&Hn(n.onHover,[t,r,this],this)}else r&&Hn(n.onClick,[t,r,this],this)}}function vve(e,t,n,r,s){const i=bve(r,e,t,n),a=wve(s,r,t.lineHeight);return{itemWidth:i,itemHeight:a}}function bve(e,t,n,r){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),t+n.size/2+r.measureText(s).width}function wve(e,t,n){let r=e;return typeof t.text!="string"&&(r=bV(t,n)),r}function bV(e,t){const n=e.text?e.text.length:0;return t*n}function jve(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var wV={id:"legend",_element:k6,start(e,t,n){const r=e.legend=new k6({ctx:e.ctx,options:n,chart:e});xa.configure(e,r,n),xa.addBox(e,r)},stop(e){xa.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;xa.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=Sa(u.borderWidth);return{text:t[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class jV extends ju{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Ur(r.text)?r.text.length:1;this._padding=Sa(r.padding);const i=s*Ds(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:s,right:i,options:a}=this,l=a.align;let c=0,u,d,h;return this.isHorizontal()?(d=Ps(l,r,i),h=n+t,u=i-r):(a.position==="left"?(d=r+t,h=Ps(l,s,n),c=is*-.5):(d=i-t,h=Ps(l,n,s),c=is*.5),u=s-n),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=Ds(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);s0(t,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:H4(n.align),textBaseline:"middle",translation:[a,l]})}}function Nve(e,t){const n=new jV({ctx:e.ctx,options:t,chart:e});xa.configure(e,n,t),xa.addBox(e,n),e.titleBlock=n}var NV={id:"title",_element:jV,start(e,t,n){Nve(e,n)},stop(e){const t=e.titleBlock;xa.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;xa.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Cm={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,i=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=e.length;i<a;++i){const c=e[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=ON(t,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function jo(e,t){return t&&(Ur(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function wl(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Sve(e,t){const{element:n,datasetIndex:r,index:s}=t,i=e.getDatasetMeta(r).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:e,label:a,parsed:i.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function _6(e,t){const n=e.chart.ctx,{body:r,footer:s,title:i}=e,{boxWidth:a,boxHeight:l}=t,c=Ds(t.bodyFont),u=Ds(t.titleFont),d=Ds(t.footerFont),h=i.length,f=s.length,p=r.length,g=Sa(t.padding);let x=g.height,b=0,v=r.reduce((_,C)=>_+C.before.length+C.lines.length+C.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,h&&(x+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){const _=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=p*_+(v-p)*c.lineHeight+(v-1)*t.bodySpacing}f&&(x+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let y=0;const w=function(_){b=Math.max(b,n.measureText(_).width+y)};return n.save(),n.font=u.string,Pn(e.title,w),n.font=c.string,Pn(e.beforeBody.concat(e.afterBody),w),y=t.displayColors?a+2+t.boxPadding:0,Pn(r,_=>{Pn(_.before,w),Pn(_.lines,w),Pn(_.after,w)}),y=0,n.font=d.string,Pn(e.footer,w),n.restore(),b+=g.width,{width:b,height:x}}function kve(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function _ve(e,t,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(e==="left"&&s+i+a>t.width||e==="right"&&s-i-a<0)return!0}function Cve(e,t,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:l,right:c}}=e;let u="center";return r==="center"?u=s<=(l+c)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),_ve(u,e,t,n)&&(u="center"),u}function C6(e,t,n){const r=n.yAlign||t.yAlign||kve(e,n);return{xAlign:n.xAlign||t.xAlign||Cve(e,t,n,r),yAlign:r}}function Ave(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function Pve(e,t,n){let{y:r,height:s}=e;return t==="top"?r+=n:t==="bottom"?r-=s+n:r-=s/2,r}function A6(e,t,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=e,{xAlign:l,yAlign:c}=n,u=s+i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=hf(a);let g=Ave(t,l);const x=Pve(t,c,u);return c==="center"?l==="left"?g+=u:l==="right"&&(g-=u):l==="left"?g-=Math.max(d,f)+s:l==="right"&&(g+=Math.max(h,p)+s),{x:qi(g,0,r.width-t.width),y:qi(x,0,r.height-t.height)}}function Iy(e,t,n){const r=Sa(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function P6(e){return jo([],wl(e))}function Eve(e,t,n){return Ud(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function E6(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const SV={beforeTitle:gl,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:gl,beforeBody:gl,beforeLabel:gl,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Sn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:gl,afterBody:gl,beforeFooter:gl,footer:gl,afterFooter:gl};function ui(e,t,n,r){const s=e[t].call(n,r);return typeof s>"u"?SV[t].call(n,r):s}class qN extends ju{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new nV(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Eve(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=ui(r,"beforeTitle",this,t),i=ui(r,"title",this,t),a=ui(r,"afterTitle",this,t);let l=[];return l=jo(l,wl(s)),l=jo(l,wl(i)),l=jo(l,wl(a)),l}getBeforeBody(t,n){return P6(ui(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return Pn(t,i=>{const a={before:[],lines:[],after:[]},l=E6(r,i);jo(a.before,wl(ui(l,"beforeLabel",this,i))),jo(a.lines,ui(l,"label",this,i)),jo(a.after,wl(ui(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(t,n){return P6(ui(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=ui(r,"beforeFooter",this,t),i=ui(r,"footer",this,t),a=ui(r,"afterFooter",this,t);let l=[];return l=jo(l,wl(s)),l=jo(l,wl(i)),l=jo(l,wl(a)),l}_createItems(t){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(Sve(this.chart,n[c]));return t.filter&&(l=l.filter((d,h,f)=>t.filter(d,h,f,r))),t.itemSort&&(l=l.sort((d,h)=>t.itemSort(d,h,r))),Pn(l,d=>{const h=E6(t.callbacks,d);s.push(ui(h,"labelColor",this,d)),i.push(ui(h,"labelPointStyle",this,d)),a.push(ui(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=Cm[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=_6(this,r),u=Object.assign({},l,c),d=C6(this.chart,r,u),h=A6(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const i=this.getCaretPosition(t,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=hf(l),{x:f,y:p}=t,{width:g,height:x}=n;let b,v,y,w,_,C;return i==="center"?(_=p+x/2,s==="left"?(b=f,v=b-a,w=_+a,C=_-a):(b=f+g,v=b+a,w=_-a,C=_+a),y=b):(s==="left"?v=f+Math.max(c,d)+a:s==="right"?v=f+g-Math.max(u,h)-a:v=this.caretX,i==="top"?(w=p,_=w-a,b=v-a,y=v+a):(w=p+x,_=w+a,b=v+a,y=v-a),C=w),{x1:b,x2:v,x3:y,y1:w,y2:_,y3:C}}drawTitle(t,n,r){const s=this.title,i=s.length;let a,l,c;if(i){const u=ff(r.rtl,this.x,this.width);for(t.x=Iy(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=Ds(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(s[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,c+1===i&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,n,r,s,i){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=i,d=Ds(i.bodyFont),h=Iy(this,"left",i),f=s.x(h),p=c<d.lineHeight?(d.lineHeight-c)/2:0,g=n.y+p;if(i.usePointStyle){const x={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=s.leftForLtr(f,u)+u/2,v=g+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,zN(t,x,b,v),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,zN(t,x,b,v)}else{t.lineWidth=dn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const x=s.leftForLtr(f,u),b=s.leftForLtr(s.xPlus(f,1),u-2),v=hf(a.borderRadius);Object.values(v).some(y=>y!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,I1(t,{x,y:g,w:u,h:c,radius:v}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),I1(t,{x:b,y:g+1,w:u-2,h:c-2,radius:v}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(x,g,u,c),t.strokeRect(x,g,u,c),t.fillStyle=a.backgroundColor,t.fillRect(b,g+1,u-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,h=Ds(r.bodyFont);let f=h.lineHeight,p=0;const g=ff(r.rtl,this.x,this.width),x=function(T){n.fillText(T,g.x(t.x+p),t.y+f/2),t.y+=f+i},b=g.textAlign(a);let v,y,w,_,C,E,O;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,t.x=Iy(this,b,r),n.fillStyle=r.bodyColor,Pn(this.beforeBody,x),p=l&&b!=="right"?a==="center"?u/2+d:u+2+d:0,_=0,E=s.length;_<E;++_){for(v=s[_],y=this.labelTextColors[_],n.fillStyle=y,Pn(v.before,x),w=v.lines,l&&w.length&&(this._drawColorBox(n,t,_,g,r),f=Math.max(h.lineHeight,c)),C=0,O=w.length;C<O;++C)x(w[C]),f=h.lineHeight;Pn(v.after,x)}p=0,f=h.lineHeight,Pn(this.afterBody,x),t.y-=i}drawFooter(t,n,r){const s=this.footer,i=s.length;let a,l;if(i){const c=ff(r.rtl,this.x,this.width);for(t.x=Iy(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=Ds(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=t,{width:u,height:d}=r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=hf(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+h,c),a==="top"&&this.drawCaret(t,n,r,s),n.lineTo(l+u-f,c),n.quadraticCurveTo(l+u,c,l+u,c+f),a==="center"&&i==="right"&&this.drawCaret(t,n,r,s),n.lineTo(l+u,c+d-g),n.quadraticCurveTo(l+u,c+d,l+u-g,c+d),a==="bottom"&&this.drawCaret(t,n,r,s),n.lineTo(l+p,c+d),n.quadraticCurveTo(l,c+d,l,c+d-p),a==="center"&&i==="left"&&this.drawCaret(t,n,r,s),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=Cm[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=_6(this,t),c=Object.assign({},a,this._size),u=C6(n,t,c),d=A6(t,c,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Sa(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,s,n),QU(t,n.textDirection),i.y+=a.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),XU(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!T1(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(t,i,n,r),l=this._positionChanged(a,t),c=n||!T1(a,i)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,r,s){const i=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:r,caretY:s,options:i}=this,a=Cm[i.position].call(this,t,n);return a!==!1&&(r!==a.x||s!==a.y)}}le(qN,"positioners",Cm);var kV={id:"tooltip",_element:qN,positioners:Cm,afterInit(e,t,n){n&&(e.tooltip=new qN({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:SV},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Tve=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Mve(e,t,n,r){const s=e.indexOf(t);if(s===-1)return Tve(e,t,n,r);const i=e.lastIndexOf(t);return s!==i?n:s}const Lve=(e,t)=>e===null?null:qi(Math.round(e),0,t);function T6(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class O1 extends hp{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Sn(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:Mve(r,t,sn(n,t),this._addedLabels),Lve(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=t;a<=n;a++)s.push({value:a});return s}getLabelForValue(t){return T6.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}le(O1,"id","category"),le(O1,"defaults",{ticks:{callback:T6}});function Ive(e,t){const n=[],{bounds:s,step:i,min:a,max:l,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=e,p=i||1,g=d-1,{min:x,max:b}=t,v=!Sn(a),y=!Sn(l),w=!Sn(u),_=(b-x)/(h+1);let C=AP((b-x)/g/p)*p,E,O,T,$;if(C<1e-14&&!v&&!y)return[{value:x},{value:b}];$=Math.ceil(b/C)-Math.floor(x/C),$>g&&(C=AP($*C/g/p)*p),Sn(c)||(E=Math.pow(10,c),C=Math.ceil(C*E)/E),s==="ticks"?(O=Math.floor(x/C)*C,T=Math.ceil(b/C)*C):(O=x,T=b),v&&y&&i&&Gge((l-a)/i,C/1e3)?($=Math.round(Math.min((l-a)/C,d)),C=(l-a)/$,O=a,T=l):w?(O=v?a:O,T=y?l:T,$=u-1,C=(T-O)/$):($=(T-O)/C,Km($,Math.round($),C/1e3)?$=Math.round($):$=Math.ceil($));const B=Math.max(PP(C),PP(O));E=Math.pow(10,Sn(c)?B:c),O=Math.round(O*E)/E,T=Math.round(T*E)/E;let L=0;for(v&&(f&&O!==a?(n.push({value:a}),O<a&&L++,Km(Math.round((O+L*C)*E)/E,a,M6(a,_,e))&&L++):O<a&&L++);L<$;++L){const P=Math.round((O+L*C)*E)/E;if(y&&P>l)break;n.push({value:P})}return y&&f&&T!==l?n.length&&Km(n[n.length-1].value,l,M6(l,_,e))?n[n.length-1].value=l:n.push({value:l}):(!y||T===l)&&n.push({value:T}),n}function M6(e,t,{horizontal:n,minRotation:r}){const s=td(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/i,a)}class Dve extends hp{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Sn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=n?s:c,l=c=>i=r?i:c;if(t){const c=Uo(s),u=Uo(i);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),t||a(s-c)}this.min=s,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=Ive(s,i);return t.bounds==="ticks"&&Kge(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const s=(r-n)/Math.max(t.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return zU(t,this.chart.options.locale,this.options.ticks.format)}}class F1 extends Dve{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=zs(t)?t:0,this.max=zs(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=td(this.options.ticks.minRotation),s=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}le(F1,"id","linear"),le(F1,"defaults",{ticks:{callback:$U.formatters.numeric}});const Qb={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},mi=Object.keys(Qb);function L6(e,t){return e-t}function I6(e,t){if(Sn(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:i}=e._parseOpts;let a=t;return typeof r=="function"&&(a=r(a)),zs(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(n0(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function D6(e,t,n,r){const s=mi.length;for(let i=mi.indexOf(e);i<s-1;++i){const a=Qb[mi[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(l*a.size))<=r)return mi[i]}return mi[s-1]}function Rve(e,t,n,r,s){for(let i=mi.length-1;i>=mi.indexOf(n);i--){const a=mi[i];if(Qb[a].common&&e._adapter.diff(s,r,a)>=t-1)return a}return mi[n?mi.indexOf(n):0]}function Ove(e){for(let t=mi.indexOf(e)+1,n=mi.length;t<n;++t)if(Qb[mi[t]].common)return mi[t]}function R6(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:s}=W4(n,t),i=n[r]>=t?n[r]:n[s];e[i]=!0}}function Fve(e,t,n,r){const s=e._adapter,i=+s.startOf(t[0].value,r),a=t[t.length-1].value;let l,c;for(l=i;l<=a;l=+s.add(l,1,r))c=n[l],c>=0&&(t[c].major=!0);return t}function O6(e,t,n){const r=[],s={},i=t.length;let a,l;for(a=0;a<i;++a)l=t[a],s[l]=a,r.push({value:l,major:!1});return i===0||!n?r:Fve(e,r,s,n)}class z1 extends hp{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new Exe._date(t.adapters.date);s.init(n),Gm(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:I6(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=zs(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=zs(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=t0e(s,i,a);return this._unit=n.unit||(r.autoSkip?D6(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Rve(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Ove(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),O6(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,s,i;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=qi(n,0,a),r=qi(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||D6(i.minUnit,n,r,this._getLabelCapacity(n)),l=sn(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=n0(c)||c===!0,d={};let h=n,f,p;if(u&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,u?"day":a),t.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<r;f=+t.add(f,l,a),p++)R6(d,f,g);return(f===r||s.bounds==="ticks"||p===1)&&R6(d,f,g),Object.keys(d).sort(L6).map(x=>+x)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(t,a)}_tickFormatFunction(t,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return Hn(a,[t,n,r],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=r[n],p=u&&h&&f&&f.major;return this._adapter.format(t,s||(p?h:d))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=td(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*a,h:r*a+l*i}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(t,0,O6(this,[t],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(I6(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return RU(t.sort(L6))}}le(z1,"id","time"),le(z1,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Dy(e,t,n){let r=0,s=e.length-1,i,a,l,c;n?(t>=e[r].pos&&t<=e[s].pos&&({lo:r,hi:s}=nd(e,"pos",t)),{pos:i,time:l}=e[r],{pos:a,time:c}=e[s]):(t>=e[r].time&&t<=e[s].time&&({lo:r,hi:s}=nd(e,"time",t)),{time:i,pos:l}=e[r],{time:a,pos:c}=e[s]);const u=a-i;return u?l+(c-l)*(t-i)/u:l}class F6 extends z1{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Dy(n,this.min),this._tableRange=Dy(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,s=[],i=[];let a,l,c,u,d;for(a=0,l=t.length;a<l;++a)u=t[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=s.length;a<l;++a)d=s[a+1],c=s[a-1],u=s[a],Math.round((d+c)/2)!==u&&i.push({time:u,pos:a/(l-1)});return i}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Dy(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Dy(this._table,r*this._tableRange+this._minPos,!0)}}le(F6,"id","timeseries"),le(F6,"defaults",z1.defaults);const _V="label";function z6(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function zve(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function CV(e,t){e.labels=t}function AV(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_V;const r=[];e.datasets=t.map(s=>{const i=e.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function Bve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_V;const n={labels:[],datasets:[]};return CV(n,e.labels),AV(n,e.datasets,t),n}function $ve(e,t){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=e,p=N.useRef(null),g=N.useRef(null),x=()=>{p.current&&(g.current=new J0(p.current,{type:a,data:Bve(l,i),options:c&&{...c},plugins:u}),z6(t,g.current))},b=()=>{z6(t,null),g.current&&(g.current.destroy(),g.current=null)};return N.useEffect(()=>{!s&&g.current&&c&&zve(g.current,c)},[s,c]),N.useEffect(()=>{!s&&g.current&&CV(g.current.config.data,l.labels)},[s,l.labels]),N.useEffect(()=>{!s&&g.current&&l.datasets&&AV(g.current.config.data,l.datasets,i)},[s,l.datasets]),N.useEffect(()=>{g.current&&(s?(b(),setTimeout(x)):g.current.update(h))},[s,c,l.labels,l.datasets,h]),N.useEffect(()=>{g.current&&(b(),setTimeout(x))},[a]),N.useEffect(()=>(x(),()=>b()),[]),it.createElement("canvas",{ref:p,role:"img",height:n,width:r,...f},d)}const Uve=N.forwardRef($ve);function PV(e,t){return J0.register(t),N.forwardRef((n,r)=>it.createElement(Uve,{...n,ref:r,type:e}))}const EV=PV("line",pv),TV=PV("bar",fv);J0.register(O1,F1,Jm,El,Zm,NV,kV,wV,vV);const zu={Happy:{bg:"rgba(34, 197, 94, 0.6)",border:"rgb(34, 197, 94)"},Calm:{bg:"rgba(59, 130, 246, 0.6)",border:"rgb(59, 130, 246)"},Frustrated:{bg:"rgba(239, 68, 68, 0.6)",border:"rgb(239, 68, 68)"},Guilty:{bg:"rgba(168, 85, 247, 0.6)",border:"rgb(168, 85, 247)"},Overwhelmed:{bg:"rgba(245, 101, 101, 0.6)",border:"rgb(245, 101, 101)"},Proud:{bg:"rgba(251, 191, 36, 0.6)",border:"rgb(251, 191, 36)"},Tired:{bg:"rgba(107, 114, 128, 0.6)",border:"rgb(107, 114, 128)"},Grateful:{bg:"rgba(236, 72, 153, 0.6)",border:"rgb(236, 72, 153)"}},Bu=["Happy","Calm","Frustrated","Guilty","Overwhelmed","Proud","Tired","Grateful"];function Vve({selectedChildId:e,onChildChange:t}){var u,d,h;const{data:n=[],isLoading:r}=Ht({queryKey:["/api/journal-entries"],select:f=>f||[]}),{data:s=[]}=Ht({queryKey:["/api/child-profiles"],select:f=>f||[]}),i=N.useMemo(()=>{const f=new Date,p=new Date(f.getTime()-6*24*60*60*1e3),g=n.filter(w=>{const _=new Date(w.createdAt),C=_>=p&&_<=f,E=!e||e==="all"||w.childProfileId===e;return C&&E&&w.emotionTags&&w.emotionTags.length>0}),x=Array.from({length:7},(w,_)=>{const C=new Date(f.getTime()-(6-_)*24*60*60*1e3);return{date:C.toISOString().split("T")[0],label:C.toLocaleDateString("en-US",{month:"short",day:"numeric"}),shortLabel:C.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"})}}),b={},v={};x.forEach(({date:w})=>{b[w]={},Bu.forEach(_=>{b[w][_]=0})}),g.forEach(w=>{const _=new Date(w.createdAt).toISOString().split("T")[0];b[_]&&w.emotionTags&&w.emotionTags.forEach(C=>{Bu.includes(C)&&(b[_][C]++,v[C]=(v[C]||0)+1)})});const y=Object.entries(v).reduce((w,[_,C])=>C>w.count?{emotion:_,count:C}:w,{emotion:"",count:0});return{last7Days:x,emotionsByDate:b,totalEmotionCounts:v,mostFrequentEmotion:y,totalEntries:g.length}},[n,e]),a={labels:i.last7Days.map(({shortLabel:f})=>f),datasets:Bu.map(f=>{var p,g;return{label:f,data:i.last7Days.map(({date:x})=>i.emotionsByDate[x][f]),borderColor:((p=zu[f])==null?void 0:p.border)||"rgba(156, 163, 175, 1)",backgroundColor:((g=zu[f])==null?void 0:g.bg)||"rgba(156, 163, 175, 0.2)",tension:.4,fill:!1,pointRadius:4,pointHoverRadius:6}})},l={labels:Bu,datasets:[{label:"Times Reported",data:Bu.map(f=>i.totalEmotionCounts[f]||0),backgroundColor:Bu.map(f=>{var p;return((p=zu[f])==null?void 0:p.bg)||"rgba(156, 163, 175, 0.6)"}),borderColor:Bu.map(f=>{var p;return((p=zu[f])==null?void 0:p.border)||"rgba(156, 163, 175, 1)"}),borderWidth:2,borderRadius:6,borderSkipped:!1}]},c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:12,padding:15,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1},grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"}}}};return r?o.jsx("div",{className:"space-y-6",children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx("div",{className:"text-neutral-500",children:"Loading emotion trends..."})})}):o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-neutral-800 flex items-center",children:[o.jsx(Kn,{className:"mr-2 h-6 w-6 text-primary"}),"Emotion Trends"]}),o.jsx("p",{className:"text-neutral-600 text-sm",children:"Track your emotional patterns over the past 7 days"})]}),s.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rs,{className:"h-4 w-4 text-neutral-500"}),o.jsxs(vr,{value:e||"all",onValueChange:t,children:[o.jsx(ar,{className:"w-48",children:o.jsx(br,{placeholder:"Filter by child"})}),o.jsxs(or,{children:[o.jsx(pt,{value:"all",children:"All Children"}),s.map(f=>o.jsx(pt,{value:f.id,children:f.name},f.id))]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(Ye,{className:"hover-lift",children:[o.jsx(Mt,{className:"pb-2",children:o.jsxs(Dt,{className:"text-sm font-medium text-neutral-600 flex items-center",children:[o.jsx(Fl,{className:"mr-2 h-4 w-4"}),"Total Entries"]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"text-2xl font-bold text-neutral-800",children:i.totalEntries}),o.jsx("p",{className:"text-xs text-neutral-500",children:"past 7 days"})]})]}),o.jsxs(Ye,{className:"hover-lift",children:[o.jsx(Mt,{className:"pb-2",children:o.jsxs(Dt,{className:"text-sm font-medium text-neutral-600 flex items-center",children:[o.jsx(ji,{className:"mr-2 h-4 w-4"}),"Most Frequent"]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"text-2xl font-bold text-neutral-800",children:i.mostFrequentEmotion.emotion||"None"}),o.jsxs("p",{className:"text-xs text-neutral-500",children:[i.mostFrequentEmotion.count," times"]})]})]}),o.jsxs(Ye,{className:"hover-lift",children:[o.jsx(Mt,{className:"pb-2",children:o.jsxs(Dt,{className:"text-sm font-medium text-neutral-600 flex items-center",children:[o.jsx(db,{className:"mr-2 h-4 w-4"}),"Unique Emotions"]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"text-2xl font-bold text-neutral-800",children:Object.keys(i.totalEmotionCounts).filter(f=>i.totalEmotionCounts[f]>0).length}),o.jsx("p",{className:"text-xs text-neutral-500",children:"different feelings"})]})]})]}),i.mostFrequentEmotion.emotion&&o.jsx(Ye,{className:"bg-blue-50 border-blue-200",children:o.jsx(Xe,{className:"p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(xt,{className:"text-xs",style:{backgroundColor:(u=zu[i.mostFrequentEmotion.emotion])==null?void 0:u.bg,color:(d=zu[i.mostFrequentEmotion.emotion])==null?void 0:d.border,border:`1px solid ${(h=zu[i.mostFrequentEmotion.emotion])==null?void 0:h.border}`},children:i.mostFrequentEmotion.emotion})}),o.jsx("div",{className:"flex-1",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Weekly Insight:"})," You've reported feeling most"," ",o.jsx("strong",{children:i.mostFrequentEmotion.emotion.toLowerCase()})," this week (",i.mostFrequentEmotion.count," times).",i.mostFrequentEmotion.emotion==="Happy"&&" Keep nurturing the moments that bring you joy!",i.mostFrequentEmotion.emotion==="Grateful"&&" Your gratitude practice is showing beautiful results.",i.mostFrequentEmotion.emotion==="Overwhelmed"&&" Remember to take breaks and be gentle with yourself.",i.mostFrequentEmotion.emotion==="Frustrated"&&" It's natural to feel this way - you're navigating challenges with strength."]})})]})})}),i.totalEntries>0?o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Ye,{className:"hover-lift",children:[o.jsxs(Mt,{children:[o.jsxs(Dt,{className:"text-lg flex items-center",children:[o.jsx(ji,{className:"mr-2 h-5 w-5 text-primary"}),"Daily Emotion Patterns"]}),o.jsx(Ml,{children:"How your emotions have fluctuated over the past week"})]}),o.jsx(Xe,{children:o.jsx("div",{className:"h-80",children:o.jsx(EV,{data:a,options:c})})})]}),o.jsxs(Ye,{className:"hover-lift",children:[o.jsxs(Mt,{children:[o.jsxs(Dt,{className:"text-lg flex items-center",children:[o.jsx(Fl,{className:"mr-2 h-5 w-5 text-primary"}),"Emotion Frequency"]}),o.jsx(Ml,{children:"Total count of each emotion over the past week"})]}),o.jsx(Xe,{children:o.jsx("div",{className:"h-80",children:o.jsx(TV,{data:l,options:c})})})]})]}):o.jsx(Ye,{children:o.jsxs(Xe,{className:"py-12 text-center",children:[o.jsx(Kn,{className:"mx-auto h-12 w-12 text-neutral-300 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-neutral-600 mb-2",children:"No Emotion Data Yet"}),o.jsx("p",{className:"text-neutral-500 max-w-md mx-auto",children:"Start journaling with emotion tags to see your emotional patterns and trends over time. Your insights will appear here as you share your parenting journey."})]})})]})}J0.register(O1,F1,Jm,El,Zm,NV,kV,wV,vV);const B6={joyful:10,hopeful:8,content:7,neutral:5,tired:4,stressed:3,frustrated:2,overwhelmed:1,sad:1,anxious:2},Ch={joyful:{bg:"rgba(34, 197, 94, 0.8)",border:"rgb(34, 197, 94)"},hopeful:{bg:"rgba(59, 130, 246, 0.8)",border:"rgb(59, 130, 246)"},content:{bg:"rgba(16, 185, 129, 0.8)",border:"rgb(16, 185, 129)"},neutral:{bg:"rgba(107, 114, 128, 0.8)",border:"rgb(107, 114, 128)"},tired:{bg:"rgba(156, 163, 175, 0.8)",border:"rgb(156, 163, 175)"},stressed:{bg:"rgba(245, 101, 101, 0.8)",border:"rgb(245, 101, 101)"},frustrated:{bg:"rgba(239, 68, 68, 0.8)",border:"rgb(239, 68, 68)"},overwhelmed:{bg:"rgba(220, 38, 127, 0.8)",border:"rgb(220, 38, 127)"},sad:{bg:"rgba(168, 85, 247, 0.8)",border:"rgb(168, 85, 247)"},anxious:{bg:"rgba(251, 146, 60, 0.8)",border:"rgb(251, 146, 60)"}};function qve({selectedChildId:e,onChildChange:t}){var h,f,p;const[n,r]=N.useState("30"),{data:s=[],isLoading:i}=Ht({queryKey:["/api/journal-entries"],select:g=>g||[]}),{data:a=[]}=Ht({queryKey:["/api/child-profiles"],select:g=>g||[]}),l=N.useMemo(()=>{const g=new Date,x=parseInt(n),b=new Date(g.getTime()-x*24*60*60*1e3),v=s.filter(P=>{const D=new Date(P.createdAt),F=D>=b&&D<=g,U=!e||e==="all"||P.childProfileId===e;return F&&U&&P.aiAnalyzedMood}),y={};v.forEach(P=>{const D=new Date(P.createdAt).toISOString().split("T")[0];y[D]||(y[D]=[]),y[D].push(P)});const w=[];Object.entries(y).forEach(([P,D])=>{const F=D.filter(U=>U.aiAnalyzedMood&&B6[U.aiAnalyzedMood]).map(U=>B6[U.aiAnalyzedMood]);if(F.length>0){const U=F.reduce((H,R)=>H+R,0)/F.length,W=D[0].aiAnalyzedMood||"neutral";w.push({date:P,score:Math.round(U*10)/10,mood:W,count:D.length})}}),w.sort((P,D)=>new Date(P.date).getTime()-new Date(D.date).getTime());const _={};v.forEach(P=>{P.aiAnalyzedMood&&(_[P.aiAnalyzedMood]=(_[P.aiAnalyzedMood]||0)+1)});const C=w.slice(-7),E=w.slice(-14,-7),O=C.length>0?C.reduce((P,D)=>P+D.score,0)/C.length:0,T=E.length>0?E.reduce((P,D)=>P+D.score,0)/E.length:0,$=O>T?"up":O<T?"down":"stable",B=Math.abs(O-T),L=Object.entries(_).reduce((P,[D,F])=>F>P.count?{mood:D,count:F}:P,{mood:"",count:0});return{dailyMoodData:w,moodCounts:_,totalEntries:v.length,mostFrequentMood:L,trendDirection:$,trendChange:Math.round(B*10)/10,averageScore:w.length>0?Math.round(w.reduce((P,D)=>P+D.score,0)/w.length*10)/10:0}},[s,e,n]),c={labels:l.dailyMoodData.map(g=>new Date(g.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Mood Score",data:l.dailyMoodData.map(g=>g.score),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:l.dailyMoodData.map(g=>{var x;return((x=Ch[g.mood])==null?void 0:x.border)||"rgb(107, 114, 128)"}),pointBorderColor:"#fff",pointBorderWidth:2}]},u={labels:Object.keys(l.moodCounts).map(g=>g.charAt(0).toUpperCase()+g.slice(1)),datasets:[{label:"Frequency",data:Object.values(l.moodCounts),backgroundColor:Object.keys(l.moodCounts).map(g=>{var x;return((x=Ch[g])==null?void 0:x.bg)||"rgba(107, 114, 128, 0.8)"}),borderColor:Object.keys(l.moodCounts).map(g=>{var x;return((x=Ch[g])==null?void 0:x.border)||"rgb(107, 114, 128)"}),borderWidth:2,borderRadius:6,borderSkipped:!1}]},d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,callbacks:{label:function(g){const x=l.dailyMoodData[g.dataIndex];return[`Mood Score: ${g.parsed.y}`,`Dominant Mood: ${(x==null?void 0:x.mood)||"Unknown"}`,`Entries: ${(x==null?void 0:x.count)||0}`]}}}},scales:{y:{beginAtZero:!0,max:10,ticks:{stepSize:1,callback:function(g){return["","Very Low","","Low","","Neutral","","Good","","Great","Excellent"][g]||g}},grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"}}}};return i?o.jsx("div",{className:"space-y-6",children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx("div",{className:"text-neutral-500",children:"Loading mood trends..."})})}):o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-neutral-800 flex items-center",children:[o.jsx(ji,{className:"mr-2 h-6 w-6 text-primary"}),"Mood Trends"]}),o.jsx("p",{className:"text-neutral-600 text-sm",children:"AI-powered analysis of your emotional patterns"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(vr,{value:n,onValueChange:r,children:[o.jsx(ar,{className:"w-32",children:o.jsx(br,{})}),o.jsxs(or,{children:[o.jsx(pt,{value:"7",children:"7 days"}),o.jsx(pt,{value:"14",children:"2 weeks"}),o.jsx(pt,{value:"30",children:"30 days"}),o.jsx(pt,{value:"90",children:"3 months"})]})]}),a.length>0&&o.jsxs(vr,{value:e||"all",onValueChange:t,children:[o.jsx(ar,{className:"w-48",children:o.jsx(br,{placeholder:"Filter by child"})}),o.jsxs(or,{children:[o.jsx(pt,{value:"all",children:"All Children"}),a.map(g=>o.jsx(pt,{value:g.id,children:g.name},g.id))]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs(Ye,{className:"hover-lift",children:[o.jsx(Mt,{className:"pb-2",children:o.jsxs(Dt,{className:"text-sm font-medium text-neutral-600 flex items-center",children:[o.jsx(Fl,{className:"mr-2 h-4 w-4"}),"Entries Analyzed"]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"text-2xl font-bold text-neutral-800",children:l.totalEntries}),o.jsxs("p",{className:"text-xs text-neutral-500",children:["past ",n," days"]})]})]}),o.jsxs(Ye,{className:"hover-lift",children:[o.jsx(Mt,{className:"pb-2",children:o.jsxs(Dt,{className:"text-sm font-medium text-neutral-600 flex items-center",children:[o.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Average Mood"]})}),o.jsxs(Xe,{children:[o.jsxs("div",{className:"text-2xl font-bold text-neutral-800",children:[l.averageScore,"/10"]}),o.jsx("p",{className:"text-xs text-neutral-500",children:"overall well-being"})]})]}),o.jsxs(Ye,{className:"hover-lift",children:[o.jsx(Mt,{className:"pb-2",children:o.jsxs(Dt,{className:"text-sm font-medium text-neutral-600 flex items-center",children:[o.jsx(db,{className:"mr-2 h-4 w-4"}),"Most Common"]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"text-2xl font-bold text-neutral-800 capitalize",children:l.mostFrequentMood.mood||"None"}),o.jsxs("p",{className:"text-xs text-neutral-500",children:[l.mostFrequentMood.count," times"]})]})]}),o.jsxs(Ye,{className:"hover-lift",children:[o.jsx(Mt,{className:"pb-2",children:o.jsxs(Dt,{className:"text-sm font-medium text-neutral-600 flex items-center",children:[l.trendDirection==="up"?o.jsx(ji,{className:"mr-2 h-4 w-4 text-green-600"}):l.trendDirection==="down"?o.jsx(TQ,{className:"mr-2 h-4 w-4 text-red-600"}):o.jsx(rs,{className:"mr-2 h-4 w-4 text-blue-600"}),"Trend"]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:`text-2xl font-bold ${l.trendDirection==="up"?"text-green-600":l.trendDirection==="down"?"text-red-600":"text-blue-600"}`,children:l.trendDirection==="up"?"":l.trendDirection==="down"?"":""}),o.jsx("p",{className:"text-xs text-neutral-500 capitalize",children:l.trendDirection})]})]})]}),l.mostFrequentMood.mood&&o.jsx(Ye,{className:"bg-blue-50 border-blue-200",children:o.jsx(Xe,{className:"p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(xt,{className:"text-xs capitalize",style:{backgroundColor:(h=Ch[l.mostFrequentMood.mood])==null?void 0:h.bg,color:(f=Ch[l.mostFrequentMood.mood])==null?void 0:f.border,border:`1px solid ${(p=Ch[l.mostFrequentMood.mood])==null?void 0:p.border}`},children:l.mostFrequentMood.mood})}),o.jsx("div",{className:"flex-1",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Mood Insight:"})," Over the past ",n," days, you've most frequently felt"," ",o.jsx("strong",{children:l.mostFrequentMood.mood})," (",l.mostFrequentMood.count," times).",l.trendDirection==="up"&&" Your mood trend is improving! ",l.trendDirection==="down"&&" Consider extra self-care during this time. ",l.mostFrequentMood.mood==="joyful"&&"Keep celebrating those wonderful parenting moments!",l.mostFrequentMood.mood==="overwhelmed"&&"Remember that feeling overwhelmed is part of the parenting journey."]})})]})})}),l.totalEntries>0?o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Ye,{className:"hover-lift",children:[o.jsxs(Mt,{children:[o.jsxs(Dt,{className:"text-lg flex items-center",children:[o.jsx(ji,{className:"mr-2 h-5 w-5 text-primary"}),"Mood Timeline"]}),o.jsx(Ml,{children:"Daily mood patterns over the selected time period"})]}),o.jsx(Xe,{children:o.jsx("div",{className:"h-80",children:o.jsx(EV,{data:c,options:d})})})]}),o.jsxs(Ye,{className:"hover-lift",children:[o.jsxs(Mt,{children:[o.jsxs(Dt,{className:"text-lg flex items-center",children:[o.jsx(Fl,{className:"mr-2 h-5 w-5 text-primary"}),"Mood Distribution"]}),o.jsx(Ml,{children:"Frequency of different moods detected by AI"})]}),o.jsx(Xe,{children:o.jsx("div",{className:"h-80",children:o.jsx(TV,{data:u,options:{...d,scales:{...d.scales,y:{...d.scales.y,max:Math.max(...Object.values(l.moodCounts))+1,ticks:{stepSize:1}}}}})})})]})]}):o.jsx(Ye,{children:o.jsxs(Xe,{className:"py-12 text-center",children:[o.jsx(Kn,{className:"mx-auto h-12 w-12 text-neutral-300 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-neutral-600 mb-2",children:"No Mood Data Yet"}),o.jsx("p",{className:"text-neutral-500 max-w-md mx-auto",children:"Start journaling to see AI-powered mood analysis and trends. Your emotional patterns will appear here as you share your parenting experiences."})]})})]})}function Wve({type:e,level:t,title:n,description:r,progress:s=0,maxProgress:i=100,unlocked:a=!1,showProgress:l=!1}){const c={streak:fQ,consistency:rs,milestone:Vi,growth:ji,mindfulness:Kn,connection:zl,progress:Wo,energy:AR},u={bronze:{bg:"from-amber-100 to-orange-100",border:"border-amber-300",text:"text-amber-700",icon:"text-amber-600"},silver:{bg:"from-gray-100 to-slate-100",border:"border-gray-300",text:"text-gray-700",icon:"text-gray-600"},gold:{bg:"from-yellow-100 to-amber-100",border:"border-yellow-400",text:"text-yellow-700",icon:"text-yellow-600"},platinum:{bg:"from-purple-100 to-indigo-100",border:"border-purple-400",text:"text-purple-700",icon:"text-purple-600"}},d=c[e],h=u[t],f=i>0?s/i*100:0;return o.jsxs(Ye,{className:`relative p-4 transition-all duration-300 hover-scale ${a?`bg-gradient-to-br ${h.bg} ${h.border} border-2 shadow-md`:"bg-gray-50 border-gray-200 border opacity-60"}`,children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`p-2 rounded-full ${a?`bg-white/80 ${h.icon}`:"bg-gray-200 text-gray-400"}`,children:o.jsx(d,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h4",{className:`font-semibold text-sm ${a?h.text:"text-gray-500"}`,children:n}),o.jsx(xt,{variant:"outline",className:`text-xs px-2 py-0.5 ${a?`${h.border} ${h.text}`:"border-gray-300 text-gray-500"}`,children:t.toUpperCase()})]}),o.jsx("p",{className:`text-xs leading-relaxed ${a?"text-gray-600":"text-gray-400"}`,children:r}),l&&o.jsxs("div",{className:"mt-3",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[s," / ",i]}),o.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(f),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:o.jsx("div",{className:`h-1.5 rounded-full transition-all duration-700 ${a?`bg-gradient-to-r ${h.bg.replace("from-","from-").replace("to-","to-").replace("-100","-400")}`:"bg-gray-300"}`,style:{width:`${Math.min(f,100)}%`}})})]})]})]}),a&&t==="gold"&&o.jsx("div",{className:"absolute -top-1 -right-1 animate-bounce",children:o.jsx("span",{className:"text-sm",children:""})}),a&&t==="platinum"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute -top-1 -right-1 animate-ping",children:o.jsx("span",{className:"text-sm",children:""})}),o.jsx("div",{className:"absolute -bottom-1 -left-1 animate-bounce",style:{animationDelay:"0.3s"},children:o.jsx("span",{className:"text-xs",children:""})})]})]})}function Hve({stats:e,onStartCheckIn:t}){const[n,r]=N.useState(!1),s=Math.min(e.weeklyCheckIns/7*100,100),i=Math.min(e.currentStreak/30*100,100);e.totalEntries>0&&Math.min(e.weeklyCheckIns/7*100,100);const l=(h=>h>=100?{level:15,title:"Mindful Master",next:150}:h>=75?{level:12,title:"Wellness Warrior",next:100}:h>=50?{level:9,title:"Balanced Parent",next:75}:h>=25?{level:6,title:"Growing Guardian",next:50}:h>=10?{level:3,title:"Aware Parent",next:25}:{level:1,title:"Wellness Beginner",next:10})(e.totalEntries),c=l.next?e.totalEntries%(l.next-e.totalEntries+e.totalEntries)/(l.next-(l.next-e.totalEntries))*100:100,u=[{type:"streak",level:"bronze",title:"Consistency Starter",description:"Complete check-ins for 3 days in a row",unlocked:e.currentStreak>=3,progress:Math.min(e.currentStreak,3),maxProgress:3,showProgress:e.currentStreak<3},{type:"streak",level:"silver",title:"Weekly Warrior",description:"Maintain a 7-day wellness streak",unlocked:e.currentStreak>=7,progress:Math.min(e.currentStreak,7),maxProgress:7,showProgress:e.currentStreak<7&&e.currentStreak>=3},{type:"streak",level:"gold",title:"Mindful Master",description:"Amazing! 21 days of consistent self-care",unlocked:e.currentStreak>=21,progress:Math.min(e.currentStreak,21),maxProgress:21,showProgress:e.currentStreak<21&&e.currentStreak>=7},{type:"consistency",level:"bronze",title:"Weekly Champion",description:"Complete 5 check-ins in one week",unlocked:e.weeklyCheckIns>=5,progress:Math.min(e.weeklyCheckIns,5),maxProgress:5,showProgress:e.weeklyCheckIns<5},{type:"milestone",level:"silver",title:"Reflection Milestone",description:"Reach 25 total wellness check-ins",unlocked:e.totalEntries>=25,progress:Math.min(e.totalEntries,25),maxProgress:25,showProgress:e.totalEntries<25},{type:"growth",level:"gold",title:"Wellness Authority",description:"Complete 50 wellness reflections",unlocked:e.totalEntries>=50,progress:Math.min(e.totalEntries,50),maxProgress:50,showProgress:e.totalEntries<50&&e.totalEntries>=25}],d=u.filter(h=>h.unlocked);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ye,{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-purple-200",children:[o.jsx(Mt,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(Dt,{className:"text-lg text-purple-800",children:["Level ",l.level,": ",l.title]}),o.jsx("p",{className:"text-sm text-purple-600",children:"Your parenting awareness is growing beautifully"})]}),o.jsxs(xt,{className:"bg-purple-100 text-purple-800 border-purple-300",children:[o.jsx(wR,{className:"h-3 w-3 mr-1"}),d.length," Badges"]})]})}),o.jsx(Xe,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Gh,{progress:c,size:60,color:"#8B5CF6",showPercentage:!1}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{className:"text-gray-600",children:"Progress to next level"}),o.jsxs("span",{className:"text-purple-700 font-medium",children:[e.totalEntries," / ",l.next||e.totalEntries]})]}),o.jsx("div",{className:"w-full bg-purple-100 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-indigo-400 h-2 rounded-full transition-all duration-700",style:{width:`${c}%`}})})]})]})})]}),o.jsxs(Ye,{children:[o.jsx(Mt,{children:o.jsxs(Dt,{className:"flex items-center space-x-2",children:[o.jsx(Wo,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Your Wellness Journey"})]})}),o.jsx(Xe,{children:o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(yi,{content:"Every day you prioritize your wellness, you're modeling self-care for your children. You're doing amazing!",position:"top",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Gh,{progress:s,size:70,label:"This Week"}),o.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:[e.weeklyCheckIns,"/7 days"]})]})}),o.jsx(yi,{content:"Consistent tracking helps you recognize patterns and celebrate your growth as a parent. Keep it up!",position:"top",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Gh,{progress:i,size:70,label:"Streak"}),o.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:[e.currentStreak," days"]})]})}),o.jsx(yi,{content:"Your wellness score reflects your overall journey. Every reflection counts and helps you grow!",position:"top",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Gh,{progress:e.wellnessScore,size:70,label:"Overall"}),o.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Wellness Score"})]})})]})})]}),o.jsx(Ye,{className:"border-2 border-primary/20 bg-gradient-to-r from-blue-50 to-purple-50",children:o.jsx(Xe,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Ready for your daily wellness check-in?"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Taking 2 minutes for yourself helps you be the parent you want to be"})]}),o.jsx(yi,{content:"Your feelings matter! This quick check-in helps you stay aware of your emotional and physical well-being ",position:"left",children:o.jsxs(ve,{onClick:t,className:"bg-primary hover:bg-primary/90 transition-all hover-scale button-press",children:["Start Check-In",o.jsx(ub,{className:"h-4 w-4 ml-1"})]})})]})})}),o.jsxs(Ye,{children:[o.jsx(Mt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Dt,{className:"flex items-center space-x-2",children:[o.jsx(rn,{className:"h-5 w-5 text-yellow-500"}),o.jsx("span",{children:"Your Achievements"})]}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>r(!n),children:n?"Hide":"View All"})]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(n?u:u.slice(0,4)).map((h,f)=>o.jsx(Wve,{...h},f))}),d.length>0&&o.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg border border-green-200",children:o.jsxs("p",{className:"text-sm text-green-800 text-center",children:[" You've unlocked ",d.length," achievement",d.length!==1?"s":"","! Your commitment to wellness is inspiring."]})})]})]})]})}function Yve({triggerSignUpPrompt:e}){const[t,n]=N.useState(null),[r,s]=N.useState("all"),[i,a]=N.useState(!1);Ht({queryKey:["/api/journal-stats"],queryFn:async()=>{const g=await fetch("/api/journal-stats",{credentials:"include"});if(!g.ok)throw new Error("Failed to fetch stats");return g.json()}});const{data:l=[]}=Ht({queryKey:["/api/journal-entries"],select:g=>g||[]}),c=N.useMemo(()=>{const g=new Date,x=new Date(g.getTime()-7*24*60*60*1e3),b=l.filter(T=>new Date(T.createdAt)>=x).length;let v=0;const y=new Date;y.setHours(0,0,0,0);const w=[...l].sort((T,$)=>new Date($.createdAt).getTime()-new Date(T.createdAt).getTime());for(let T=0;T<w.length;T++){const $=new Date(w[T].createdAt);if($.setHours(0,0,0,0),Math.floor((y.getTime()-$.getTime())/(1e3*60*60*24))===v)v++;else break}const _={joyful:10,hopeful:8,content:7,neutral:5,tired:4,stressed:3,frustrated:2,overwhelmed:1,sad:2,anxious:3},C=l.filter(T=>new Date(T.createdAt)>=x&&(T.aiAnalyzedMood||T.mood)).map(T=>_[T.aiAnalyzedMood||T.mood]||5),E=C.length>0?C.reduce((T,$)=>T+$,0)/C.length:5,O=Math.round(E/10*100);return{weeklyCheckIns:b,currentStreak:v,totalEntries:l.length,wellnessScore:O}},[l]),u=g=>{n(g)},d=()=>{n(null)},h=g=>{s(g)},f=()=>{a(!0)},p=async g=>{try{(await fetch("/api/daily-checkin",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(g)})).ok&&window.location.reload()}catch(x){console.error("Error saving check-in:",x)}a(!1)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-blue-50 to-purple-75 animate-fade-in",children:o.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsx(Nn,{href:"/",children:o.jsxs(ve,{variant:"outline",className:"hover-scale",children:[o.jsx(ja,{className:"h-4 w-4 mr-2"}),"Back to Main"]})})}),o.jsxs("div",{className:"text-center mt-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-neutral-800",children:" Analytics & Insights"}),o.jsx("p",{className:"text-neutral-600",children:"Discover patterns and insights from your parenting journey"})]})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsx(pge,{onResults:u,onClear:d}),t&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h2",{className:"text-xl font-semibold text-neutral-800",children:[" Search Results (",t.length," entries found)"]}),t.length===0?o.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[o.jsx("p",{children:"No entries match your search criteria."}),o.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search terms."})]}):o.jsx("div",{className:"grid gap-4",children:t.map(g=>o.jsxs("div",{className:"p-4 bg-white rounded-lg border border-neutral-200",children:[o.jsx("h3",{className:"font-medium text-neutral-800",children:g.title||"Untitled Entry"}),o.jsxs("p",{className:"text-sm text-neutral-600 mt-2",children:[g.content.substring(0,150),"..."]}),o.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[g.mood&&o.jsx("span",{className:"text-sm",children:g.mood}),o.jsx("span",{className:"text-xs text-neutral-500",children:new Date(g.createdAt).toLocaleDateString()})]})]},g.id))})]}),!t&&o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"animate-pop-fade",style:{animationDelay:"0.05s"},children:o.jsx(Hve,{stats:c,onStartCheckIn:f})}),o.jsx("div",{className:"animate-pop-fade",style:{animationDelay:"0.1s"},children:o.jsx(qve,{selectedChildId:r,onChildChange:h})}),o.jsx("div",{className:"animate-bounce-in",style:{animationDelay:"0.2s"},children:o.jsx(Vve,{selectedChildId:r,onChildChange:h})}),o.jsx("div",{className:"animate-pop-fade",style:{animationDelay:"0.3s"},children:o.jsx(hge,{})}),o.jsx("div",{className:"animate-bounce-in",style:{animationDelay:"0.4s"},children:o.jsx(dge,{})})]})]}),i&&o.jsx(J7,{onComplete:p,onCancel:()=>a(!1)})]})})}const Gve=[{id:"smile-social",title:"First Social Smile",description:"Smiles in response to others, not just reflexively",ageRange:{min:1,max:3},category:"social",priority:"high"},{id:"hold-head",title:"Holds Head Up",description:"Can hold head steady when sitting with support",ageRange:{min:2,max:4},category:"physical",priority:"high"},{id:"roll-over",title:"Rolls Over",description:"Rolls from tummy to back or back to tummy",ageRange:{min:4,max:6},category:"physical",priority:"high"},{id:"respond-name",title:"Responds to Name",description:"Turns head or shows recognition when name is called",ageRange:{min:4,max:7},category:"language",priority:"high"},{id:"sits-alone",title:"Sits Without Support",description:"Can sit independently without falling over",ageRange:{min:6,max:9},category:"physical",priority:"high"},{id:"stranger-anxiety",title:"Shows Stranger Anxiety",description:"Shows wariness or distress around unfamiliar people",ageRange:{min:6,max:12},category:"emotional",priority:"medium"},{id:"crawls",title:"Crawls",description:"Moves around by crawling on hands and knees",ageRange:{min:7,max:10},category:"physical",priority:"high"},{id:"says-mama-dada",title:'Says "Mama" or "Dada"',description:"Says first words with meaning, not just babbling",ageRange:{min:8,max:12},category:"language",priority:"high"},{id:"pulls-to-stand",title:"Pulls to Stand",description:"Can pull themselves up to standing position",ageRange:{min:9,max:12},category:"physical",priority:"high"},{id:"walks-alone",title:"Walks Independently",description:"Takes first independent steps without support",ageRange:{min:12,max:18},category:"physical",priority:"high"},{id:"first-words",title:"Says 2-3 Words",description:"Has a vocabulary of 2-3 clear words besides mama/dada",ageRange:{min:12,max:18},category:"language",priority:"high"},{id:"points-objects",title:"Points to Objects",description:"Points to things they want or find interesting",ageRange:{min:12,max:16},category:"cognitive",priority:"medium"},{id:"runs",title:"Runs",description:"Can run, though may be unsteady",ageRange:{min:16,max:24},category:"physical",priority:"medium"},{id:"two-word-phrases",title:"Uses Two-Word Phrases",description:'Combines words like "more milk" or "go car"',ageRange:{min:18,max:24},category:"language",priority:"high"},{id:"parallel-play",title:"Parallel Play",description:"Plays alongside other children, but not directly with them",ageRange:{min:18,max:30},category:"social",priority:"medium"},{id:"potty-training",title:"Potty Training",description:"Shows interest in or begins potty training",ageRange:{min:20,max:36},category:"physical",priority:"high"},{id:"speaks-sentences",title:"Speaks in Sentences",description:"Uses 3-4 word sentences regularly",ageRange:{min:24,max:36},category:"language",priority:"high"},{id:"plays-pretend",title:"Pretend Play",description:"Engages in imaginative play (feeding dolls, pretend cooking)",ageRange:{min:24,max:36},category:"cognitive",priority:"medium"},{id:"pedals-tricycle",title:"Pedals Tricycle",description:"Can pedal and steer a tricycle",ageRange:{min:30,max:48},category:"physical",priority:"medium"},{id:"tells-stories",title:"Tells Simple Stories",description:"Can tell short stories or describe events",ageRange:{min:36,max:48},category:"language",priority:"medium"},{id:"plays-with-others",title:"Cooperative Play",description:"Plays cooperatively with other children",ageRange:{min:36,max:48},category:"social",priority:"high"},{id:"hops-one-foot",title:"Hops on One Foot",description:"Can hop on one foot several times",ageRange:{min:42,max:60},category:"physical",priority:"medium"},{id:"draws-person",title:"Draws a Person",description:"Can draw a person with 2-4 body parts",ageRange:{min:48,max:60},category:"cognitive",priority:"medium"},{id:"understands-rules",title:"Understands Game Rules",description:"Can understand and follow simple game rules",ageRange:{min:48,max:60},category:"cognitive",priority:"medium"},{id:"rides-bike",title:"Rides Bike with Training Wheels",description:"Can ride a bicycle with training wheels",ageRange:{min:48,max:72},category:"physical",priority:"medium"},{id:"counts-to-ten",title:"Counts to 10",description:"Can count from 1 to 10 correctly",ageRange:{min:48,max:72},category:"cognitive",priority:"high"},{id:"writes-name",title:"Writes Own Name",description:"Can write their first name, even if letters are imperfect",ageRange:{min:54,max:72},category:"cognitive",priority:"high"},{id:"reads-independently",title:"Reads Simple Books Independently",description:"Can read age-appropriate books without help",ageRange:{min:72,max:96},category:"cognitive",priority:"high"},{id:"basic-math",title:"Basic Math Skills",description:"Can add and subtract simple numbers",ageRange:{min:72,max:96},category:"cognitive",priority:"high"},{id:"rides-bike-no-training",title:"Rides Bike Without Training Wheels",description:"Can balance and ride a two-wheel bicycle",ageRange:{min:72,max:108},category:"physical",priority:"medium"},{id:"team-sports",title:"Participates in Team Sports",description:"Can follow rules and work as part of a team",ageRange:{min:84,max:120},category:"social",priority:"medium"},{id:"multiplication-tables",title:"Knows Multiplication Tables",description:"Can recite basic multiplication facts",ageRange:{min:96,max:120},category:"cognitive",priority:"high"},{id:"complex-friendships",title:"Forms Complex Friendships",description:"Develops deeper friendships with shared interests",ageRange:{min:96,max:132},category:"social",priority:"high"},{id:"household-responsibilities",title:"Takes on Household Responsibilities",description:"Can complete age-appropriate chores independently",ageRange:{min:96,max:144},category:"emotional",priority:"medium"},{id:"abstract-thinking",title:"Develops Abstract Thinking",description:"Can understand concepts beyond concrete experiences",ageRange:{min:120,max:144},category:"cognitive",priority:"high"},{id:"peer-acceptance",title:"Seeks Peer Acceptance",description:"Shows increased concern about fitting in with peers",ageRange:{min:120,max:156},category:"social",priority:"high"},{id:"body-changes-awareness",title:"Awareness of Body Changes",description:"Begins to notice and understand physical development",ageRange:{min:120,max:156},category:"physical",priority:"high"},{id:"identity-exploration",title:"Identity Exploration",description:"Begins exploring personal identity and values",ageRange:{min:144,max:168},category:"emotional",priority:"high"},{id:"peer-influence",title:"Strong Peer Influence",description:"Peer opinions become very important in decision-making",ageRange:{min:144,max:180},category:"social",priority:"high"},{id:"puberty-changes",title:"Puberty Development",description:"Experiences significant physical and hormonal changes",ageRange:{min:132,max:180},category:"physical",priority:"high"},{id:"emotional-intensity",title:"Emotional Intensity",description:"Experiences heightened emotions and mood swings",ageRange:{min:144,max:180},category:"emotional",priority:"high"},{id:"independence-seeking",title:"Seeks Independence",description:"Strong desire for autonomy and independence from parents",ageRange:{min:168,max:192},category:"emotional",priority:"high"},{id:"romantic-interests",title:"Romantic Interests",description:"Develops interest in romantic relationships",ageRange:{min:156,max:204},category:"social",priority:"medium"},{id:"future-planning",title:"Future Planning",description:"Begins thinking seriously about future goals and careers",ageRange:{min:168,max:204},category:"cognitive",priority:"high"},{id:"risk-taking-behavior",title:"Risk-Taking Awareness",description:"May engage in risk-taking behaviors while developing judgment",ageRange:{min:168,max:204},category:"emotional",priority:"high"},{id:"adult-responsibilities",title:"Adult Responsibilities",description:"Takes on more adult-like responsibilities and decision-making",ageRange:{min:192,max:216},category:"emotional",priority:"high"},{id:"driving-independence",title:"Driving Independence",description:"Learns to drive and gains transportation independence",ageRange:{min:192,max:216},category:"physical",priority:"medium"},{id:"college-preparation",title:"College/Career Preparation",description:"Actively prepares for post-secondary education or career",ageRange:{min:192,max:216},category:"cognitive",priority:"high"},{id:"value-system",title:"Personal Value System",description:"Develops a more stable personal value system and beliefs",ageRange:{min:192,max:216},category:"emotional",priority:"high"},{id:"transition-adulthood",title:"Transition to Adulthood",description:"Prepares for the transition from adolescence to young adulthood",ageRange:{min:204,max:216},category:"emotional",priority:"high"}];function xv(e){const t=new Date(e),n=new Date,r=n.getFullYear()-t.getFullYear(),s=n.getMonth()-t.getMonth();return r*12+s}function Kve(e,t=[]){const n=xv(e);return[...Gve.filter(i=>i.ageRange.min<=n+12&&i.ageRange.max>=n-6),...t].sort((i,a)=>{const l={high:3,medium:2,low:1},c=l[a.priority]-l[i.priority];return c!==0?c:i.ageRange.min-a.ageRange.min})}function Qve(e,t){return t<e.ageRange.min?"upcoming":t>=e.ageRange.min&&t<=e.ageRange.max?"current":t>e.ageRange.max&&t<=e.ageRange.max+6?"overdue":"past"}function Xve(e){const t=n=>{if(n<12)return`${n}mo`;const r=Math.floor(n/12),s=n%12;return s===0?`${r}y`:`${r}y ${s}mo`};return`${t(e.min)} - ${t(e.max)}`}function Jve(e){return{physical:"",cognitive:"",social:"",emotional:"",language:""}[e]}function Zve(e){return{upcoming:"bg-blue-100 text-blue-800",current:"bg-green-100 text-green-800",overdue:"bg-amber-100 text-amber-800",past:"bg-gray-100 text-gray-600"}[e]}function e1e(){const[e,t]=N.useState(""),[n,r]=N.useState(new Set),[s,i]=N.useState(!1),[a,l]=N.useState([]),[c,u]=N.useState({title:"",description:"",category:"physical",ageMin:12,ageMax:18}),{toast:d}=vs(),{data:h=[]}=Ht({queryKey:["/api/child-profiles"],queryFn:async()=>{const b=localStorage.getItem("parentjourney_token"),v={};b&&(v.Authorization=`Bearer ${b}`);const y=await fetch("/api/child-profiles",{headers:v,credentials:"include"});if(!y.ok)throw new Error("Failed to fetch profiles");return y.json()},enabled:!!localStorage.getItem("parentjourney_token"),staleTime:6e4,retry:!1}),f=h.find(b=>b.id===e),p=f?Kve(f.dateOfBirth,a):[],g=b=>{const v=new Set(n);v.has(b)?v.delete(b):v.add(b),r(v),d({title:v.has(b)?"Milestone Completed! ":"Milestone Unchecked",description:v.has(b)?"Great job celebrating this achievement!":"Milestone has been unmarked as completed."})},x=()=>{if(!c.title.trim()){d({title:"Error",description:"Please enter a milestone title",variant:"destructive"});return}const b={id:`custom-${Date.now()}`,title:c.title,description:c.description,ageRange:{min:c.ageMin,max:c.ageMax},category:c.category,priority:"medium",isCustom:!0};l(v=>[...v,b]),u({title:"",description:"",category:"physical",ageMin:12,ageMax:18}),i(!1),d({title:"Custom Milestone Added!",description:"Your custom milestone has been added to the tracking list."})};return h.length===0?o.jsx(Ye,{className:"w-full max-w-4xl mx-auto",children:o.jsxs(Xe,{className:"text-center py-12",children:[o.jsx(gs,{className:"mx-auto h-16 w-16 text-neutral-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-neutral-700 mb-2",children:"No Children Added Yet"}),o.jsx("p",{className:"text-neutral-500 mb-6",children:"Add child profiles to start tracking developmental milestones"}),o.jsx(ve,{variant:"outline",children:"Add Child Profile"})]})}):o.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[o.jsxs(Ye,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[o.jsx(Mt,{children:o.jsxs(Dt,{className:"flex items-center gap-2 text-blue-900",children:[o.jsx(Wo,{className:"h-5 w-5"}),"Choose Child to Track"]})}),o.jsx(Xe,{children:o.jsxs(vr,{value:e,onValueChange:t,children:[o.jsx(ar,{className:"bg-white border-blue-200",children:o.jsx(br,{placeholder:"Select a child to track milestones"})}),o.jsx(or,{children:h.map(b=>o.jsxs(pt,{value:b.id,children:[b.name," (",xv(b.dateOfBirth)," months old)"]},b.id))})]})})]}),f&&o.jsxs(o.Fragment,{children:[o.jsxs(Ye,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:[o.jsx(Mt,{children:o.jsxs(Dt,{className:"flex items-center gap-2 text-green-900",children:[o.jsx(Gj,{className:"h-5 w-5"}),f.name,"'s Milestone Journey"]})}),o.jsx(Xe,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-700",children:[xv(f.dateOfBirth)," months"]}),o.jsx("div",{className:"text-sm text-green-600",children:"Current Age"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-700",children:n.size}),o.jsx("div",{className:"text-sm text-blue-600",children:"Completed Milestones"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-700",children:p.length}),o.jsx("div",{className:"text-sm text-purple-600",children:"Available Milestones"})]})]})})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-neutral-800",children:"Age-Appropriate Milestones"}),o.jsxs(yr,{open:s,onOpenChange:i,children:[o.jsx(Vl,{asChild:!0,children:o.jsxs(ve,{className:"bg-primary hover:bg-primary/90",children:[o.jsx(Cg,{className:"h-4 w-4 mr-2"}),"Add Custom Milestone"]})}),o.jsxs(rr,{className:"max-w-md",children:[o.jsx(sr,{children:o.jsx(ir,{children:"Add Custom Milestone"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Title"}),o.jsx(Kt,{value:c.title,onChange:b=>u(v=>({...v,title:b.target.value})),placeholder:"Enter milestone title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Description"}),o.jsx(Xr,{value:c.description,onChange:b=>u(v=>({...v,description:b.target.value})),placeholder:"Describe the milestone"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Category"}),o.jsxs(vr,{value:c.category,onValueChange:b=>u(v=>({...v,category:b})),children:[o.jsx(ar,{children:o.jsx(br,{})}),o.jsxs(or,{children:[o.jsx(pt,{value:"physical",children:" Physical"}),o.jsx(pt,{value:"cognitive",children:" Cognitive"}),o.jsx(pt,{value:"social",children:" Social"}),o.jsx(pt,{value:"emotional",children:" Emotional"}),o.jsx(pt,{value:"language",children:" Language"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Min Age (months)"}),o.jsx(Kt,{type:"number",value:c.ageMin,onChange:b=>u(v=>({...v,ageMin:parseInt(b.target.value)||12}))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-neutral-700",children:"Max Age (months)"}),o.jsx(Kt,{type:"number",value:c.ageMax,onChange:b=>u(v=>({...v,ageMax:parseInt(b.target.value)||18}))})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(ve,{onClick:x,className:"flex-1",children:"Add Milestone"}),o.jsx(ve,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(b=>{const v=n.has(b.id),y=xv(f.dateOfBirth),w=Qve(b,y),_=Zve(w);return o.jsx(Ye,{className:`transition-all duration-300 hover:shadow-md cursor-pointer ${v?"ring-2 ring-green-400 bg-green-50":"hover:ring-2 hover:ring-blue-200"}`,onClick:()=>g(b.id),children:o.jsxs(Xe,{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:Jve(b.category)}),o.jsx(xt,{className:`text-xs ${_}`,children:w})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[b.isCustom&&o.jsx(Vi,{className:"h-3 w-3 text-amber-500"}),v?o.jsx(Of,{className:"h-5 w-5 text-green-500"}):o.jsx(N0,{className:"h-5 w-5 text-neutral-400"})]})]}),o.jsx("h3",{className:`font-semibold mb-1 ${v?"text-green-800":"text-neutral-800"}`,children:b.title}),o.jsx("p",{className:`text-sm mb-2 ${v?"text-green-700":"text-neutral-600"}`,children:b.description}),o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsxs("span",{className:`${v?"text-green-600":"text-neutral-500"}`,children:["Age: ",Xve(b.ageRange)]}),o.jsxs("span",{className:`capitalize ${v?"text-green-600":"text-neutral-500"}`,children:[b.priority," priority"]})]})]})},b.id)})}),p.length===0&&o.jsx(Ye,{children:o.jsxs(Xe,{className:"text-center py-12",children:[o.jsx(mQ,{className:"mx-auto h-12 w-12 text-neutral-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-neutral-700 mb-2",children:"No Milestones Available"}),o.jsx("p",{className:"text-neutral-500",children:"Add custom milestones to start tracking your child's progress"})]})})]})]})}function t1e(){return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 animate-fade-in",children:o.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsx(Nn,{href:"/",children:o.jsxs(ve,{variant:"outline",className:"hover-scale",children:[o.jsx(ja,{className:"h-4 w-4 mr-2"}),"Back to Main"]})})}),o.jsxs("div",{className:"text-center mt-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-neutral-800",children:" Milestone Tracking"}),o.jsx("p",{className:"text-neutral-600",children:"Track and celebrate your child's developmental achievements"})]})]}),o.jsx("div",{className:"animate-scale-in",children:o.jsx(e1e,{})})]})})}var e_="Switch",[n1e,rwe]=$s(e_),[r1e,s1e]=n1e(e_),MV=N.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=N.useState(null),g=Yt(t,w=>p(w)),x=N.useRef(!1),b=f?d||!!f.closest("form"):!0,[v=!1,y]=qo({prop:s,defaultProp:i,onChange:u});return o.jsxs(r1e,{scope:n,checked:v,disabled:l,children:[o.jsx(yt.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":DV(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:He(e.onClick,w=>{y(_=>!_),b&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),b&&o.jsx(i1e,{control:f,bubbles:!x.current,name:r,value:c,checked:v,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});MV.displayName=e_;var LV="SwitchThumb",IV=N.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=s1e(LV,n);return o.jsx(yt.span,{"data-state":DV(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});IV.displayName=LV;var i1e=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,i=N.useRef(null),a=Wk(n),l=yk(t);return N.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[a,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function DV(e){return e?"checked":"unchecked"}var RV=MV,a1e=IV;const B1=N.forwardRef(({className:e,...t},n)=>o.jsx(RV,{className:Je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:o.jsx(a1e,{className:Je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));B1.displayName=RV.displayName;var o1e="Separator",$6="horizontal",l1e=["horizontal","vertical"],OV=N.forwardRef((e,t)=>{const{decorative:n,orientation:r=$6,...s}=e,i=c1e(r)?r:$6,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(yt.div,{"data-orientation":i,...l,...s,ref:t})});OV.displayName=o1e;function c1e(e){return l1e.includes(e)}var FV=OV;const Ao=N.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>o.jsx(FV,{ref:s,decorative:n,orientation:t,className:Je("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Ao.displayName=FV.displayName;var zV="AlertDialog",[u1e,swe]=$s(zV,[NO]),Yl=NO(),BV=e=>{const{__scopeAlertDialog:t,...n}=e,r=Yl(t);return o.jsx(Ck,{...r,...n,modal:!0})};BV.displayName=zV;var d1e="AlertDialogTrigger",$V=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Yl(n);return o.jsx(Ak,{...s,...r,ref:t})});$V.displayName=d1e;var h1e="AlertDialogPortal",UV=e=>{const{__scopeAlertDialog:t,...n}=e,r=Yl(t);return o.jsx(Pk,{...r,...n})};UV.displayName=h1e;var f1e="AlertDialogOverlay",VV=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Yl(n);return o.jsx(A0,{...s,...r,ref:t})});VV.displayName=f1e;var mf="AlertDialogContent",[p1e,m1e]=u1e(mf),g1e=K8("AlertDialogContent"),qV=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=Yl(n),a=N.useRef(null),l=Yt(t,a),c=N.useRef(null);return o.jsx(BZ,{contentName:mf,titleName:WV,docsSlug:"alert-dialog",children:o.jsx(p1e,{scope:n,cancelRef:c,children:o.jsxs(P0,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:He(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(g1e,{children:r}),o.jsx(y1e,{contentRef:a})]})})})});qV.displayName=mf;var WV="AlertDialogTitle",HV=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Yl(n);return o.jsx(E0,{...s,...r,ref:t})});HV.displayName=WV;var YV="AlertDialogDescription",GV=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Yl(n);return o.jsx(T0,{...s,...r,ref:t})});GV.displayName=YV;var x1e="AlertDialogAction",KV=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Yl(n);return o.jsx(jb,{...s,...r,ref:t})});KV.displayName=x1e;var QV="AlertDialogCancel",XV=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=m1e(QV,n),i=Yl(n),a=Yt(t,s);return o.jsx(jb,{...i,...r,ref:a})});XV.displayName=QV;var y1e=({contentRef:e})=>{const t=`\`${mf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${mf}\` by passing a \`${YV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${mf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},v1e=BV,b1e=$V,w1e=UV,JV=VV,ZV=qV,eq=KV,t_=XV,tq=HV,nq=GV;const j1e=v1e,N1e=b1e,S1e=w1e,rq=N.forwardRef(({className:e,...t},n)=>o.jsx(JV,{className:Je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));rq.displayName=JV.displayName;const sq=N.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(S1e,{children:[o.jsx(rq,{}),o.jsxs(ZV,{ref:r,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[state=open]:bounce-in sm:rounded-lg",e),...n,children:[t,o.jsxs(t_,{className:"fixed right-4 top-4 rounded-sm opacity-100 ring-offset-background transition-opacity hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground z-[60] p-1.5 h-auto w-auto bg-white/90 hover:bg-white shadow-md",children:[o.jsx(Kr,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sq.displayName=ZV.displayName;const iq=({className:e,...t})=>o.jsx("div",{className:Je("flex flex-col space-y-2 text-center sm:text-left",e),...t});iq.displayName="AlertDialogHeader";const aq=({className:e,...t})=>o.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});aq.displayName="AlertDialogFooter";const oq=N.forwardRef(({className:e,...t},n)=>o.jsx(tq,{ref:n,className:Je("text-lg font-semibold",e),...t}));oq.displayName=tq.displayName;const lq=N.forwardRef(({className:e,...t},n)=>o.jsx(nq,{ref:n,className:Je("text-sm text-muted-foreground",e),...t}));lq.displayName=nq.displayName;const cq=N.forwardRef(({className:e,...t},n)=>o.jsx(eq,{ref:n,className:Je(Eg(),e),...t}));cq.displayName=eq.displayName;const uq=N.forwardRef(({className:e,...t},n)=>o.jsx(t_,{ref:n,className:Je(Eg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));uq.displayName=t_.displayName;function k1e(e,t){const n={entries:e,childProfiles:t,exportedAt:new Date().toISOString(),version:"1.0"},r=JSON.stringify(n,null,2),s=new Blob([r],{type:"application/json"}),i=document.createElement("a");i.href=URL.createObjectURL(s),i.download=`parenting-journal-backup-${tn(new Date,"yyyy-MM-dd")}.json`,i.click(),URL.revokeObjectURL(i.href)}function _1e(e,t){const n=["Date","Title","Content","Mood","AI Analyzed Mood","Emotion Tags","Child Name","AI Feedback","Developmental Insight","Is Favorite","Photos Count"],r=e.map(l=>{var u,d,h,f;const c=t.find(p=>p.id===l.childProfileId);return[tn(new Date(l.createdAt),"yyyy-MM-dd HH:mm:ss"),l.title||"",l.content.replace(/"/g,'""'),l.mood||"",l.aiAnalyzedMood||"",((u=l.emotionTags)==null?void 0:u.join("; "))||"",(c==null?void 0:c.name)||"",((d=l.aiFeedback)==null?void 0:d.replace(/"/g,'""'))||"",((h=l.developmentalInsight)==null?void 0:h.replace(/"/g,'""'))||"",l.isFavorite==="true"?"Yes":"No",((f=l.photos)==null?void 0:f.length)||"0"]}),s=[n.join(","),...r.map(l=>l.map(c=>`"${c}"`).join(","))].join(`
`),i=new Blob([s],{type:"text/csv"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`parenting-journal-entries-${tn(new Date,"yyyy-MM-dd")}.csv`,a.click(),URL.revokeObjectURL(a.href)}function C1e(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=s=>{var i;try{const a=JSON.parse((i=s.target)==null?void 0:i.result);if(!a.entries||!Array.isArray(a.entries))throw new Error("Invalid file format: missing entries array");if(!a.childProfiles||!Array.isArray(a.childProfiles))throw new Error("Invalid file format: missing childProfiles array");t(a)}catch(a){n(a)}},r.onerror=()=>n(new Error("Failed to read file")),r.readAsText(e)})}async function A1e(e){const t=(await Tg(async()=>{const{default:i}=await Promise.resolve().then(()=>Mbe);return{default:i}},void 0)).default,n=new t,r=n.internal.pageSize.height;let s=20;n.setFontSize(20),n.text("My Favorite Parenting Moments",20,s),s+=15,n.setFontSize(12),n.text(`Exported on ${tn(new Date,"PPP")}`,20,s),s+=20;for(const i of e.entries){if(s>r-40&&(n.addPage(),s=20),n.setFontSize(14),n.text(i.title||"Untitled Entry",20,s),s+=8,n.setFontSize(10),n.text(tn(new Date(i.createdAt),"PPP"),20,s),s+=6,i.childProfileId){const l=e.childProfiles.find(c=>c.id===i.childProfileId);l&&(n.text(`About: ${l.name}`,20,s),s+=6)}i.mood&&(n.text(`Mood: ${i.mood}`,20,s),s+=6),n.setFontSize(11);const a=n.splitTextToSize(i.content,170);n.text(a,20,s),s+=a.length*5+10,s+=5}n.save(`favorite-journal-entries-${tn(new Date,"yyyy-MM-dd")}.pdf`)}function P1e(e){if(!e.entries||!Array.isArray(e.entries)||!e.childProfiles||!Array.isArray(e.childProfiles))return!1;for(const t of e.entries)if(!t.id||!t.content||!t.createdAt)return!1;for(const t of e.childProfiles)if(!t.id||!t.name||!t.dateOfBirth)return!1;return!0}function E1e(){const[e,t]=N.useState({dailyReminder:"false",weeklyProgress:"false",reminderTime:"20:00",notificationEmail:"",browserNotifications:"false",emailVerified:"false"}),[n,r]=N.useState(!1),[s,i]=N.useState("default"),{toast:a}=vs(),l=Bs(),{data:c,isLoading:u}=Ht({queryKey:["/api/notification-settings"],queryFn:async()=>{const _=await fetch("/api/notification-settings");if(!_.ok)throw new Error("Failed to load settings");return _.json()}}),d=On({mutationFn:async _=>{const C=await fetch("/api/notification-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(!C.ok)throw new Error("Failed to save settings");return C.json()},onSuccess:()=>{r(!1),a({title:"Settings Saved Successfully",description:"Your notification preferences have been updated."}),l.invalidateQueries({queryKey:["/api/notification-settings"]})},onError:_=>{a({title:"Save Failed",description:"Failed to save notification settings. Please try again.",variant:"destructive"}),console.error("Save error:",_)}}),h=On({mutationFn:async({type:_,recipient:C})=>(await xr("POST","/api/test-notification",{type:_,recipient:C})).json(),onSuccess:_=>{a({title:_.success?"Test Successful":"Test Failed",description:_.message,variant:_.success?"default":"destructive"})},onError:_=>{_.message.includes("401")?a({title:"Authentication Error",description:"Please logout and login again to refresh your session.",variant:"destructive"}):a({title:"Test Failed",description:_.message,variant:"destructive"})}});N.useEffect(()=>{c&&t(c)},[c]),N.useEffect(()=>{"Notification"in window&&i(Notification.permission)},[]);const f=()=>/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=()=>f()&&/Chrome/i.test(navigator.userAgent)&&!/Edge/i.test(navigator.userAgent),g=(_,C)=>{t(E=>({...E,[_]:C})),r(!0)},x=async()=>{if(!("Notification"in window)){a({title:"Not Supported",description:"Browser notifications are not supported in this browser.",variant:"destructive"});return}if(p()){a({title:"Mobile Chrome Limitation",description:"Mobile Chrome has limited notification support. Consider using email or SMS notifications for reliable reminders.",variant:"destructive"});return}if(f()){a({title:"Mobile Device Detected",description:"Mobile browsers have limited notification support. Email notifications are more reliable on mobile devices.",variant:"destructive"});return}try{const _=await Notification.requestPermission();i(_),_==="granted"?(g("browserNotifications","true"),a({title:"Notifications Enabled",description:"Browser notifications have been enabled successfully."}),new Notification("ParentJourney",{body:"Browser notifications are now enabled! You'll receive gentle reminders for your journaling practice.",icon:"/favicon.ico"})):a({title:"Permission Denied",description:"Browser notifications were not enabled. You can change this in your browser settings.",variant:"destructive"})}catch(_){console.error("Permission request error:",_),a({title:"Error",description:"Failed to request notification permission.",variant:"destructive"})}},b=_=>{const C=_==="email"?e.notificationEmail:void 0;h.mutate({type:_,recipient:C})},v=()=>{if((e.dailyReminder==="true"||e.weeklyProgress==="true")&&!e.notificationEmail&&e.browserNotifications==="false"){a({title:"Validation Error",description:"Please enable at least one notification method (email or browser) to receive reminders.",variant:"destructive"});return}d.mutate(e)},y=()=>{if(p())return{text:" Mobile Chrome - Limited Support",color:"text-orange-600"};if(f())return{text:" Mobile - Limited Support",color:"text-orange-600"};switch(s){case"granted":return{text:" Enabled",color:"text-green-600"};case"denied":return{text:" Blocked",color:"text-red-600"};default:return{text:" Not Set",color:"text-yellow-600"}}};if(u)return o.jsxs(Ye,{className:"animate-pulse w-full max-w-none",children:[o.jsx(Mt,{className:"px-4 sm:px-6",children:o.jsx("div",{className:"h-5 sm:h-6 bg-neutral-200 rounded w-full max-w-xs"})}),o.jsx(Xe,{className:"px-4 sm:px-6",children:o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsx("div",{className:"h-3 sm:h-4 bg-neutral-200 rounded w-full"}),o.jsx("div",{className:"h-3 sm:h-4 bg-neutral-200 rounded w-3/4"}),o.jsx("div",{className:"h-3 sm:h-4 bg-neutral-200 rounded w-1/2"})]})})]});const w=y();return o.jsxs(Ye,{className:"shadow-sm border border-neutral-200 w-full max-w-none",children:[o.jsx(Mt,{className:"px-4 sm:px-6",children:o.jsxs(Dt,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[o.jsxs("span",{className:"flex items-center gap-2 text-lg sm:text-xl",children:[o.jsx(jR,{className:"h-5 w-5 text-primary flex-shrink-0"}),o.jsx("span",{className:"break-words",children:"Notification Management"})]}),n&&o.jsx(xt,{variant:"outline",className:"text-orange-600 border-orange-200 text-xs sm:text-sm self-start sm:self-center",children:"Unsaved Changes"})]})}),o.jsxs(Xe,{className:"space-y-4 sm:space-y-6 px-4 sm:px-6",children:[o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("h3",{className:"font-medium text-neutral-800 flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(Kc,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),o.jsx("span",{children:"Reminder Preferences"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-3 sm:p-4 bg-blue-50 rounded-lg",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsx(Es,{className:"text-sm sm:text-base font-medium text-blue-900",children:"Daily Journaling Reminder"}),o.jsx("p",{className:"text-xs sm:text-sm text-blue-700 leading-relaxed",children:"Get a gentle nudge to reflect on your day"})]}),o.jsx(B1,{checked:e.dailyReminder==="true",onCheckedChange:_=>g("dailyReminder",_?"true":"false"),className:"self-start sm:self-center"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-3 sm:p-4 bg-purple-50 rounded-lg",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsx(Es,{className:"text-sm sm:text-base font-medium text-purple-900",children:"Weekly Progress Updates"}),o.jsx("p",{className:"text-xs sm:text-sm text-purple-700 leading-relaxed",children:"Receive weekly insights about your parenting journey"})]}),o.jsx(B1,{checked:e.weeklyProgress==="true",onCheckedChange:_=>g("weeklyProgress",_?"true":"false"),className:"self-start sm:self-center"})]}),(e.dailyReminder==="true"||e.weeklyProgress==="true")&&o.jsxs("div",{className:"space-y-2 pl-3 sm:pl-4 border-l-2 border-neutral-200 ml-2 sm:ml-0",children:[o.jsxs(Es,{htmlFor:"reminder-time",className:"text-sm sm:text-base font-medium flex items-center gap-2",children:[o.jsx(N0,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{children:"Preferred Reminder Time"})]}),o.jsx(Kt,{id:"reminder-time",type:"time",value:e.reminderTime,onChange:_=>g("reminderTime",_.target.value),className:"w-full max-w-[160px] text-sm sm:text-base"})]})]}),o.jsx(Ao,{}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsx("h3",{className:"font-medium text-neutral-800 text-base sm:text-lg",children:"Notification Methods"}),o.jsxs("div",{className:"space-y-3 p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[o.jsx(yQ,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 flex-shrink-0"}),o.jsx(Es,{className:"font-medium text-blue-900 text-sm sm:text-base",children:"Email Notifications"})]}),o.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[o.jsx(Kt,{type:"email",placeholder:"your-email@example.com",value:e.notificationEmail,onChange:_=>g("notificationEmail",_.target.value),className:"text-sm sm:text-base"}),e.notificationEmail&&o.jsxs(ve,{onClick:()=>b("email"),size:"sm",variant:"outline",disabled:h.isPending,className:"text-xs sm:text-sm w-full sm:w-auto",children:[o.jsx(pC,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Send Test Email"]})]})]}),f()&&o.jsxs("div",{className:"p-3 sm:p-4 bg-orange-50 rounded-lg border border-orange-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(AQ,{className:"h-4 w-4 text-orange-600 flex-shrink-0"}),o.jsx(Es,{className:"font-medium text-sm text-orange-900",children:"Mobile Device Detected"}),o.jsx(xt,{variant:"outline",className:"text-orange-600 border-orange-300 text-xs ml-auto",children:p()?"Chrome Mobile":"Mobile Browser"})]}),o.jsxs("div",{className:"bg-orange-100 rounded-lg p-3",children:[o.jsx("p",{className:"text-xs text-orange-800 mb-2",children:"Browser notifications don't work reliably on mobile devices."}),o.jsxs("p",{className:"text-xs text-orange-700 font-medium",children:[o.jsx("strong",{children:"Recommended:"})," Use Email or SMS notifications above for reliable delivery."]})]})]}),!f()&&o.jsxs("div",{className:"space-y-3 p-3 sm:p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 flex-1",children:[o.jsx(SQ,{className:"h-4 w-4 sm:h-5 sm:w-5 mt-0.5 flex-shrink-0 text-green-600"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(Es,{className:"font-medium text-sm sm:text-base block text-green-900",children:"Browser Notifications"}),o.jsx("p",{className:"text-xs sm:text-sm leading-relaxed mt-1 text-green-700",children:"Instant pop-up reminders on this device"})]})]}),o.jsx(xt,{variant:"outline",className:`${w.color} text-xs whitespace-nowrap self-start`,children:w.text})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:s!=="granted"?o.jsxs(ve,{onClick:x,size:"sm",variant:"outline",className:"text-xs sm:text-sm",children:[o.jsx(Yv,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Enable Browser "}),"Notifications"]}):o.jsxs(ve,{onClick:()=>b("browser"),size:"sm",variant:"outline",disabled:h.isPending,className:"text-xs sm:text-sm",children:[o.jsx(pC,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Test Browser "}),"Notification"]})})]}),o.jsx("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-2 sm:pt-4",children:o.jsxs(ve,{onClick:v,disabled:!n||d.isPending,className:"bg-primary hover:bg-primary/90 w-full sm:w-auto text-sm sm:text-base",children:[o.jsx(_R,{className:"h-4 w-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:d.isPending?"Saving...":"Save Notification Settings"})]})})]}),o.jsx(Ao,{}),f()&&o.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 sm:p-4 border border-blue-200",children:[o.jsxs("h4",{className:"font-medium text-blue-900 mb-2 text-sm sm:text-base flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:""}),o.jsx("span",{children:"Mobile User Recommendations:"})]}),o.jsxs("ul",{className:"text-xs sm:text-sm text-blue-800 space-y-1 leading-relaxed",children:[o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Email notifications"})," work reliably on all mobile devices (FREE via Brevo)"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Browser notifications"})," are recommended for desktop users (FREE)"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"SMS notifications"})," available at $0.005 per message (reliable delivery)"]}),o.jsx("li",{children:" Consider adding your email for the best mobile experience"})]})]}),o.jsx("div",{className:"bg-neutral-50 rounded-lg p-3 sm:p-4 border border-neutral-200",children:o.jsxs("p",{className:"text-xs sm:text-sm text-neutral-600 leading-relaxed",children:[o.jsx("strong",{children:"Privacy Note:"})," We'll only send you the notifications you choose. Your email and phone number are securely stored and never shared with third parties. You can disable notifications at any time."]})})]})]})}const T1e=bt.object({currentPassword:bt.string().min(1,"Current password is required"),newPassword:bt.string().min(8,"New password must be at least 8 characters"),confirmPassword:bt.string()}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),M1e=bt.object({newEmail:bt.string().email("Please enter a valid email address"),password:bt.string().min(1,"Password is required to change email")});function L1e({triggerSignUpPrompt:e}){var R;const t=Yo(),[n,r]=N.useState(Jg),[s,i]=N.useState(null),[a,l]=N.useState(!1),[c,u]=N.useState(!1),[d,h]=N.useState(!1),[f,p]=N.useState(!1),[g,x]=N.useState(!1),[b,v]=N.useState(!1),{toast:y}=vs(),{user:w,isAuthenticated:_}=Yo(),C=Fi({resolver:zi(T1e),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),E=Fi({resolver:zi(M1e),defaultValues:{newEmail:(w==null?void 0:w.email)||"",password:""}}),{data:O}=Ht({queryKey:["/api/journal-entries"],queryFn:async()=>{const G=await fetch("/api/journal-entries?limit=1000");if(!G.ok)throw new Error("Failed to fetch entries");return G.json()}}),{data:T}=Ht({queryKey:["/api/child-profiles"],queryFn:async()=>{const G=await fetch("/api/child-profiles");if(!G.ok)throw new Error("Failed to fetch profiles");return G.json()}});N.useEffect(()=>{document.documentElement.classList.toggle("dark",n.darkMode)},[]);const $=(G,M)=>{const ae={...n,[G]:M};r(ae),Jme({[G]:M}),y({title:"Settings Updated",description:"Your preferences have been saved."})},B=()=>{if(!O||!T){y({title:"Export Failed",description:"No data available to export",variant:"destructive"});return}k1e(O,T),$("lastBackup",new Date().toISOString()),y({title:"Export Complete",description:"Your journal data has been downloaded as JSON"})},L=()=>{if(!(e&&e("export"))){if(!O||!T){y({title:"Export Failed",description:"No data available to export",variant:"destructive"});return}_1e(O,T),y({title:"Export Complete",description:"Your journal entries have been downloaded as CSV"})}},P=async()=>{if(e&&e("export"))return;if(!O||!T){y({title:"Export Failed",description:"No data available to export",variant:"destructive"});return}const G=O.filter(M=>M.isFavorite==="true");if(G.length===0){y({title:"No Favorites",description:"You don't have any favorite entries to export",variant:"destructive"});return}try{await A1e({entries:G,childProfiles:T||[]}),y({title:"Export Complete",description:`Exported ${G.length} favorite entries to PDF`})}catch{y({title:"Export Failed",description:"Failed to export favorites to PDF",variant:"destructive"})}},D=async G=>{var ae;const M=(ae=G.target.files)==null?void 0:ae[0];if(M){i(M),l(!0);try{const z=await C1e(M);if(!P1e(z))throw new Error("Invalid file format");localStorage.setItem("imported-data",JSON.stringify(z)),y({title:"Import Successful",description:`Imported ${z.entries.length} entries and ${z.childProfiles.length} profiles`})}catch(z){y({title:"Import Failed",description:z instanceof Error?z.message:"Failed to import data",variant:"destructive"})}finally{l(!1),i(null),G.target.value=""}}},F=async G=>{try{const M=await fetch("/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:G.currentPassword,newPassword:G.newPassword})}),ae=await M.json();if(!M.ok)throw new Error(ae.error||"Failed to change password");y({title:"Password Updated",description:"Your password has been successfully changed."}),C.reset()}catch(M){y({title:"Password Change Failed",description:M instanceof Error?M.message:"Something went wrong. Please try again.",variant:"destructive"})}},U=async G=>{try{const M=await fetch("/auth/change-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newEmail:G.newEmail,password:G.password})}),ae=await M.json();if(!M.ok)throw new Error(ae.error||"Failed to change email");y({title:"Email Updated",description:"Your email has been successfully changed."}),E.reset({newEmail:G.newEmail,password:""}),setTimeout(()=>window.location.reload(),1e3)}catch(M){y({title:"Email Change Failed",description:M instanceof Error?M.message:"Something went wrong. Please try again.",variant:"destructive"})}},W=()=>{ege(),Zme(),r(Jg()),y({title:"Data Reset",description:"All app data has been cleared. Please refresh the page."})},H=(O==null?void 0:O.filter(G=>G.isFavorite==="true").length)||0;return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 to-primary/5 dark:from-neutral-900 dark:to-neutral-800",children:[o.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 max-w-4xl",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsx(Nn,{href:"/",children:o.jsxs(ve,{variant:"outline",className:"hover-scale text-xs sm:text-sm",children:[o.jsx(ja,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden xs:inline",children:"Back to "}),"Main"]})})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-neutral-800 dark:text-neutral-100",children:" Settings"}),o.jsx("p",{className:"text-sm sm:text-base text-neutral-600 dark:text-neutral-300 mt-2",children:"Customize your ParentJourney experience"})]})]}),o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[_?o.jsx(E1e,{}):o.jsxs(Ye,{className:"dark:bg-neutral-800 dark:border-neutral-700",children:[o.jsx(Mt,{children:o.jsxs(Dt,{className:"flex items-center gap-2 text-neutral-800 dark:text-neutral-100",children:[o.jsx(jR,{className:"h-5 w-5 text-primary"}),"Reminders & Notifications"]})}),o.jsxs(Xe,{className:"text-center py-6 sm:py-8 px-4 sm:px-6",children:[o.jsx("p",{className:"text-sm sm:text-base text-neutral-600 dark:text-neutral-400 mb-4 leading-relaxed",children:"Sign in to customize your notification preferences and receive personalized reminders."}),o.jsx(Nn,{href:"/",children:o.jsx(ve,{variant:"outline",className:"text-sm sm:text-base",children:"Sign In to Access Notifications"})})]})]}),o.jsxs(Ye,{className:"dark:bg-neutral-800 dark:border-neutral-700",children:[o.jsx(Mt,{children:o.jsxs(Dt,{className:"flex items-center gap-2 text-neutral-800 dark:text-neutral-100",children:[o.jsx(Wo,{className:"h-5 w-5 text-primary"}),"Personal Goals & Focus"]})}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Es,{htmlFor:"parenting-focus",className:"text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"What's one parenting focus you want to work on?"}),o.jsxs("div",{className:"relative",children:[o.jsx(Xr,{id:"parenting-focus",placeholder:"e.g., Being more patient during bedtime routines, encouraging independence, improving communication...",value:n.parentingFocus,onChange:G=>$("parentingFocus",G.target.value),className:"min-h-[80px] dark:bg-neutral-700 dark:border-neutral-600 dark:text-neutral-100 pr-12"}),o.jsx("div",{className:"absolute right-2 top-2",children:o.jsx(Sc,{onTranscript:G=>{const M=n.parentingFocus||"";$("parentingFocus",M+(M?" ":"")+G)}})})]})]}),n.parentingFocus&&o.jsx("div",{className:"p-3 bg-primary/5 dark:bg-primary/10 rounded-lg border border-primary/20",children:o.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:"Your focus will be displayed on your journal screen as a gentle reminder"})})]})]}),_&&w&&o.jsxs(Ye,{className:"dark:bg-neutral-800 dark:border-neutral-700",children:[o.jsx(Mt,{children:o.jsxs(Dt,{className:"flex items-center gap-2 text-neutral-800 dark:text-neutral-100",children:[o.jsx(ww,{className:"h-5 w-5 text-primary"}),"Account Settings"]})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Es,{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Username"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-700 px-3 py-2 rounded-md text-neutral-700 dark:text-neutral-300 text-sm",children:["@",w.username]}),o.jsx(xt,{variant:"secondary",children:"Cannot be changed"})]})]}),o.jsx(Ao,{className:"dark:border-neutral-600"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:"Change Email Address"}),o.jsx(Bi,{...E,children:o.jsxs("form",{onSubmit:E.handleSubmit(U),className:"space-y-4",children:[o.jsx(Wt,{control:E.control,name:"newEmail",render:({field:G})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"New Email Address"}),o.jsx($t,{children:o.jsx(Kt,{type:"email",placeholder:"Enter new email address",...G})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:E.control,name:"password",render:({field:G})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Current Password"}),o.jsx($t,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Kt,{type:b?"text":"password",placeholder:"Enter your current password",...G}),o.jsx(ve,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>v(!b),tabIndex:-1,children:b?o.jsx(Ju,{className:"h-4 w-4"}):o.jsx(Zu,{className:"h-4 w-4"})})]})}),o.jsx(Ut,{})]})}),o.jsx(ve,{type:"submit",disabled:E.formState.isSubmitting,children:E.formState.isSubmitting?"Updating...":"Update Email"})]})})]}),o.jsx(Ao,{className:"dark:border-neutral-600"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:"Change Password"}),o.jsx(Bi,{...C,children:o.jsxs("form",{onSubmit:C.handleSubmit(F),className:"space-y-4",children:[o.jsx(Wt,{control:C.control,name:"currentPassword",render:({field:G})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Current Password"}),o.jsx($t,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Kt,{type:d?"text":"password",placeholder:"Enter your current password",...G}),o.jsx(ve,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!d),tabIndex:-1,children:d?o.jsx(Ju,{className:"h-4 w-4"}):o.jsx(Zu,{className:"h-4 w-4"})})]})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:C.control,name:"newPassword",render:({field:G})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"New Password"}),o.jsx($t,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Kt,{type:f?"text":"password",placeholder:"Enter new password (min 8 characters)",...G}),o.jsx(ve,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>p(!f),tabIndex:-1,children:f?o.jsx(Ju,{className:"h-4 w-4"}):o.jsx(Zu,{className:"h-4 w-4"})})]})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:C.control,name:"confirmPassword",render:({field:G})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Confirm New Password"}),o.jsx($t,{children:o.jsxs("div",{className:"relative",children:[o.jsx(Kt,{type:g?"text":"password",placeholder:"Confirm your new password",...G}),o.jsx(ve,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!g),tabIndex:-1,children:g?o.jsx(Ju,{className:"h-4 w-4"}):o.jsx(Zu,{className:"h-4 w-4"})})]})}),o.jsx(Ut,{})]})}),o.jsx(ve,{type:"submit",disabled:C.formState.isSubmitting,children:C.formState.isSubmitting?"Updating...":"Change Password"})]})})]})]})]}),o.jsxs(Ye,{className:"dark:bg-neutral-800 dark:border-neutral-700",children:[o.jsx(Mt,{children:o.jsxs(Dt,{className:"flex items-center gap-2 text-neutral-800 dark:text-neutral-100",children:[o.jsx(Vj,{className:"h-5 w-5 text-primary"}),"Backup & Export Options"]})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:"Export All Data"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ve,{onClick:B,variant:"outline",className:"w-full justify-start dark:border-neutral-600 dark:text-neutral-100",children:[o.jsx(qj,{className:"h-4 w-4 mr-2"}),"Download as JSON"]}),o.jsxs(ve,{onClick:L,variant:"outline",className:"w-full justify-start dark:border-neutral-600 dark:text-neutral-100",children:[o.jsx(Ng,{className:"h-4 w-4 mr-2"}),"Download as CSV"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:"Export Favorites"}),o.jsxs(ve,{onClick:P,disabled:H===0,variant:"outline",className:"w-full justify-start dark:border-neutral-600 dark:text-neutral-100",children:[o.jsx(Vj,{className:"h-4 w-4 mr-2"}),"Export ",H," Favorites to PDF"]}),H===0&&o.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Star some entries to export them as favorites"})]})]}),n.lastBackup&&o.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 flex items-center gap-1",children:[o.jsx(zl,{className:"h-3 w-3"}),"Last backup: ",new Date(n.lastBackup).toLocaleDateString()]})]})]}),o.jsxs(Ye,{className:"dark:bg-neutral-800 dark:border-neutral-700",children:[o.jsx(Mt,{children:o.jsxs(Dt,{className:"flex items-center gap-2 text-neutral-800 dark:text-neutral-100",children:[o.jsx(Kc,{className:"h-5 w-5 text-primary"}),"Advanced Settings"]})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Es,{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 flex items-center gap-2",children:[n.darkMode?o.jsx(kQ,{className:"h-4 w-4"}):o.jsx(EQ,{className:"h-4 w-4"}),"Dark mode"]}),o.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Toggle between light and dark themes"})]}),o.jsx(B1,{checked:n.darkMode,onCheckedChange:G=>$("darkMode",G)})]}),o.jsx(Ao,{className:"dark:bg-neutral-600"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Es,{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 flex items-center gap-2",children:[o.jsx(Kj,{className:"h-4 w-4"}),"Import Data"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Kt,{type:"file",accept:".json",onChange:D,disabled:a,className:"dark:bg-neutral-700 dark:border-neutral-600"}),a&&o.jsxs(xt,{variant:"secondary",children:[o.jsx(Hv,{className:"h-3 w-3 mr-1 animate-spin"}),"Importing..."]})]}),o.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Import journal data from a JSON backup file"})]}),o.jsx(Ao,{className:"dark:bg-neutral-600"}),(w==null?void 0:w.username)==="esanjosechicano"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Es,{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 flex items-center gap-2",children:[o.jsx(Kc,{className:"h-4 w-4"}),"Admin Portal"]}),o.jsx(Nn,{href:"/admin",children:o.jsxs(ve,{variant:"outline",className:"w-full dark:border-neutral-600 dark:text-neutral-100 bg-orange-50 hover:bg-orange-100 dark:bg-orange-900/20 dark:hover:bg-orange-900/30 border-orange-200 dark:border-orange-800",children:[o.jsx(Kc,{className:"mr-2 h-4 w-4"}),"Access Admin Dashboard"]})}),o.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Manage users, subscriptions, and system settings"})]}),o.jsx(Ao,{className:"dark:bg-neutral-600"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Es,{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 flex items-center gap-2",children:[o.jsx(rn,{className:"h-4 w-4"}),"App Tutorial"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ve,{onClick:()=>u(!0),variant:"outline",className:"flex-1 dark:border-neutral-600 dark:text-neutral-100",children:[o.jsx(rn,{className:"mr-2 h-4 w-4"}),"Take Tour Again"]}),o.jsx(qk,{variant:"restart",size:"default"})]}),o.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Revisit key features and learn how to make the most of ParentJourney"})]}),((R=t.user)==null?void 0:R.username)==="esanjosechicano"?o.jsxs(o.Fragment,{children:[o.jsx(Ao,{className:"dark:bg-neutral-600"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Es,{className:"text-sm font-medium text-red-600 dark:text-red-400 flex items-center gap-2",children:[o.jsx(ww,{className:"h-4 w-4"}),"Administrator Access"]}),o.jsx(Nn,{href:"/admin",children:o.jsxs(ve,{variant:"outline",className:"w-full border-red-200 text-red-700 hover:bg-red-50 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-950",children:[o.jsx(ww,{className:"mr-2 h-4 w-4"}),"Open Admin Dashboard"]})}),o.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Access admin controls, user management, and family administration"})]})]}):null,o.jsx(Ao,{className:"dark:bg-neutral-600"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Es,{className:"text-sm font-medium text-red-600 dark:text-red-400 flex items-center gap-2",children:[o.jsx(MQ,{className:"h-4 w-4"}),"Danger Zone"]}),o.jsxs(j1e,{children:[o.jsx(N1e,{asChild:!0,children:o.jsxs(ve,{variant:"destructive",className:"w-full",children:[o.jsx(Gv,{className:"h-4 w-4 mr-2"}),"Reset All App Data"]})}),o.jsxs(sq,{className:"dark:bg-neutral-800 dark:border-neutral-700",children:[o.jsxs(iq,{children:[o.jsx(oq,{className:"dark:text-neutral-100",children:"Are you absolutely sure?"}),o.jsx(lq,{className:"dark:text-neutral-300",children:"This action cannot be undone. This will permanently delete all your journal entries, child profiles, settings, and any other app data stored locally."})]}),o.jsxs(aq,{children:[o.jsx(uq,{className:"dark:border-neutral-600 dark:text-neutral-100",children:"Cancel"}),o.jsx(cq,{onClick:W,className:"bg-red-600 hover:bg-red-700",children:"Yes, delete everything"})]})]})]}),o.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"This will clear all journal entries, profiles, and settings"})]})]})]})]})]}),o.jsx(UO,{isOpen:c,onClose:()=>u(!1)})]})}function I1e(){const[e,t]=v0(),n=new URLSearchParams(e.split("?")[1]||"").get("childId"),{data:r}=Ht({queryKey:["/api/child-profiles",n],queryFn:async()=>{const l=await fetch(`/api/child-profiles/${n}`);if(!l.ok)throw new Error("Failed to fetch child profile");return l.json()},enabled:!!n}),{data:s,isLoading:i}=Ht({queryKey:["/api/journal-entries",n],queryFn:async()=>{const l=await fetch(`/api/journal-entries?childId=${n}`);if(!l.ok)throw new Error("Failed to fetch entries");return l.json()},enabled:!!n});if(!n)return t("/"),null;const a=r!=null&&r.developmentalStage?Qk(r.dateOfBirth):null;return o.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[o.jsx(Bm,{}),o.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs(ve,{variant:"outline",onClick:()=>t("/"),className:"mb-4 hover-lift button-press",children:[o.jsx(ja,{className:"mr-2 h-4 w-4"}),"Back to Home"]}),r&&o.jsx(Ye,{className:"border border-primary/20 animate-fade-in",children:o.jsxs(Xe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsx(gs,{className:"text-primary h-8 w-8"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-neutral-800",children:[r.name,"'s Journal Entries"]}),o.jsxs("p",{className:"text-neutral-600",children:[Xk(r.dateOfBirth),r.gender&&o.jsxs("span",{className:"ml-2",children:[" ",r.gender]})]}),a&&o.jsxs(xt,{variant:"secondary",className:"mt-1",children:[a.label," Stage"]})]})]}),r.notes&&o.jsx("div",{className:"bg-neutral-50 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-neutral-700",children:r.notes})})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-neutral-800",children:"Journal Entries"}),s&&o.jsxs(xt,{variant:"outline",children:[s.length," ",s.length===1?"entry":"entries"]})]}),i?o.jsx("div",{className:"space-y-4",children:[...Array(3)].map((l,c)=>o.jsx(Ye,{className:"animate-pulse",children:o.jsxs(Xe,{className:"p-6",children:[o.jsx(Ls,{className:"h-4 w-1/4 mb-2"}),o.jsx(Ls,{className:"h-4 w-full mb-2"}),o.jsx(Ls,{className:"h-4 w-3/4"})]})},c))}):s&&s.length>0?o.jsx("div",{className:"space-y-4",children:s.map((l,c)=>o.jsx(Ye,{className:`hover-lift animate-fade-in stagger-${Math.min(c,5)}`,children:o.jsxs(Xe,{className:"p-6",children:[o.jsx("div",{className:"flex items-start justify-between mb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rs,{className:"h-4 w-4 text-neutral-500"}),o.jsx("span",{className:"text-sm text-neutral-600",children:tn(new Date(l.createdAt),"MMMM d, yyyy  h:mm a")}),l.mood&&o.jsx(xt,{variant:"outline",className:"ml-2",children:l.mood})]})}),l.title&&o.jsx("h3",{className:"text-lg font-medium text-neutral-800 mb-2",children:l.title}),o.jsx("p",{className:"text-neutral-700 mb-4 leading-relaxed",children:l.content}),l.aiFeedback&&o.jsx("div",{className:"bg-gradient-to-r from-accent/10 to-secondary/10 rounded-lg p-4 border border-accent/20",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Hh,{className:"h-5 w-5 text-accent mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-neutral-800 mb-2",children:"AI Insights"}),o.jsx("p",{className:"text-sm text-neutral-700 leading-relaxed",children:l.aiFeedback})]})]})}),l.developmentalInsight&&o.jsx("div",{className:"bg-secondary/10 rounded-lg p-4 border border-secondary/20 mt-3",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Sl,{className:"h-5 w-5 text-secondary mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-neutral-800 mb-2",children:"Developmental Insight"}),o.jsx("p",{className:"text-sm text-neutral-700 leading-relaxed",children:l.developmentalInsight})]})]})})]})},l.id))}):o.jsx(Ye,{className:"text-center py-12 animate-fade-in",children:o.jsxs(Xe,{children:[o.jsx(gs,{className:"h-16 w-16 text-neutral-300 mx-auto mb-4"}),o.jsxs("h3",{className:"text-lg font-medium text-neutral-600 mb-2",children:["No entries yet for ",r==null?void 0:r.name]}),o.jsxs("p",{className:"text-neutral-500 mb-4",children:["Start journaling about ",r==null?void 0:r.name," to track their growth and get personalized insights."]}),o.jsx(ve,{onClick:()=>t("/"),className:"button-press hover-lift",children:"Create First Entry"})]})})]})]})]})}function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(e)}var Ms=Uint8Array,Wi=Uint16Array,n_=Int32Array,Xb=new Ms([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Jb=new Ms([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),WN=new Ms([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dq=function(e,t){for(var n=new Wi(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new n_(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},hq=dq(Xb,2),fq=hq.b,HN=hq.r;fq[28]=258,HN[258]=28;var pq=dq(Jb,0),D1e=pq.b,U6=pq.r,YN=new Wi(32768);for(var Yn=0;Yn<32768;++Yn){var fc=(Yn&43690)>>1|(Yn&21845)<<1;fc=(fc&52428)>>2|(fc&13107)<<2,fc=(fc&61680)>>4|(fc&3855)<<4,YN[Yn]=((fc&65280)>>8|(fc&255)<<8)>>1}var Vo=function(e,t,n){for(var r=e.length,s=0,i=new Wi(t);s<r;++s)e[s]&&++i[e[s]-1];var a=new Wi(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(n){l=new Wi(1<<t);var c=15-t;for(s=0;s<r;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],h=a[e[s]-1]++<<d,f=h|(1<<d)-1;h<=f;++h)l[YN[h]>>c]=u}else for(l=new Wi(r),s=0;s<r;++s)e[s]&&(l[s]=YN[a[e[s]-1]++]>>15-e[s]);return l},hu=new Ms(288);for(var Yn=0;Yn<144;++Yn)hu[Yn]=8;for(var Yn=144;Yn<256;++Yn)hu[Yn]=9;for(var Yn=256;Yn<280;++Yn)hu[Yn]=7;for(var Yn=280;Yn<288;++Yn)hu[Yn]=8;var a0=new Ms(32);for(var Yn=0;Yn<32;++Yn)a0[Yn]=5;var R1e=Vo(hu,9,0),O1e=Vo(hu,9,1),F1e=Vo(a0,5,0),z1e=Vo(a0,5,1),N5=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ra=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},S5=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},r_=function(e){return(e+7)/8|0},mq=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Ms(e.subarray(t,n))},B1e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ba=function(e,t,n){var r=new Error(t||B1e[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Ba),!n)throw r;return r},$1e=function(e,t,n,r){var s=e.length,i=0;if(!s||t.f&&!t.l)return n||new Ms(0);var a=!n,l=a||t.i!=2,c=t.i;a&&(n=new Ms(s*3));var u=function(Ce){var De=n.length;if(Ce>De){var Ue=new Ms(Math.max(De*2,Ce));Ue.set(n),n=Ue}},d=t.f||0,h=t.p||0,f=t.b||0,p=t.l,g=t.d,x=t.m,b=t.n,v=s*8;do{if(!p){d=Ra(e,h,1);var y=Ra(e,h+1,3);if(h+=3,y)if(y==1)p=O1e,g=z1e,x=9,b=5;else if(y==2){var E=Ra(e,h,31)+257,O=Ra(e,h+10,15)+4,T=E+Ra(e,h+5,31)+1;h+=14;for(var $=new Ms(T),B=new Ms(19),L=0;L<O;++L)B[WN[L]]=Ra(e,h+L*3,7);h+=O*3;for(var P=N5(B),D=(1<<P)-1,F=Vo(B,P,1),L=0;L<T;){var U=F[Ra(e,h,D)];h+=U&15;var w=U>>4;if(w<16)$[L++]=w;else{var W=0,H=0;for(w==16?(H=3+Ra(e,h,3),h+=2,W=$[L-1]):w==17?(H=3+Ra(e,h,7),h+=3):w==18&&(H=11+Ra(e,h,127),h+=7);H--;)$[L++]=W}}var R=$.subarray(0,E),G=$.subarray(E);x=N5(R),b=N5(G),p=Vo(R,x,1),g=Vo(G,b,1)}else Ba(1);else{var w=r_(h)+4,_=e[w-4]|e[w-3]<<8,C=w+_;if(C>s){c&&Ba(0);break}l&&u(f+_),n.set(e.subarray(w,C),f),t.b=f+=_,t.p=h=C*8,t.f=d;continue}if(h>v){c&&Ba(0);break}}l&&u(f+131072);for(var M=(1<<x)-1,ae=(1<<b)-1,z=h;;z=h){var W=p[S5(e,h)&M],I=W>>4;if(h+=W&15,h>v){c&&Ba(0);break}if(W||Ba(2),I<256)n[f++]=I;else if(I==256){z=h,p=null;break}else{var J=I-254;if(I>264){var L=I-257,se=Xb[L];J=Ra(e,h,(1<<se)-1)+fq[L],h+=se}var re=g[S5(e,h)&ae],oe=re>>4;re||Ba(3),h+=re&15;var G=D1e[oe];if(oe>3){var se=Jb[oe];G+=S5(e,h)&(1<<se)-1,h+=se}if(h>v){c&&Ba(0);break}l&&u(f+131072);var ce=f+J;if(f<G){var xe=i-G,Pe=Math.min(G,ce);for(xe+f<0&&Ba(3);f<Pe;++f)n[f]=r[xe+f]}for(;f<ce;++f)n[f]=n[f-G]}}t.l=p,t.p=z,t.b=f,t.f=d,p&&(d=1,t.m=x,t.d=g,t.n=b)}while(!d);return f!=n.length&&a?mq(n,0,f):n.subarray(0,f)},xl=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},dm=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},k5=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,i=n.slice();if(!s)return{t:xq,l:0};if(s==1){var a=new Ms(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(C,E){return C.f-E.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,h=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=n[n[u].f<n[h].f?u++:h++],c=n[u!=d&&n[u].f<n[h].f?u++:h++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var f=i[0].s,r=1;r<s;++r)i[r].s>f&&(f=i[r].s);var p=new Wi(f+1),g=GN(n[d-1],p,0);if(g>t){var r=0,x=0,b=g-t,v=1<<b;for(i.sort(function(E,O){return p[O.s]-p[E.s]||E.f-O.f});r<s;++r){var y=i[r].s;if(p[y]>t)x+=v-(1<<g-p[y]),p[y]=t;else break}for(x>>=b;x>0;){var w=i[r].s;p[w]<t?x-=1<<t-p[w]++-1:++r}for(;r>=0&&x;--r){var _=i[r].s;p[_]==t&&(--p[_],++x)}g=t}return{t:new Ms(p),l:g}},GN=function(e,t,n){return e.s==-1?Math.max(GN(e.l,t,n+1),GN(e.r,t,n+1)):t[e.s]=n},V6=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Wi(++t),r=0,s=e[0],i=1,a=function(c){n[r++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[l]}return{c:n.subarray(0,r),n:t}},hm=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},gq=function(e,t,n){var r=n.length,s=r_(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<r;++i)e[s+i+4]=n[i];return(s+4+r)*8},q6=function(e,t,n,r,s,i,a,l,c,u,d){xl(t,d++,n),++s[256];for(var h=k5(s,15),f=h.t,p=h.l,g=k5(i,15),x=g.t,b=g.l,v=V6(f),y=v.c,w=v.n,_=V6(x),C=_.c,E=_.n,O=new Wi(19),T=0;T<y.length;++T)++O[y[T]&31];for(var T=0;T<C.length;++T)++O[C[T]&31];for(var $=k5(O,7),B=$.t,L=$.l,P=19;P>4&&!B[WN[P-1]];--P);var D=u+5<<3,F=hm(s,hu)+hm(i,a0)+a,U=hm(s,f)+hm(i,x)+a+14+3*P+hm(O,B)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&D<=F&&D<=U)return gq(t,d,e.subarray(c,c+u));var W,H,R,G;if(xl(t,d,1+(U<F)),d+=2,U<F){W=Vo(f,p,0),H=f,R=Vo(x,b,0),G=x;var M=Vo(B,L,0);xl(t,d,w-257),xl(t,d+5,E-1),xl(t,d+10,P-4),d+=14;for(var T=0;T<P;++T)xl(t,d+3*T,B[WN[T]]);d+=3*P;for(var ae=[y,C],z=0;z<2;++z)for(var I=ae[z],T=0;T<I.length;++T){var J=I[T]&31;xl(t,d,M[J]),d+=B[J],J>15&&(xl(t,d,I[T]>>5&127),d+=I[T]>>12)}}else W=R1e,H=hu,R=F1e,G=a0;for(var T=0;T<l;++T){var se=r[T];if(se>255){var J=se>>18&31;dm(t,d,W[J+257]),d+=H[J+257],J>7&&(xl(t,d,se>>23&31),d+=Xb[J]);var re=se&31;dm(t,d,R[re]),d+=G[re],re>3&&(dm(t,d,se>>5&8191),d+=Jb[re])}else dm(t,d,W[se]),d+=H[se]}return dm(t,d,W[256]),d+H[256]},U1e=new n_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xq=new Ms(0),V1e=function(e,t,n,r,s,i){var a=i.z||e.length,l=new Ms(r+a+5*(1+Math.ceil(a/7e3))+s),c=l.subarray(r,l.length-s),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var h=U1e[t-1],f=h>>13,p=h&8191,g=(1<<n)-1,x=i.p||new Wi(32768),b=i.h||new Wi(g+1),v=Math.ceil(n/3),y=2*v,w=function(ct){return(e[ct]^e[ct+1]<<v^e[ct+2]<<y)&g},_=new n_(25e3),C=new Wi(288),E=new Wi(32),O=0,T=0,$=i.i||0,B=0,L=i.w||0,P=0;$+2<a;++$){var D=w($),F=$&32767,U=b[D];if(x[F]=U,b[D]=F,L<=$){var W=a-$;if((O>7e3||B>24576)&&(W>423||!u)){d=q6(e,c,0,_,C,E,T,B,P,$-P,d),B=O=T=0,P=$;for(var H=0;H<286;++H)C[H]=0;for(var H=0;H<30;++H)E[H]=0}var R=2,G=0,M=p,ae=F-U&32767;if(W>2&&D==w($-ae))for(var z=Math.min(f,W)-1,I=Math.min(32767,$),J=Math.min(258,W);ae<=I&&--M&&F!=U;){if(e[$+R]==e[$+R-ae]){for(var se=0;se<J&&e[$+se]==e[$+se-ae];++se);if(se>R){if(R=se,G=ae,se>z)break;for(var re=Math.min(ae,se-2),oe=0,H=0;H<re;++H){var ce=$-ae+H&32767,xe=x[ce],Pe=ce-xe&32767;Pe>oe&&(oe=Pe,U=ce)}}}F=U,U=x[F],ae+=F-U&32767}if(G){_[B++]=268435456|HN[R]<<18|U6[G];var Ce=HN[R]&31,De=U6[G]&31;T+=Xb[Ce]+Jb[De],++C[257+Ce],++E[De],L=$+R,++O}else _[B++]=e[$],++C[e[$]]}}for($=Math.max($,L);$<a;++$)_[B++]=e[$],++C[e[$]];d=q6(e,c,u,_,C,E,T,B,P,$-P,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=b,i.p=x,i.i=$,i.w=L)}else{for(var $=i.w||0;$<a+u;$+=65535){var Ue=$+65535;Ue>=a&&(c[d/8|0]=u,Ue=a),d=gq(c,d+1,e.subarray($,Ue))}i.i=a}return mq(l,0,r+r_(d)+s)},yq=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,i=n.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=r+=n[a];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},q1e=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new Ms(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return V1e(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},vq=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},W1e=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=yq();s.p(t.dictionary),vq(e,2,s.d())}},H1e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ba(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Ba(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function KN(e,t){t||(t={});var n=yq();n.p(e);var r=q1e(e,t,t.dictionary?6:2,4);return W1e(r,t),vq(r,r.length-4,n.d()),r}function Y1e(e,t){return $1e(e.subarray(H1e(e,t),-4),{i:2},t,t)}var G1e=typeof TextDecoder<"u"&&new TextDecoder,K1e=0;try{G1e.decode(xq,{stream:!0}),K1e=1}catch{}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function _5(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var Rn={log:_5,warn:function(e){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):_5.call(null,arguments))},error:function(e){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):_5(e))}};function C5(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Hu(r.response,t,n)},r.onerror=function(){Rn.error("could not download file")},r.send()}function W6(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ry(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var eg,QN,Hu=At.saveAs||((typeof window>"u"?"undefined":En(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=At.URL||At.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?W6(s.href)?C5(e,t,n):Ry(s,s.target="_blank"):Ry(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Ry(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(W6(e))C5(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Ry(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:En(i)!=="object"&&(Rn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return C5(e,t,n);var s=e.type==="application/octet-stream",i=/constructor/i.test(At.HTMLElement)||At.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":En(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(e)}else{var c=At.URL||At.webkitURL,u=c.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function bq(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function A5(e,t){var n=e[0],r=e[1],s=e[2],i=e[3];n=Ss(n,r,s,i,t[0],7,-680876936),i=Ss(i,n,r,s,t[1],12,-389564586),s=Ss(s,i,n,r,t[2],17,606105819),r=Ss(r,s,i,n,t[3],22,-1044525330),n=Ss(n,r,s,i,t[4],7,-176418897),i=Ss(i,n,r,s,t[5],12,1200080426),s=Ss(s,i,n,r,t[6],17,-1473231341),r=Ss(r,s,i,n,t[7],22,-45705983),n=Ss(n,r,s,i,t[8],7,1770035416),i=Ss(i,n,r,s,t[9],12,-1958414417),s=Ss(s,i,n,r,t[10],17,-42063),r=Ss(r,s,i,n,t[11],22,-1990404162),n=Ss(n,r,s,i,t[12],7,1804603682),i=Ss(i,n,r,s,t[13],12,-40341101),s=Ss(s,i,n,r,t[14],17,-1502002290),n=ks(n,r=Ss(r,s,i,n,t[15],22,1236535329),s,i,t[1],5,-165796510),i=ks(i,n,r,s,t[6],9,-1069501632),s=ks(s,i,n,r,t[11],14,643717713),r=ks(r,s,i,n,t[0],20,-373897302),n=ks(n,r,s,i,t[5],5,-701558691),i=ks(i,n,r,s,t[10],9,38016083),s=ks(s,i,n,r,t[15],14,-660478335),r=ks(r,s,i,n,t[4],20,-405537848),n=ks(n,r,s,i,t[9],5,568446438),i=ks(i,n,r,s,t[14],9,-1019803690),s=ks(s,i,n,r,t[3],14,-187363961),r=ks(r,s,i,n,t[8],20,1163531501),n=ks(n,r,s,i,t[13],5,-1444681467),i=ks(i,n,r,s,t[2],9,-51403784),s=ks(s,i,n,r,t[7],14,1735328473),n=_s(n,r=ks(r,s,i,n,t[12],20,-1926607734),s,i,t[5],4,-378558),i=_s(i,n,r,s,t[8],11,-2022574463),s=_s(s,i,n,r,t[11],16,1839030562),r=_s(r,s,i,n,t[14],23,-35309556),n=_s(n,r,s,i,t[1],4,-1530992060),i=_s(i,n,r,s,t[4],11,1272893353),s=_s(s,i,n,r,t[7],16,-155497632),r=_s(r,s,i,n,t[10],23,-1094730640),n=_s(n,r,s,i,t[13],4,681279174),i=_s(i,n,r,s,t[0],11,-358537222),s=_s(s,i,n,r,t[3],16,-722521979),r=_s(r,s,i,n,t[6],23,76029189),n=_s(n,r,s,i,t[9],4,-640364487),i=_s(i,n,r,s,t[12],11,-421815835),s=_s(s,i,n,r,t[15],16,530742520),n=Cs(n,r=_s(r,s,i,n,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Cs(i,n,r,s,t[7],10,1126891415),s=Cs(s,i,n,r,t[14],15,-1416354905),r=Cs(r,s,i,n,t[5],21,-57434055),n=Cs(n,r,s,i,t[12],6,1700485571),i=Cs(i,n,r,s,t[3],10,-1894986606),s=Cs(s,i,n,r,t[10],15,-1051523),r=Cs(r,s,i,n,t[1],21,-2054922799),n=Cs(n,r,s,i,t[8],6,1873313359),i=Cs(i,n,r,s,t[15],10,-30611744),s=Cs(s,i,n,r,t[6],15,-1560198380),r=Cs(r,s,i,n,t[13],21,1309151649),n=Cs(n,r,s,i,t[4],6,-145523070),i=Cs(i,n,r,s,t[11],10,-1120210379),s=Cs(s,i,n,r,t[2],15,718787259),r=Cs(r,s,i,n,t[9],21,-343485551),e[0]=Bc(n,e[0]),e[1]=Bc(r,e[1]),e[2]=Bc(s,e[2]),e[3]=Bc(i,e[3])}function Zb(e,t,n,r,s,i){return t=Bc(Bc(t,e),Bc(r,i)),Bc(t<<s|t>>>32-s,n)}function Ss(e,t,n,r,s,i,a){return Zb(t&n|~t&r,e,t,s,i,a)}function ks(e,t,n,r,s,i,a){return Zb(t&r|n&~r,e,t,s,i,a)}function _s(e,t,n,r,s,i,a){return Zb(t^n^r,e,t,s,i,a)}function Cs(e,t,n,r,s,i,a){return Zb(n^(t|~r),e,t,s,i,a)}function wq(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)A5(r,Q1e(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(A5(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,A5(r,s),r}function Q1e(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}eg=At.atob.bind(At),QN=At.btoa.bind(At);var H6="0123456789abcdef".split("");function X1e(e){for(var t="",n=0;n<4;n++)t+=H6[e>>8*n+4&15]+H6[e>>8*n&15];return t}function J1e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function XN(e){return wq(e).map(J1e).join("")}var Z1e=function(e){for(var t=0;t<e.length;t++)e[t]=X1e(e[t]);return e.join("")}(wq("hello"))!="5d41402abc4b2a76b9719d911017c592";function Bc(e,t){if(Z1e){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function JN(e,t){var n,r,s,i;if(e!==n){for(var a=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+a.charCodeAt(c))%256,l[c]=l[u],l[u]=d}n=e,r=l}else l=r;var h=t.length,f=0,p=0,g="";for(c=0;c<h;c++)p=(p+(d=l[f=(f+1)%256]))%256,l[f]=l[p],l[p]=d,a=l[(l[f]+l[p])%256],g+=String.fromCharCode(t.charCodeAt(c)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Y6={print:4,modify:8,copy:16,"annot-forms":32};function Mh(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(Y6.perm!==void 0)throw new Error("Invalid permission: "+l);s+=Y6[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=XN(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=JN(this.encryptionKey,this.padding)}function Lh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[r]}return t}function G6(e){if(En(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[n]){var a=t[n][i];try{a[0].apply(e,r)}catch(l){At.console&&Rn.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function o0(e){if(!(this instanceof o0))return new o0(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function jq(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function kc(e,t,n,r,s){if(!(this instanceof kc))return new kc(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,jq.call(this,r,s)}function rd(e,t,n,r,s){if(!(this instanceof rd))return new rd(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,jq.call(this,r,s)}function wt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,c=16,u="S",d=null;En(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=G6;var g="1.3",x=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(S){g=S};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var v=p.__private__.getPageFormat=function(S){return b[S]};s=s||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},w=y.COMPAT;function _(){this.saveGraphicsState(),ne(new Ct(ze,0,0,-ze,0,Ql()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),u="n",w=y.ADVANCED}function C(){this.restoreGraphicsState(),u="S",w=y.COMPAT}var E=p.__private__.combineFontStyleAndFontWeight=function(S,q){if(S=="bold"&&q=="normal"||S=="bold"&&q==400||S=="normal"&&q=="italic"||S=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(S=q==400||q==="normal"?S==="italic"?"italic":"normal":q!=700&&q!=="bold"||S!=="normal"?(q==700?"bold":q)+""+S:"bold"),S};p.advancedAPI=function(S){var q=w===y.COMPAT;return q&&_.call(this),typeof S!="function"||(S(this),q&&C.call(this)),this},p.compatAPI=function(S){var q=w===y.ADVANCED;return q&&C.call(this),typeof S!="function"||(S(this),q&&_.call(this)),this},p.isAdvancedAPI=function(){return w===y.ADVANCED};var O,T=function(S){if(w!==y.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=p.roundToPrecision=p.__private__.roundToPrecision=function(S,q){var te=t||q;if(isNaN(S)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(te).replace(/0+$/,"")};O=p.hpf=p.__private__.hpf=typeof c=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return $(S,c)}:c==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return $(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return $(S,16)};var B=p.f2=p.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return $(S,2)},L=p.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return $(S,3)},P=p.scale=p.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return w===y.COMPAT?S*ze:w===y.ADVANCED?S:void 0},D=function(S){return w===y.COMPAT?Ql()-S:w===y.ADVANCED?S:void 0},F=function(S){return P(D(S))};p.__private__.setPrecision=p.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var U,W="00000000000000000000000000000000",H=p.__private__.getFileId=function(){return W},R=p.__private__.setFileId=function(S){return W=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(bs=new Mh(d.userPermissions,d.userPassword,d.ownerPassword,W)),W};p.setFileId=function(S){return R(S),this},p.getFileId=function(){return H()};var G=p.__private__.convertDateToPDFDate=function(S){var q=S.getTimezoneOffset(),te=q<0?"+":"-",ue=Math.floor(Math.abs(q/60)),je=Math.abs(q%60),Ee=[te,J(ue),"'",J(je),"'"].join("");return["D:",S.getFullYear(),J(S.getMonth()+1),J(S.getDate()),J(S.getHours()),J(S.getMinutes()),J(S.getSeconds()),Ee].join("")},M=p.__private__.convertPDFDateToDate=function(S){var q=parseInt(S.substr(2,4),10),te=parseInt(S.substr(6,2),10)-1,ue=parseInt(S.substr(8,2),10),je=parseInt(S.substr(10,2),10),Ee=parseInt(S.substr(12,2),10),$e=parseInt(S.substr(14,2),10);return new Date(q,te,ue,je,Ee,$e,0)},ae=p.__private__.setCreationDate=function(S){var q;if(S===void 0&&(S=new Date),S instanceof Date)q=G(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=S}return U=q},z=p.__private__.getCreationDate=function(S){var q=U;return S==="jsDate"&&(q=M(U)),q};p.setCreationDate=function(S){return ae(S),this},p.getCreationDate=function(S){return z(S)};var I,J=p.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},se=p.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},re=0,oe=[],ce=[],xe=0,Pe=[],Ce=[],De=!1,Ue=ce,ct=function(){re=0,xe=0,ce=[],oe=[],Pe=[],rl=Rr(),Ca=Rr()};p.__private__.setCustomOutputDestination=function(S){De=!0,Ue=S};var ke=function(S){De||(Ue=S)};p.__private__.resetCustomOutputDestination=function(){De=!1,Ue=ce};var ne=p.__private__.out=function(S){return S=S.toString(),xe+=S.length+1,Ue.push(S),Ue},gt=p.__private__.write=function(S){return ne(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},ot=p.__private__.getArrayBuffer=function(S){for(var q=S.length,te=new ArrayBuffer(q),ue=new Uint8Array(te);q--;)ue[q]=S.charCodeAt(q);return te},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Oe};var Ge=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(S){return Ge=w===y.ADVANCED?S/ze:S,this};var et,Z=p.__private__.getFontSize=p.getFontSize=function(){return w===y.COMPAT?Ge:Ge*ze},de=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(S){return de=S,this},p.__private__.getR2L=p.getR2L=function(){return de};var we,Te=p.__private__.setZoomMode=function(S){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))et=S;else if(isNaN(S)){if(q.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');et=S}else et=parseInt(S,10)};p.__private__.getZoomMode=function(){return et};var ie,pe=p.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');we=S};p.__private__.getPageMode=function(){return we};var _e=p.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');ie=S};p.__private__.getLayoutMode=function(){return ie},p.__private__.setDisplayMode=p.setDisplayMode=function(S,q,te){return Te(S),_e(q),pe(te),this};var Me={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(S){if(Object.keys(Me).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Me[S]},p.__private__.getDocumentProperties=function(){return Me},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(S){for(var q in Me)Me.hasOwnProperty(q)&&S[q]&&(Me[q]=S[q]);return this},p.__private__.setDocumentProperty=function(S,q){if(Object.keys(Me).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Me[S]=q};var Ke,ze,Mn,_t,Xn,an={},Rt={},be=[],Ze={},In={},bn={},Dr={},nl=null,dr=0,Ot=[],wn=new G6(p),Nu=e.hotfixes||[],ls={},uo={},ho=[],Ct=function S(q,te,ue,je,Ee,$e){if(!(this instanceof S))return new S(q,te,ue,je,Ee,$e);isNaN(q)&&(q=1),isNaN(te)&&(te=0),isNaN(ue)&&(ue=0),isNaN(je)&&(je=1),isNaN(Ee)&&(Ee=0),isNaN($e)&&($e=0),this._matrix=[q,te,ue,je,Ee,$e]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(S)},Ct.prototype.multiply=function(S){var q=S.sx*this.sx+S.shy*this.shx,te=S.sx*this.shy+S.shy*this.sy,ue=S.shx*this.sx+S.sy*this.shx,je=S.shx*this.shy+S.sy*this.sy,Ee=S.tx*this.sx+S.ty*this.shx+this.tx,$e=S.tx*this.shy+S.ty*this.sy+this.ty;return new Ct(q,te,ue,je,Ee,$e)},Ct.prototype.decompose=function(){var S=this.sx,q=this.shy,te=this.shx,ue=this.sy,je=this.tx,Ee=this.ty,$e=Math.sqrt(S*S+q*q),at=(S/=$e)*te+(q/=$e)*ue;te-=S*at,ue-=q*at;var vt=Math.sqrt(te*te+ue*ue);return at/=vt,S*(ue/=vt)<q*(te/=vt)&&(S=-S,q=-q,at=-at,$e=-$e),{scale:new Ct($e,0,0,vt,0,0),translate:new Ct(1,0,0,1,je,Ee),rotate:new Ct(S,q,-q,S,0,0),skew:new Ct(1,0,at,1,0,0)}},Ct.prototype.toString=function(S){return this.join(" ")},Ct.prototype.inversed=function(){var S=this.sx,q=this.shy,te=this.shx,ue=this.sy,je=this.tx,Ee=this.ty,$e=1/(S*ue-q*te),at=ue*$e,vt=-q*$e,qt=-te*$e,Ft=S*$e;return new Ct(at,vt,qt,Ft,-at*je-qt*Ee,-vt*je-Ft*Ee)},Ct.prototype.applyToPoint=function(S){var q=S.x*this.sx+S.y*this.shx+this.tx,te=S.x*this.shy+S.y*this.sy+this.ty;return new rh(q,te)},Ct.prototype.applyToRectangle=function(S){var q=this.applyToPoint(S),te=this.applyToPoint(new rh(S.x+S.w,S.y+S.h));return new Np(q.x,q.y,te.x-q.x,te.y-q.y)},Ct.prototype.clone=function(){var S=this.sx,q=this.shy,te=this.shx,ue=this.sy,je=this.tx,Ee=this.ty;return new Ct(S,q,te,ue,je,Ee)},p.Matrix=Ct;var _a=p.matrixMult=function(S,q){return q.multiply(S)},fo=new Ct(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=fo;var si=function(S,q){if(!In[S]){var te=(q instanceof kc?"Sh":"P")+(Object.keys(Ze).length+1).toString(10);q.id=te,In[S]=te,Ze[te]=q,wn.publish("addPattern",q)}};p.ShadingPattern=kc,p.TilingPattern=rd,p.addShadingPattern=function(S,q){return T("addShadingPattern()"),si(S,q),this},p.beginTilingPattern=function(S){T("beginTilingPattern()"),xx(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},p.endTilingPattern=function(S,q){T("endTilingPattern()"),q.stream=Ce[I].join(`
`),si(S,q),wn.publish("endTilingPattern",q),ho.pop().restore()};var Vr=p.__private__.newObject=function(){var S=Rr();return _i(S,!0),S},Rr=p.__private__.newObjectDeferred=function(){return re++,oe[re]=function(){return xe},re},_i=function(S,q){return q=typeof q=="boolean"&&q,oe[S]=xe,q&&ne(S+" 0 obj"),S},qd=p.__private__.newAdditionalObject=function(){var S={objId:Rr(),content:""};return Pe.push(S),S},rl=Rr(),Ca=Rr(),Aa=p.__private__.decodeColorString=function(S){var q=S.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var te=parseFloat(q[0]);q=[te,te,te,"r"]}for(var ue="#",je=0;je<3;je++)ue+=("0"+Math.floor(255*parseFloat(q[je])).toString(16)).slice(-2);return ue},Pa=p.__private__.encodeColorString=function(S){var q;typeof S=="string"&&(S={ch1:S});var te=S.ch1,ue=S.ch2,je=S.ch3,Ee=S.ch4,$e=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var at=new bq(te);if(at.ok)te=at.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var vt=parseInt(te.substr(1),16);te=vt>>16&255,ue=vt>>8&255,je=255&vt}if(ue===void 0||Ee===void 0&&te===ue&&ue===je)if(typeof te=="string")q=te+" "+$e[0];else switch(S.precision){case 2:q=B(te/255)+" "+$e[0];break;case 3:default:q=L(te/255)+" "+$e[0]}else if(Ee===void 0||En(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return q=["1.","1.","1.",$e[1]].join(" ");if(typeof te=="string")q=[te,ue,je,$e[1]].join(" ");else switch(S.precision){case 2:q=[B(te/255),B(ue/255),B(je/255),$e[1]].join(" ");break;default:case 3:q=[L(te/255),L(ue/255),L(je/255),$e[1]].join(" ")}}else if(typeof te=="string")q=[te,ue,je,Ee,$e[2]].join(" ");else switch(S.precision){case 2:q=[B(te),B(ue),B(je),B(Ee),$e[2]].join(" ");break;case 3:default:q=[L(te),L(ue),L(je),L(Ee),$e[2]].join(" ")}return q},po=p.__private__.getFilters=function(){return a},ta=p.__private__.putStream=function(S){var q=(S=S||{}).data||"",te=S.filters||po(),ue=S.alreadyAppliedFilters||[],je=S.addLength1||!1,Ee=q.length,$e=S.objectId,at=function(ws){return ws};if(d!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(at=bs.encryptor($e,0));var vt={};te===!0&&(te=["FlateEncode"]);var qt=S.additionalKeyValues||[],Ft=(vt=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(q,te):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(vt.data.length!==0&&(qt.push({key:"Length",value:vt.data.length}),je===!0&&qt.push({key:"Length1",value:Ee})),Ft.length!=0)if(Ft.split("/").length-1==1)qt.push({key:"Filter",value:Ft});else{qt.push({key:"Filter",value:"["+Ft+"]"});for(var hn=0;hn<qt.length;hn+=1)if(qt[hn].key==="DecodeParms"){for(var Jn=[],hr=0;hr<vt.reverseChain.split("/").length-1;hr+=1)Jn.push("null");Jn.push(qt[hn].value),qt[hn].value="["+Jn.join(" ")+"]"}}ne("<<");for(var Or=0;Or<qt.length;Or++)ne("/"+qt[Or].key+" "+qt[Or].value);ne(">>"),vt.data.length!==0&&(ne("stream"),ne(at(vt.data)),ne("endstream"))},mo=p.__private__.putPage=function(S){var q=S.number,te=S.data,ue=S.objId,je=S.contentsObjId;_i(ue,!0),ne("<</Type /Page"),ne("/Parent "+S.rootDictionaryObjId+" 0 R"),ne("/Resources "+S.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(O(S.mediaBox.bottomLeftX))+" "+parseFloat(O(S.mediaBox.bottomLeftY))+" "+O(S.mediaBox.topRightX)+" "+O(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ne("/CropBox ["+O(S.cropBox.bottomLeftX)+" "+O(S.cropBox.bottomLeftY)+" "+O(S.cropBox.topRightX)+" "+O(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ne("/BleedBox ["+O(S.bleedBox.bottomLeftX)+" "+O(S.bleedBox.bottomLeftY)+" "+O(S.bleedBox.topRightX)+" "+O(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ne("/TrimBox ["+O(S.trimBox.bottomLeftX)+" "+O(S.trimBox.bottomLeftY)+" "+O(S.trimBox.topRightX)+" "+O(S.trimBox.topRightY)+"]"),S.artBox!==null&&ne("/ArtBox ["+O(S.artBox.bottomLeftX)+" "+O(S.artBox.bottomLeftY)+" "+O(S.artBox.topRightX)+" "+O(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ne("/UserUnit "+S.userUnit),wn.publish("putPage",{objId:ue,pageContext:Ot[q],pageNumber:q,page:te}),ne("/Contents "+je+" 0 R"),ne(">>"),ne("endobj");var Ee=te.join(`
`);return w===y.ADVANCED&&(Ee+=`
Q`),_i(je,!0),ta({data:Ee,filters:po(),objectId:je}),ne("endobj"),ue},Su=p.__private__.putPages=function(){var S,q,te=[];for(S=1;S<=dr;S++)Ot[S].objId=Rr(),Ot[S].contentsObjId=Rr();for(S=1;S<=dr;S++)te.push(mo({number:S,data:Ce[S],objId:Ot[S].objId,contentsObjId:Ot[S].contentsObjId,mediaBox:Ot[S].mediaBox,cropBox:Ot[S].cropBox,bleedBox:Ot[S].bleedBox,trimBox:Ot[S].trimBox,artBox:Ot[S].artBox,userUnit:Ot[S].userUnit,rootDictionaryObjId:rl,resourceDictionaryObjId:Ca}));_i(rl,!0),ne("<</Type /Pages");var ue="/Kids [";for(q=0;q<dr;q++)ue+=te[q]+" 0 R ";ne(ue+"]"),ne("/Count "+dr),ne(">>"),ne("endobj"),wn.publish("postPutPages")},Wd=function(S){wn.publish("putFont",{font:S,out:ne,newObject:Vr,putStream:ta}),S.isAlreadyPutted!==!0&&(S.objectNumber=Vr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Lh(S.postScriptName)),ne("/Subtype /Type1"),typeof S.encoding=="string"&&ne("/Encoding /"+S.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Hd=function(){for(var S in an)an.hasOwnProperty(S)&&(h===!1||h===!0&&f.hasOwnProperty(S))&&Wd(an[S])},Yd=function(S){S.objectNumber=Vr();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[O(S.x),O(S.y),O(S.x+S.width),O(S.y+S.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var te=S.pages[1].join(`
`);ta({data:te,additionalKeyValues:q,objectId:S.objectNumber}),ne("endobj")},Gd=function(){for(var S in ls)ls.hasOwnProperty(S)&&Yd(ls[S])},Z0=function(S,q){var te,ue=[],je=1/(q-1);for(te=0;te<1;te+=je)ue.push(te);if(ue.push(1),S[0].offset!=0){var Ee={offset:0,color:S[0].color};S.unshift(Ee)}if(S[S.length-1].offset!=1){var $e={offset:1,color:S[S.length-1].color};S.push($e)}for(var at="",vt=0,qt=0;qt<ue.length;qt++){for(te=ue[qt];te>S[vt+1].offset;)vt++;var Ft=S[vt].offset,hn=(te-Ft)/(S[vt+1].offset-Ft),Jn=S[vt].color,hr=S[vt+1].color;at+=se(Math.round((1-hn)*Jn[0]+hn*hr[0]).toString(16))+se(Math.round((1-hn)*Jn[1]+hn*hr[1]).toString(16))+se(Math.round((1-hn)*Jn[2]+hn*hr[2]).toString(16))}return at.trim()},t2=function(S,q){q||(q=21);var te=Vr(),ue=Z0(S.colors,q),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+q+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ta({data:ue,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),ne("endobj"),S.objectNumber=Vr(),ne("<< /ShadingType "+S.type),ne("/ColorSpace /DeviceRGB");var Ee="/Coords ["+O(parseFloat(S.coords[0]))+" "+O(parseFloat(S.coords[1]))+" ";S.type===2?Ee+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3])):Ee+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3]))+" "+O(parseFloat(S.coords[4]))+" "+O(parseFloat(S.coords[5])),ne(Ee+="]"),S.matrix&&ne("/Matrix ["+S.matrix.toString()+"]"),ne("/Function "+te+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},n2=function(S,q){var te=Rr(),ue=Vr();q.push({resourcesOid:te,objectOid:ue}),S.objectNumber=ue;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+S.boundingBox.map(O).join(" ")+"]"}),je.push({key:"XStep",value:O(S.xStep)}),je.push({key:"YStep",value:O(S.yStep)}),je.push({key:"Resources",value:te+" 0 R"}),S.matrix&&je.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),ta({data:S.stream,additionalKeyValues:je,objectId:S.objectNumber}),ne("endobj")},Kd=function(S){var q;for(q in Ze)Ze.hasOwnProperty(q)&&(Ze[q]instanceof kc?t2(Ze[q]):Ze[q]instanceof rd&&n2(Ze[q],S))},ex=function(S){for(var q in S.objectNumber=Vr(),ne("<<"),S)switch(q){case"opacity":ne("/ca "+B(S[q]));break;case"stroke-opacity":ne("/CA "+B(S[q]))}ne(">>"),ne("endobj")},r2=function(){var S;for(S in bn)bn.hasOwnProperty(S)&&ex(bn[S])},fp=function(){for(var S in ne("/XObject <<"),ls)ls.hasOwnProperty(S)&&ls[S].objectNumber>=0&&ne("/"+S+" "+ls[S].objectNumber+" 0 R");wn.publish("putXobjectDict"),ne(">>")},s2=function(){bs.oid=Vr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+bs.v),ne("/R "+bs.r),ne("/U <"+bs.toHexString(bs.U)+">"),ne("/O <"+bs.toHexString(bs.O)+">"),ne("/P "+bs.P),ne(">>"),ne("endobj")},tx=function(){for(var S in ne("/Font <<"),an)an.hasOwnProperty(S)&&(h===!1||h===!0&&f.hasOwnProperty(S))&&ne("/"+S+" "+an[S].objectNumber+" 0 R");ne(">>")},i2=function(){if(Object.keys(Ze).length>0){for(var S in ne("/Shading <<"),Ze)Ze.hasOwnProperty(S)&&Ze[S]instanceof kc&&Ze[S].objectNumber>=0&&ne("/"+S+" "+Ze[S].objectNumber+" 0 R");wn.publish("putShadingPatternDict"),ne(">>")}},Qd=function(S){if(Object.keys(Ze).length>0){for(var q in ne("/Pattern <<"),Ze)Ze.hasOwnProperty(q)&&Ze[q]instanceof p.TilingPattern&&Ze[q].objectNumber>=0&&Ze[q].objectNumber<S&&ne("/"+q+" "+Ze[q].objectNumber+" 0 R");wn.publish("putTilingPatternDict"),ne(">>")}},a2=function(){if(Object.keys(bn).length>0){var S;for(S in ne("/ExtGState <<"),bn)bn.hasOwnProperty(S)&&bn[S].objectNumber>=0&&ne("/"+S+" "+bn[S].objectNumber+" 0 R");wn.publish("putGStateDict"),ne(">>")}},jr=function(S){_i(S.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),tx(),i2(),Qd(S.objectOid),a2(),fp(),ne(">>"),ne("endobj")},nx=function(){var S=[];Hd(),r2(),Gd(),Kd(S),wn.publish("putResources"),S.forEach(jr),jr({resourcesOid:Ca,objectOid:Number.MAX_SAFE_INTEGER}),wn.publish("postPutResources")},rx=function(){wn.publish("putAdditionalObjects");for(var S=0;S<Pe.length;S++){var q=Pe[S];_i(q.objId,!0),ne(q.content),ne("endobj")}wn.publish("postPutAdditionalObjects")},sx=function(S){Rt[S.fontName]=Rt[S.fontName]||{},Rt[S.fontName][S.fontStyle]=S.id},pp=function(S,q,te,ue,je){var Ee={id:"F"+(Object.keys(an).length+1).toString(10),postScriptName:S,fontName:q,fontStyle:te,encoding:ue,isStandardFont:je||!1,metadata:{}};return wn.publish("addFont",{font:Ee,instance:this}),an[Ee.id]=Ee,sx(Ee),Ee.id},o2=function(S){for(var q=0,te=Oe.length;q<te;q++){var ue=pp.call(this,S[q][0],S[q][1],S[q][2],Oe[q][3],!0);h===!1&&(f[ue]=!0);var je=S[q][0].split("-");sx({id:ue,fontName:je[0],fontStyle:je[1]||""})}wn.publish("addFonts",{fonts:an,dictionary:Rt})},Ea=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(ue){var q=ue.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var te="Error in function "+q.split(`
`)[0].split("<")[0]+": "+ue.message;if(!At.console)throw new Error(te);At.console.error(te,ue),At.alert&&alert(te)}},S.foo.bar=S,S.foo},Xd=function(S,q){var te,ue,je,Ee,$e,at,vt,qt,Ft;if(je=(q=q||{}).sourceEncoding||"Unicode",$e=q.outputEncoding,(q.autoencode||$e)&&an[Ke].metadata&&an[Ke].metadata[je]&&an[Ke].metadata[je].encoding&&(Ee=an[Ke].metadata[je].encoding,!$e&&an[Ke].encoding&&($e=an[Ke].encoding),!$e&&Ee.codePages&&($e=Ee.codePages[0]),typeof $e=="string"&&($e=Ee[$e]),$e)){for(vt=!1,at=[],te=0,ue=S.length;te<ue;te++)(qt=$e[S.charCodeAt(te)])?at.push(String.fromCharCode(qt)):at.push(S[te]),at[te].charCodeAt(0)>>8&&(vt=!0);S=at.join("")}for(te=S.length;vt===void 0&&te!==0;)S.charCodeAt(te-1)>>8&&(vt=!0),te--;if(!vt)return S;for(at=q.noBOM?[]:[254,255],te=0,ue=S.length;te<ue;te++){if((Ft=(qt=S.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(Ft),at.push(qt-(Ft<<8))}return String.fromCharCode.apply(void 0,at)},ii=p.__private__.pdfEscape=p.pdfEscape=function(S,q){return Xd(S,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mp=p.__private__.beginPage=function(S){Ce[++dr]=[],Ot[dr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},ax(dr),ke(Ce[I])},ix=function(S,q){var te,ue,je;switch(n=q||n,typeof S=="string"&&(te=v(S.toLowerCase()),Array.isArray(te)&&(ue=te[0],je=te[1])),Array.isArray(S)&&(ue=S[0]*ze,je=S[1]*ze),isNaN(ue)&&(ue=s[0],je=s[1]),(ue>14400||je>14400)&&(Rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),je=Math.min(14400,je)),s=[ue,je],n.substr(0,1)){case"l":je>ue&&(s=[je,ue]);break;case"p":ue>je&&(s=[je,ue])}mp(s),hx(vp),ne(Ta),wp!==0&&ne(wp+" J"),jp!==0&&ne(jp+" j"),wn.publish("addPage",{pageNumber:dr})},l2=function(S){S>0&&S<=dr&&(Ce.splice(S,1),Ot.splice(S,1),dr--,I>dr&&(I=dr),this.setPage(I))},ax=function(S){S>0&&S<=dr&&(I=S)},c2=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ce.length-1},ox=function(S,q,te){var ue,je=void 0;return te=te||{},S=S!==void 0?S:an[Ke].fontName,q=q!==void 0?q:an[Ke].fontStyle,ue=S.toLowerCase(),Rt[ue]!==void 0&&Rt[ue][q]!==void 0?je=Rt[ue][q]:Rt[S]!==void 0&&Rt[S][q]!==void 0?je=Rt[S][q]:te.disableWarning===!1&&Rn.warn("Unable to look up font label for font '"+S+"', '"+q+"'. Refer to getFontList() for available fonts."),je||te.noFallback||(je=Rt.times[q])==null&&(je=Rt.times.normal),je},u2=p.__private__.putInfo=function(){var S=Vr(),q=function(ue){return ue};for(var te in d!==null&&(q=bs.encryptor(S,0)),ne("<<"),ne("/Producer ("+ii(q("jsPDF "+wt.version))+")"),Me)Me.hasOwnProperty(te)&&Me[te]&&ne("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+ii(q(Me[te]))+")");ne("/CreationDate ("+ii(q(U))+")"),ne(">>"),ne("endobj")},gp=p.__private__.putCatalog=function(S){var q=(S=S||{}).rootDictionaryObjId||rl;switch(Vr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+q+" 0 R"),et||(et="fullwidth"),et){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+et;te.substr(te.length-1)==="%"&&(et=parseInt(et)/100),typeof et=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+B(et)+"]")}switch(ie||(ie="continuous"),ie){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}we&&ne("/PageMode /"+we),wn.publish("putCatalog"),ne(">>"),ne("endobj")},d2=p.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(re+1)),ne("/Root "+re+" 0 R"),ne("/Info "+(re-1)+" 0 R"),d!==null&&ne("/Encrypt "+bs.oid+" 0 R"),ne("/ID [ <"+W+"> <"+W+"> ]"),ne(">>")},h2=p.__private__.putHeader=function(){ne("%PDF-"+g),ne("%")},f2=p.__private__.putXRef=function(){var S="0000000000";ne("xref"),ne("0 "+(re+1)),ne("0000000000 65535 f ");for(var q=1;q<=re;q++)typeof oe[q]=="function"?ne((S+oe[q]()).slice(-10)+" 00000 n "):oe[q]!==void 0?ne((S+oe[q]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},sl=p.__private__.buildDocument=function(){ct(),ke(ce),wn.publish("buildDocument"),h2(),Su(),rx(),nx(),d!==null&&s2(),u2(),gp();var S=xe;return f2(),d2(),ne("startxref"),ne(""+S),ne("%%EOF"),ke(Ce[I]),ce.join(`
`)},Jd=p.__private__.getBlob=function(S){return new Blob([ot(S)],{type:"application/pdf"})},Zd=p.output=p.__private__.output=Ea(function(S,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",S){case void 0:return sl();case"save":p.save(q.filename);break;case"arraybuffer":return ot(sl());case"blob":return Jd(sl());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(Jd(sl()))||void 0;Rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",ue=sl();try{te=QN(ue)}catch{te=QN(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+q.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(je=q.pdfObjectUrl,Ee="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",at=At.open();return at!==null&&at.document.write($e),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',qt=At.open();if(qt!==null){qt.document.write(vt);var Ft=this;qt.document.documentElement.querySelector("#pdfViewer").onload=function(){qt.document.title=q.filename,qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ft.output("bloburl"))}}return qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Jn=At.open();if(Jn!==null&&(Jn.document.write(hn),Jn.document.title=q.filename),Jn||typeof safari>"u")return Jn;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",q);default:return null}}),lx=function(S){return Array.isArray(Nu)===!0&&Nu.indexOf(S)>-1};switch(r){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=lx("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ze=r}var bs=null;ae(),R();var p2=function(S){return d!==null?bs.encryptor(S,0):function(q){return q}},cx=p.__private__.getPageInfo=p.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[S].objId,pageNumber:S,pageContext:Ot[S]}},Lt=p.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in Ot)if(Ot[q].objId===S)break;return cx(q)},m2=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ot[I].objId,pageNumber:I,pageContext:Ot[I]}};p.addPage=function(){return ix.apply(this,arguments),this},p.setPage=function(){return ax.apply(this,arguments),ke.call(this,Ce[I]),this},p.insertPage=function(S){return this.addPage(),this.movePage(I,S),this},p.movePage=function(S,q){var te,ue;if(S>q){te=Ce[S],ue=Ot[S];for(var je=S;je>q;je--)Ce[je]=Ce[je-1],Ot[je]=Ot[je-1];Ce[q]=te,Ot[q]=ue,this.setPage(q)}else if(S<q){te=Ce[S],ue=Ot[S];for(var Ee=S;Ee<q;Ee++)Ce[Ee]=Ce[Ee+1],Ot[Ee]=Ot[Ee+1];Ce[q]=te,Ot[q]=ue,this.setPage(q)}return this},p.deletePage=function(){return l2.apply(this,arguments),this},p.__private__.text=p.text=function(S,q,te,ue,je){var Ee,$e,at,vt,qt,Ft,hn,Jn,hr,Or=(ue=ue||{}).scope||this;if(typeof S=="number"&&typeof q=="number"&&(typeof te=="string"||Array.isArray(te))){var ws=te;te=q,q=S,S=ws}if(arguments[3]instanceof Ct?(T("The transform parameter of text() with a Matrix value"),hr=je):(at=arguments[4],vt=arguments[5],En(hn=arguments[3])==="object"&&hn!==null||(typeof at=="string"&&(vt=at,at=null),typeof hn=="string"&&(vt=hn,hn=null),typeof hn=="number"&&(at=hn,hn=null),ue={flags:hn,angle:at,align:vt})),isNaN(q)||isNaN(te)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Or;var Zr="",Ma=!1,Ci=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:_u,yo=Or.internal.scaleFactor;function yx(zn){return zn=zn.split("	").join(Array(ue.TabLen||9).join(" ")),ii(zn,hn)}function Cp(zn){for(var Bn,Sr=zn.concat(),qr=[],cl=Sr.length;cl--;)typeof(Bn=Sr.shift())=="string"?qr.push(Bn):Array.isArray(zn)&&(Bn.length===1||Bn[1]===void 0&&Bn[2]===void 0)?qr.push(Bn[0]):qr.push([Bn[0],Bn[1],Bn[2]]);return qr}function Ap(zn,Bn){var Sr;if(typeof zn=="string")Sr=Bn(zn)[0];else if(Array.isArray(zn)){for(var qr,cl,Rp=zn.concat(),ph=[],Nx=Rp.length;Nx--;)typeof(qr=Rp.shift())=="string"?ph.push(Bn(qr)[0]):Array.isArray(qr)&&typeof qr[0]=="string"&&(cl=Bn(qr[0],qr[1],qr[2]),ph.push([cl[0],cl[1],cl[2]]));Sr=ph}return Sr}var ih=!1,Pp=!0;if(typeof S=="string")ih=!0;else if(Array.isArray(S)){var Ep=S.concat();$e=[];for(var ah,cs=Ep.length;cs--;)(typeof(ah=Ep.shift())!="string"||Array.isArray(ah)&&typeof ah[0]!="string")&&(Pp=!1);ih=Pp}if(ih===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var oh=Ge/Or.internal.scaleFactor,lh=oh*(Ci-1);switch(ue.baseline){case"bottom":te-=lh;break;case"top":te+=oh-lh;break;case"hanging":te+=oh-2*lh;break;case"middle":te+=oh/2-lh}if((Ft=ue.maxWidth||0)>0&&(typeof S=="string"?S=Or.splitTextToSize(S,Ft):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(zn,Bn){return zn.concat(Or.splitTextToSize(Bn,Ft))},[]))),Ee={text:S,x:q,y:te,options:ue,mutex:{pdfEscape:ii,activeFontKey:Ke,fonts:an,activeFontSize:Ge}},wn.publish("preProcessText",Ee),S=Ee.text,at=(ue=Ee.options).angle,!(hr instanceof Ct)&&at&&typeof at=="number"){at*=Math.PI/180,ue.rotationDirection===0&&(at=-at),w===y.ADVANCED&&(at=-at);var ch=Math.cos(at),Tp=Math.sin(at);hr=new Ct(ch,Tp,-Tp,ch,0,0)}else at&&at instanceof Ct&&(hr=at);w!==y.ADVANCED||hr||(hr=fo),(qt=ue.charSpace||nh)!==void 0&&(Zr+=O(P(qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jn=ue.horizontalScale)!==void 0&&(Zr+=O(100*Jn)+` Tz
`),ue.lang;var ai=-1,k2=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,Mp=Or.internal.getCurrentPageInfo().pageContext;switch(k2){case 0:case!1:case"fill":ai=0;break;case 1:case!0:case"stroke":ai=1;break;case 2:case"fillThenStroke":ai=2;break;case 3:case"invisible":ai=3;break;case 4:case"fillAndAddForClipping":ai=4;break;case 5:case"strokeAndAddPathForClipping":ai=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ai=6;break;case 7:case"addToPathForClipping":ai=7}var vx=Mp.usedRenderingMode!==void 0?Mp.usedRenderingMode:-1;ai!==-1?Zr+=ai+` Tr
`:vx!==-1&&(Zr+=`0 Tr
`),ai!==-1&&(Mp.usedRenderingMode=ai),vt=ue.align||"left";var na,uh=Ge*Ci,bx=Or.internal.pageSize.getWidth(),wx=an[Ke];qt=ue.charSpace||nh,Ft=ue.maxWidth||0,hn=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var Xl=[],Pu=function(zn){return Or.getStringUnitWidth(zn,{font:wx,charSpace:qt,fontSize:Ge,doKerning:!1})*Ge/yo};if(Object.prototype.toString.call(S)==="[object Array]"){var oi;$e=Cp(S),vt!=="left"&&(na=$e.map(Pu));var Vs,Jl=0;if(vt==="right"){q-=na[0],S=[],cs=$e.length;for(var al=0;al<cs;al++)al===0?(Vs=xo(q),oi=il(te)):(Vs=P(Jl-na[al]),oi=-uh),S.push([$e[al],Vs,oi]),Jl=na[al]}else if(vt==="center"){q-=na[0]/2,S=[],cs=$e.length;for(var ol=0;ol<cs;ol++)ol===0?(Vs=xo(q),oi=il(te)):(Vs=P((Jl-na[ol])/2),oi=-uh),S.push([$e[ol],Vs,oi]),Jl=na[ol]}else if(vt==="left"){S=[],cs=$e.length;for(var dh=0;dh<cs;dh++)S.push($e[dh])}else if(vt==="justify"&&wx.encoding==="Identity-H"){S=[],cs=$e.length,Ft=Ft!==0?Ft:bx;for(var ll=0,Nr=0;Nr<cs;Nr++)if(oi=Nr===0?il(te):-uh,Vs=Nr===0?xo(q):ll,Nr<cs-1){var Lp=P((Ft-na[Nr])/($e[Nr].split(" ").length-1)),qs=$e[Nr].split(" ");S.push([qs[0]+" ",Vs,oi]),ll=0;for(var ra=1;ra<qs.length;ra++){var hh=(Pu(qs[ra-1]+" "+qs[ra])-Pu(qs[ra]))*yo+Lp;ra==qs.length-1?S.push([qs[ra],hh,0]):S.push([qs[ra]+" ",hh,0]),ll-=hh}}else S.push([$e[Nr],Vs,oi]);S.push(["",ll,0])}else{if(vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],cs=$e.length,Ft=Ft!==0?Ft:bx,Nr=0;Nr<cs;Nr++)oi=Nr===0?il(te):-uh,Vs=Nr===0?xo(q):0,Nr<cs-1?Xl.push(O(P((Ft-na[Nr])/($e[Nr].split(" ").length-1)))):Xl.push(0),S.push([$e[Nr],Vs,oi])}}var jx=typeof ue.R2L=="boolean"?ue.R2L:de;jx===!0&&(S=Ap(S,function(zn,Bn,Sr){return[zn.split("").reverse().join(""),Bn,Sr]})),Ee={text:S,x:q,y:te,options:ue,mutex:{pdfEscape:ii,activeFontKey:Ke,fonts:an,activeFontSize:Ge}},wn.publish("postProcessText",Ee),S=Ee.text,Ma=Ee.mutex.isHex||!1;var Ip=an[Ke].encoding;Ip!=="WinAnsiEncoding"&&Ip!=="StandardEncoding"||(S=Ap(S,function(zn,Bn,Sr){return[yx(zn),Bn,Sr]})),$e=Cp(S),S=[];for(var Eu,Tu,Zl,Mu=0,fh=1,Lu=Array.isArray($e[0])?fh:Mu,ec="",Dp=function(zn,Bn,Sr){var qr="";return Sr instanceof Ct?(Sr=typeof ue.angle=="number"?_a(Sr,new Ct(1,0,0,1,zn,Bn)):_a(new Ct(1,0,0,1,zn,Bn),Sr),w===y.ADVANCED&&(Sr=_a(new Ct(1,0,0,-1,0,0),Sr)),qr=Sr.join(" ")+` Tm
`):qr=O(zn)+" "+O(Bn)+` Td
`,qr},sa=0;sa<$e.length;sa++){switch(ec="",Lu){case fh:Zl=(Ma?"<":"(")+$e[sa][0]+(Ma?">":")"),Eu=parseFloat($e[sa][1]),Tu=parseFloat($e[sa][2]);break;case Mu:Zl=(Ma?"<":"(")+$e[sa]+(Ma?">":")"),Eu=xo(q),Tu=il(te)}Xl!==void 0&&Xl[sa]!==void 0&&(ec=Xl[sa]+` Tw
`),sa===0?S.push(ec+Dp(Eu,Tu,hr)+Zl):Lu===Mu?S.push(ec+Zl):Lu===fh&&S.push(ec+Dp(Eu,Tu,hr)+Zl)}S=Lu===Mu?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var ia=`BT
/`;return ia+=Ke+" "+Ge+` Tf
`,ia+=O(Ge*Ci)+` TL
`,ia+=Cu+`
`,ia+=Zr,ia+=S,ne(ia+="ET"),f[Ke]=!0,Or};var g2=p.__private__.clip=p.clip=function(S){return ne(S==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return g2("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ne("n"),this};var go=p.__private__.isValidStyle=function(S){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(q=!0),q};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(S){return go(S)&&(u=S),this};var ux=p.__private__.getStyle=p.getStyle=function(S){var q=u;switch(S){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=S}return q},dx=p.close=function(){return ne("h"),this};p.stroke=function(){return ne("S"),this},p.fill=function(S){return eh("f",S),this},p.fillEvenOdd=function(S){return eh("f*",S),this},p.fillStroke=function(S){return eh("B",S),this},p.fillStrokeEvenOdd=function(S){return eh("B*",S),this};var eh=function(S,q){En(q)==="object"?y2(q,S):ne(S)},xp=function(S){S===null||w===y.ADVANCED&&S===void 0||(S=ux(S),ne(S))};function x2(S,q,te,ue,je){var Ee=new rd(q||this.boundingBox,te||this.xStep,ue||this.yStep,this.gState,je||this.matrix);Ee.stream=this.stream;var $e=S+"$$"+this.cloneIndex+++"$$";return si($e,Ee),Ee}var y2=function(S,q){var te=In[S.key],ue=Ze[te];if(ue instanceof kc)ne("q"),ne(v2(q)),ue.gState&&p.setGState(ue.gState),ne(S.matrix.toString()+" cm"),ne("/"+te+" sh"),ne("Q");else if(ue instanceof rd){var je=new Ct(1,0,0,-1,0,Ql());S.matrix&&(je=je.multiply(S.matrix||fo),te=x2.call(ue,S.key,S.boundingBox,S.xStep,S.yStep,je).id),ne("q"),ne("/Pattern cs"),ne("/"+te+" scn"),ue.gState&&p.setGState(ue.gState),ne(q),ne("Q")}},v2=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},yp=p.moveTo=function(S,q){return ne(O(P(S))+" "+O(F(q))+" m"),this},ku=p.lineTo=function(S,q){return ne(O(P(S))+" "+O(F(q))+" l"),this},Gl=p.curveTo=function(S,q,te,ue,je,Ee){return ne([O(P(S)),O(F(q)),O(P(te)),O(F(ue)),O(P(je)),O(F(Ee)),"c"].join(" ")),this};p.__private__.line=p.line=function(S,q,te,ue,je){if(isNaN(S)||isNaN(q)||isNaN(te)||isNaN(ue)||!go(je))throw new Error("Invalid arguments passed to jsPDF.line");return w===y.COMPAT?this.lines([[te-S,ue-q]],S,q,[1,1],je||"S"):this.lines([[te-S,ue-q]],S,q,[1,1]).stroke()},p.__private__.lines=p.lines=function(S,q,te,ue,je,Ee){var $e,at,vt,qt,Ft,hn,Jn,hr,Or,ws,Zr,Ma;if(typeof S=="number"&&(Ma=te,te=q,q=S,S=Ma),ue=ue||[1,1],Ee=Ee||!1,isNaN(q)||isNaN(te)||!Array.isArray(S)||!Array.isArray(ue)||!go(je)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(yp(q,te),$e=ue[0],at=ue[1],qt=S.length,ws=q,Zr=te,vt=0;vt<qt;vt++)(Ft=S[vt]).length===2?(ws=Ft[0]*$e+ws,Zr=Ft[1]*at+Zr,ku(ws,Zr)):(hn=Ft[0]*$e+ws,Jn=Ft[1]*at+Zr,hr=Ft[2]*$e+ws,Or=Ft[3]*at+Zr,ws=Ft[4]*$e+ws,Zr=Ft[5]*at+Zr,Gl(hn,Jn,hr,Or,ws,Zr));return Ee&&dx(),xp(je),this},p.path=function(S){for(var q=0;q<S.length;q++){var te=S[q],ue=te.c;switch(te.op){case"m":yp(ue[0],ue[1]);break;case"l":ku(ue[0],ue[1]);break;case"c":Gl.apply(this,ue);break;case"h":dx()}}return this},p.__private__.rect=p.rect=function(S,q,te,ue,je){if(isNaN(S)||isNaN(q)||isNaN(te)||isNaN(ue)||!go(je))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y.COMPAT&&(ue=-ue),ne([O(P(S)),O(F(q)),O(P(te)),O(P(ue)),"re"].join(" ")),xp(je),this},p.__private__.triangle=p.triangle=function(S,q,te,ue,je,Ee,$e){if(isNaN(S)||isNaN(q)||isNaN(te)||isNaN(ue)||isNaN(je)||isNaN(Ee)||!go($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-S,ue-q],[je-te,Ee-ue],[S-je,q-Ee]],S,q,[1,1],$e,!0),this},p.__private__.roundedRect=p.roundedRect=function(S,q,te,ue,je,Ee,$e){if(isNaN(S)||isNaN(q)||isNaN(te)||isNaN(ue)||isNaN(je)||isNaN(Ee)||!go($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*te),Ee=Math.min(Ee,.5*ue),this.lines([[te-2*je,0],[je*at,0,je,Ee-Ee*at,je,Ee],[0,ue-2*Ee],[0,Ee*at,-je*at,Ee,-je,Ee],[2*je-te,0],[-je*at,0,-je,-Ee*at,-je,-Ee],[0,2*Ee-ue],[0,-Ee*at,je*at,-Ee,je,-Ee]],S+je,q,[1,1],$e,!0),this},p.__private__.ellipse=p.ellipse=function(S,q,te,ue,je){if(isNaN(S)||isNaN(q)||isNaN(te)||isNaN(ue)||!go(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*te,$e=4/3*(Math.SQRT2-1)*ue;return yp(S+te,q),Gl(S+te,q-$e,S+Ee,q-ue,S,q-ue),Gl(S-Ee,q-ue,S-te,q-$e,S-te,q),Gl(S-te,q+$e,S-Ee,q+ue,S,q+ue),Gl(S+Ee,q+ue,S+te,q+$e,S+te,q),xp(je),this},p.__private__.circle=p.circle=function(S,q,te,ue){if(isNaN(S)||isNaN(q)||isNaN(te)||!go(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,q,te,te,ue)},p.setFont=function(S,q,te){return te&&(q=E(q,te)),Ke=ox(S,q,{disableWarning:!1}),this};var b2=p.__private__.getFont=p.getFont=function(){return an[ox.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var S,q,te={};for(S in Rt)if(Rt.hasOwnProperty(S))for(q in te[S]=[],Rt[S])Rt[S].hasOwnProperty(q)&&te[S].push(q);return te},p.addFont=function(S,q,te,ue,je){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(te=E(te,ue)),je=je||"Identity-H",pp.call(this,S,q,te,je)};var _u,vp=e.lineWidth||.200025,th=p.__private__.getLineWidth=p.getLineWidth=function(){return vp},hx=p.__private__.setLineWidth=p.setLineWidth=function(S){return vp=S,ne(O(P(S))+" w"),this};p.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(S,q){if(S=S||[],q=q||0,isNaN(q)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(te){return O(P(te))}).join(" "),q=O(P(q)),ne("["+S+"] "+q+" d"),this};var fx=p.__private__.getLineHeight=p.getLineHeight=function(){return Ge*_u};p.__private__.getLineHeight=p.getLineHeight=function(){return Ge*_u};var px=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(_u=S),this},mx=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return _u};px(e.lineHeight);var xo=p.__private__.getHorizontalCoordinate=function(S){return P(S)},il=p.__private__.getVerticalCoordinate=function(S){return w===y.ADVANCED?S:Ot[I].mediaBox.topRightY-Ot[I].mediaBox.bottomLeftY-P(S)},w2=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(S){return O(xo(S))},Kl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(S){return O(il(S))},Ta=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Aa(Ta)},p.__private__.setStrokeColor=p.setDrawColor=function(S,q,te,ue){return Ta=Pa({ch1:S,ch2:q,ch3:te,ch4:ue,pdfColorType:"draw",precision:2}),ne(Ta),this};var bp=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Aa(bp)},p.__private__.setFillColor=p.setFillColor=function(S,q,te,ue){return bp=Pa({ch1:S,ch2:q,ch3:te,ch4:ue,pdfColorType:"fill",precision:2}),ne(bp),this};var Cu=e.textColor||"0 g",j2=p.__private__.getTextColor=p.getTextColor=function(){return Aa(Cu)};p.__private__.setTextColor=p.setTextColor=function(S,q,te,ue){return Cu=Pa({ch1:S,ch2:q,ch3:te,ch4:ue,pdfColorType:"text",precision:3}),this};var nh=e.charSpace,N2=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(nh||0)};p.__private__.setCharSpace=p.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return nh=S,this};var wp=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(S){var q=p.CapJoinStyles[S];if(q===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wp=q,ne(q+" J"),this};var jp=0;p.__private__.setLineJoin=p.setLineJoin=function(S){var q=p.CapJoinStyles[S];if(q===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jp=q,ne(q+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(O(P(S))+" M"),this},p.GState=o0,p.setGState=function(S){(S=typeof S=="string"?bn[Dr[S]]:gx(null,S)).equals(nl)||(ne("/"+S.id+" gs"),nl=S)};var gx=function(S,q){if(!S||!Dr[S]){var te=!1;for(var ue in bn)if(bn.hasOwnProperty(ue)&&bn[ue].equals(q)){te=!0;break}if(te)q=bn[ue];else{var je="GS"+(Object.keys(bn).length+1).toString(10);bn[je]=q,q.id=je}return S&&(Dr[S]=q.id),wn.publish("addGState",q),q}};p.addGState=function(S,q){return gx(S,q),this},p.saveGraphicsState=function(){return ne("q"),be.push({key:Ke,size:Ge,color:Cu}),this},p.restoreGraphicsState=function(){ne("Q");var S=be.pop();return Ke=S.key,Ge=S.size,Cu=S.color,nl=null,this},p.setCurrentTransformationMatrix=function(S){return ne(S.toString()+" cm"),this},p.comment=function(S){return ne("#"+S),this};var rh=function(S,q){var te=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Ee){isNaN(Ee)||(te=parseFloat(Ee))}});var ue=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(Ee){isNaN(Ee)||(ue=parseFloat(Ee))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(Ee){je=Ee.toString()}}),this},Np=function(S,q,te,ue){rh.call(this,S,q),this.type="rect";var je=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function($e){isNaN($e)||(je=parseFloat($e))}});var Ee=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function($e){isNaN($e)||(Ee=parseFloat($e))}}),this},Sp=function(){this.page=dr,this.currentPage=I,this.pages=Ce.slice(0),this.pagesContext=Ot.slice(0),this.x=Mn,this.y=_t,this.matrix=Xn,this.width=Au(I),this.height=Ql(I),this.outputDestination=Ue,this.id="",this.objectNumber=-1};Sp.prototype.restore=function(){dr=this.page,I=this.currentPage,Ot=this.pagesContext,Ce=this.pages,Mn=this.x,_t=this.y,Xn=this.matrix,kp(I,this.width),_p(I,this.height),Ue=this.outputDestination};var xx=function(S,q,te,ue,je){ho.push(new Sp),dr=I=0,Ce=[],Mn=S,_t=q,Xn=je,mp([te,ue])},S2=function(S){if(uo[S])ho.pop().restore();else{var q=new Sp,te="Xo"+(Object.keys(ls).length+1).toString(10);q.id=te,uo[S]=te,ls[te]=q,wn.publish("addFormObject",q),ho.pop().restore()}};for(var sh in p.beginFormObject=function(S,q,te,ue,je){return xx(S,q,te,ue,je),this},p.endFormObject=function(S){return S2(S),this},p.doFormObject=function(S,q){var te=ls[uo[S]];return ne("q"),ne(q.toString()+" cm"),ne("/"+te.id+" Do"),ne("Q"),this},p.getFormObject=function(S){var q=ls[uo[S]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},p.save=function(S,q){return S=S||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Hu(Jd(sl()),S),typeof Hu.unload=="function"&&At.setTimeout&&setTimeout(Hu.unload,911),this):new Promise(function(te,ue){try{var je=Hu(Jd(sl()),S);typeof Hu.unload=="function"&&At.setTimeout&&setTimeout(Hu.unload,911),te(je)}catch(Ee){ue(Ee.message)}})},wt.API)wt.API.hasOwnProperty(sh)&&(sh==="events"&&wt.API.events.length?function(S,q){var te,ue,je;for(je=q.length-1;je!==-1;je--)te=q[je][0],ue=q[je][1],S.subscribe.apply(S,[te].concat(typeof ue=="function"?[ue]:ue))}(wn,wt.API.events):p[sh]=wt.API[sh]);var Au=p.getPageWidth=function(S){return(Ot[S=S||I].mediaBox.topRightX-Ot[S].mediaBox.bottomLeftX)/ze},kp=p.setPageWidth=function(S,q){Ot[S].mediaBox.topRightX=q*ze+Ot[S].mediaBox.bottomLeftX},Ql=p.getPageHeight=function(S){return(Ot[S=S||I].mediaBox.topRightY-Ot[S].mediaBox.bottomLeftY)/ze},_p=p.setPageHeight=function(S,q){Ot[S].mediaBox.topRightY=q*ze+Ot[S].mediaBox.bottomLeftY};return p.internal={pdfEscape:ii,getStyle:ux,getFont:b2,getFontSize:Z,getCharSpace:N2,getTextColor:j2,getLineHeight:fx,getLineHeightFactor:mx,getLineWidth:th,write:gt,getHorizontalCoordinate:xo,getVerticalCoordinate:il,getCoordinateString:w2,getVerticalCoordinateString:Kl,collections:{},newObject:Vr,newAdditionalObject:qd,newObjectDeferred:Rr,newObjectDeferredBegin:_i,getFilters:po,putStream:ta,events:wn,scaleFactor:ze,pageSize:{getWidth:function(){return Au(I)},setWidth:function(S){kp(I,S)},getHeight:function(){return Ql(I)},setHeight:function(S){_p(I,S)}},encryptionOptions:d,encryption:bs,getEncryptor:p2,output:Zd,getNumberOfPages:c2,pages:Ce,out:ne,f2:B,f3:L,getPageInfo:cx,getPageInfoByObjId:Lt,getCurrentPageInfo:m2,getPDFVersion:x,Point:rh,Rectangle:Np,Matrix:Ct,hasHotfix:lx},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Au(I)},set:function(S){kp(I,S)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ql(I)},set:function(S){_p(I,S)},enumerable:!0,configurable:!0}),o2.call(p,Oe),Ke="F1",ix(s,n),wn.publish("initialized"),p}Mh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Mh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Mh.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Mh.prototype.processOwnerPassword=function(e,t){return JN(XN(t).substr(0,5),e)},Mh.prototype.encryptor=function(e,t){var n=XN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return JN(n,r)}},o0.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||En(e)!==En(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},wt.API={events:[]},wt.version="3.0.1";var mr=wt.API,s_=1,Vd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ah=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},zt=function(e){return e.toFixed(2)},pc=function(e){return e.toFixed(5)};mr.__acroform__={};var ki=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},K6=function(e){return e*s_},No=function(e){var t=new Sq,n=ft.internal.getHeight(e)||0,r=ft.internal.getWidth(e)||0;return t.BBox=[0,0,Number(zt(r)),Number(zt(n))],t},ebe=mr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},tbe=mr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},nbe=mr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ar=mr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nbe(e,t-1)},Pr=mr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ebe(e,t-1)},Er=mr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tbe(e,t-1)},rbe=mr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],l=e[3],c={};return c.lowerLeft_X=n(s)||0,c.lowerLeft_Y=r(i+l)||0,c.upperRight_X=n(s+a)||0,c.upperRight_Y=r(i)||0,[Number(zt(c.lowerLeft_X)),Number(zt(c.lowerLeft_Y)),Number(zt(c.upperRight_X)),Number(zt(c.upperRight_Y))]},sbe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=ZN(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+zt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=No(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},ZN=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var i=n,a=ft.internal.getHeight(e)||0;a=a<0?-a:a;var l=ft.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(L,P,D){if(L+1<s.length){var F=P+" "+s[L+1][0];return Oy(F,e,D).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,h=Oy("3",e,i).height,f=e.multiline?a-i:(a-h)/2,p=f+=2,g=0,x=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Oy(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var v="",y=0,w=0;w<s.length;w++)if(s.hasOwnProperty(w)){var _=!1;if(s[w].length!==1&&b!==s[w].length-1){if((h+2)*(y+2)+2>a)continue e;v+=s[w][b],_=!0,x=w,w--}else{v=(v+=s[w][b]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var C=parseInt(w),E=c(C,v,i),O=w>=s.length-1;if(E&&!O){v+=" ",b=0;continue}if(E||O){if(O)x=C;else if(e.multiline&&(h+2)*(y+2)+2>a)continue e}else{if(!e.multiline||(h+2)*(y+2)+2>a)continue e;x=C}}for(var T="",$=g;$<=x;$++){var B=s[$];if(e.multiline){if($===x){T+=B[b]+" ",b=(b+1)%B.length;continue}if($===g){T+=B[B.length-1]+" ";continue}}T+=B[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,d=Oy(T,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=zt(u)+" "+zt(p)+` Td
`,t+="("+Vd(T)+`) Tj
`,t+=-zt(u)+` 0 Td
`,p=-(i+2),d=0,g=_?x:x+1,y++,v=""}break}return r.text=t,r.fontSize=i,r},Oy=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},ibe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},abe=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},obe=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),En(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[r]}},lbe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(lo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ibe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");s_=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new kq,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&abe(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var a in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var l=r[a],c=[],u=l.Rect;if(l.Rect&&(l.Rect=rbe(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ft.createDefaultAppearanceStream(l),En(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=sbe(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var p=l.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var g=p[a];typeof g=="function"&&(g=g.call(s,l)),h+="/"+a+" "+g+" ",s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(s,l)),h+="/"+a+" "+g,s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&obe(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Nq=mr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),En(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+Vd(r(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},P5=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Vd(r(e))+")"},Oo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Oo.prototype.toString=function(){return this.objId+" 0 R"},Oo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Oo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:Nq(s,this.objId,this.scope)}):s instanceof Oo?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var Sq=function(){Oo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};ki(Sq,Oo);var kq=function(){Oo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Vd(n(e))+")"}},set:function(n){e=n}})};ki(kq,Oo);var lo=function e(){Oo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ar(t,3)},set:function(v){v?this.F=Pr(t,3):this.F=Er(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof $1)return;i="FieldObject"+e.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Vd(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/s_:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof $1||this instanceof eu))return P5(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Yr?f:P5(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof Yr?v:v.substr(0,1)==="("?Ah(v.substr(1,v.length-2)):Ah(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yr?Ah(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Yr?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Yr?p:P5(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof Yr?v:v.substr(0,1)==="("?Ah(v.substr(1,v.length-2)):Ah(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yr?Ah(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Yr?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(v){v=!!v,x=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(v){g=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,1)},set:function(v){v?this.Ff=Pr(this.Ff,1):this.Ff=Er(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,2)},set:function(v){v?this.Ff=Pr(this.Ff,2):this.Ff=Er(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,3)},set:function(v){v?this.Ff=Pr(this.Ff,3):this.Ff=Er(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');b=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(b){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};ki(lo,Oo);var md=function(){lo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Nq(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,a,l){l||(l=1);for(var c,u=[];c=a.exec(i);)u.push(c[l]);return u}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,18)},set:function(n){n?this.Ff=Pr(this.Ff,18):this.Ff=Er(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Pr(this.Ff,19):this.Ff=Er(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,20)},set:function(n){n?(this.Ff=Pr(this.Ff,20),t.sort()):this.Ff=Er(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,22)},set:function(n){n?this.Ff=Pr(this.Ff,22):this.Ff=Er(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,23)},set:function(n){n?this.Ff=Pr(this.Ff,23):this.Ff=Er(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,27)},set:function(n){n?this.Ff=Pr(this.Ff,27):this.Ff=Er(this.Ff,27)}}),this.hasAppearanceStream=!1};ki(md,lo);var gd=function(){md.call(this),this.fontName="helvetica",this.combo=!1};ki(gd,md);var xd=function(){gd.call(this),this.combo=!0};ki(xd,gd);var tg=function(){xd.call(this),this.edit=!0};ki(tg,xd);var Yr=function(){lo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,15)},set:function(n){n?this.Ff=Pr(this.Ff,15):this.Ff=Er(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,16)},set:function(n){n?this.Ff=Pr(this.Ff,16):this.Ff=Er(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,17)},set:function(n){n?this.Ff=Pr(this.Ff,17):this.Ff=Er(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,26)},set:function(n){n?this.Ff=Pr(this.Ff,26):this.Ff=Er(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+Vd(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){En(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};ki(Yr,lo);var ng=function(){Yr.call(this),this.pushButton=!0};ki(ng,Yr);var yd=function(){Yr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ki(yd,Yr);var $1=function(){var e,t;lo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),r)a.push("/"+i+" ("+Vd(s(r[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){En(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ki($1,lo),yd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},yd.prototype.createOption=function(e){var t=new $1;return t.Parent=this,t.optionName=e,this.Kids.push(t),cbe.call(this.scope,t),t};var rg=function(){Yr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ft.CheckBox.createAppearanceStream()};ki(rg,Yr);var eu=function(){lo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,13)},set:function(t){t?this.Ff=Pr(this.Ff,13):this.Ff=Er(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,21)},set:function(t){t?this.Ff=Pr(this.Ff,21):this.Ff=Er(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,23)},set:function(t){t?this.Ff=Pr(this.Ff,23):this.Ff=Er(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,24)},set:function(t){t?this.Ff=Pr(this.Ff,24):this.Ff=Er(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,25)},set:function(t){t?this.Ff=Pr(this.Ff,25):this.Ff=Er(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,26)},set:function(t){t?this.Ff=Pr(this.Ff,26):this.Ff=Er(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ki(eu,lo);var sg=function(){eu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,14)},set:function(e){e?this.Ff=Pr(this.Ff,14):this.Ff=Er(this.Ff,14)}}),this.password=!0};ki(sg,eu);var ft={CheckBox:{createAppearanceStream:function(){return{N:{On:ft.CheckBox.YesNormal},D:{On:ft.CheckBox.YesPushDown,Off:ft.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=No(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=ZN(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+zt(ft.internal.getWidth(e))+" "+zt(ft.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+zt(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=No(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],i=ft.internal.getHeight(e),a=ft.internal.getWidth(e),l=ZN(e,e.caption);return s.push("1 g"),s.push("0 0 "+zt(a)+" "+zt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+zt(a-1)+" "+zt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+zt(l.fontSize)+" Tf "+r),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=No(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+zt(ft.internal.getWidth(e))+" "+zt(ft.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ft.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ft.RadioButton.Circle.YesNormal,t.D[e]=ft.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=No(e);t.scope=e.scope;var n=[],r=ft.internal.getWidth(e)<=ft.internal.getHeight(e)?ft.internal.getWidth(e)/4:ft.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=ft.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+pc(ft.internal.getWidth(e)/2)+" "+pc(ft.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=No(e);t.scope=e.scope;var n=[],r=ft.internal.getWidth(e)<=ft.internal.getHeight(e)?ft.internal.getWidth(e)/4:ft.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*ft.internal.Bezier_C).toFixed(5)),a=Number((r*ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+pc(ft.internal.getWidth(e)/2)+" "+pc(ft.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+pc(ft.internal.getWidth(e)/2)+" "+pc(ft.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=No(e);t.scope=e.scope;var n=[],r=ft.internal.getWidth(e)<=ft.internal.getHeight(e)?ft.internal.getWidth(e)/4:ft.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+pc(ft.internal.getWidth(e)/2)+" "+pc(ft.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ft.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ft.RadioButton.Cross.YesNormal,t.D[e]=ft.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=No(e);t.scope=e.scope;var n=[],r=ft.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+zt(ft.internal.getWidth(e)-2)+" "+zt(ft.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(zt(r.x1.x)+" "+zt(r.x1.y)+" m"),n.push(zt(r.x2.x)+" "+zt(r.x2.y)+" l"),n.push(zt(r.x4.x)+" "+zt(r.x4.y)+" m"),n.push(zt(r.x3.x)+" "+zt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=No(e);t.scope=e.scope;var n=ft.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+zt(ft.internal.getWidth(e))+" "+zt(ft.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+zt(ft.internal.getWidth(e)-2)+" "+zt(ft.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(zt(n.x1.x)+" "+zt(n.x1.y)+" m"),r.push(zt(n.x2.x)+" "+zt(n.x2.y)+" l"),r.push(zt(n.x4.x)+" "+zt(n.x4.y)+" m"),r.push(zt(n.x3.x)+" "+zt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=No(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+zt(ft.internal.getWidth(e))+" "+zt(ft.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};ft.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ft.internal.getWidth(e),n=ft.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},ft.internal.getWidth=function(e){var t=0;return En(e)==="object"&&(t=K6(e.Rect[2])),t},ft.internal.getHeight=function(e){var t=0;return En(e)==="object"&&(t=K6(e.Rect[3])),t};var cbe=mr.addField=function(e){if(lbe(this,e),!(e instanceof lo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};mr.AcroFormChoiceField=md,mr.AcroFormListBox=gd,mr.AcroFormComboBox=xd,mr.AcroFormEditBox=tg,mr.AcroFormButton=Yr,mr.AcroFormPushButton=ng,mr.AcroFormRadioButton=yd,mr.AcroFormCheckBox=rg,mr.AcroFormTextField=eu,mr.AcroFormPasswordField=sg,mr.AcroFormAppearance=ft,mr.AcroForm={ChoiceField:md,ListBox:gd,ComboBox:xd,EditBox:tg,Button:Yr,PushButton:ng,RadioButton:yd,CheckBox:rg,TextField:eu,PasswordField:sg,Appearance:ft},wt.AcroForm={ChoiceField:md,ListBox:gd,ComboBox:xd,EditBox:tg,Button:Yr,PushButton:ng,RadioButton:yd,CheckBox:rg,TextField:eu,PasswordField:sg,Appearance:ft};wt.AcroForm;function _q(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(L,P){var D,F,U,W,H,R=t;if((P=P||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(E(L))for(H in n)for(U=n[H],D=0;D<U.length;D+=1){for(W=!0,F=0;F<U[D].length;F+=1)if(U[D][F]!==void 0&&U[D][F]!==L[F]){W=!1;break}if(W===!0){R=H;break}}else for(H in n)for(U=n[H],D=0;D<U.length;D+=1){for(W=!0,F=0;F<U[D].length;F+=1)if(U[D][F]!==void 0&&U[D][F]!==L.charCodeAt(F)){W=!1;break}if(W===!0){R=H;break}}return R===t&&P!==t&&(R=P),R},s=function L(P){for(var D=this.internal.write,F=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:P.width}),W.push({key:"Height",value:P.height}),P.colorSpace===b.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===b.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var H="",R=0,G=P.transparency.length;R<G;R++)H+=P.transparency[R]+" "+P.transparency[R]+" ";W.push({key:"Mask",value:"["+H+"]"})}P.sMask!==void 0&&W.push({key:"SMask",value:P.objectId+1+" 0 R"});var M=P.filter!==void 0?["/"+P.filter]:void 0;if(F({data:P.data,additionalKeyValues:W,alreadyAppliedFilters:M,objectId:P.objectId}),D("endobj"),"sMask"in P&&P.sMask!==void 0){var ae="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,z={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:ae,data:P.sMask};"filter"in P&&(z.filter=P.filter),L.call(this,z)}if(P.colorSpace===b.INDEXED){var I=this.internal.newObject();F({data:T(new Uint8Array(P.palette)),objectId:I}),D("endobj")}},i=function(){var L=this.internal.collections.addImage_images;for(var P in L)s.call(this,L[P])},a=function(){var L,P=this.internal.collections.addImage_images,D=this.internal.write;for(var F in P)D("/I"+(L=P[F]).index,L.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var L=this.internal.collections.addImage_images;return l.call(this),L},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(L){return typeof e["process"+L.toUpperCase()]=="function"},h=function(L){return En(L)==="object"&&L.nodeType===1},f=function(L,P){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var D=""+L.getAttribute("src");if(D.indexOf("data:image/")===0)return eg(unescape(D).split("base64,").pop());var F=e.loadFile(D,!0);if(F!==void 0)return F}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var U;switch(P){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;case"JPEG":case"JPG":default:U="image/jpeg"}return eg(L.toDataURL(U,1).split("base64,").pop())}},p=function(L){var P=this.internal.collections.addImage_images;if(P){for(var D in P)if(L===P[D].alias)return P[D]}},g=function(L,P,D){return L||P||(L=-96,P=-96),L<0&&(L=-1*D.width*72/L/this.internal.scaleFactor),P<0&&(P=-1*D.height*72/P/this.internal.scaleFactor),L===0&&(L=P*D.width/D.height),P===0&&(P=L*D.height/D.width),[L,P]},x=function(L,P,D,F,U,W){var H=g.call(this,D,F,U),R=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,M=c.call(this);if(D=H[0],F=H[1],M[U.index]=U,W){W*=Math.PI/180;var ae=Math.cos(W),z=Math.sin(W),I=function(se){return se.toFixed(4)},J=[I(ae),I(z),I(-1*z),I(ae),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,R(L),G(P+F),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([R(D),"0","0",R(F),"0","0","cm"].join(" "))):this.internal.write([R(D),"0","0",R(F),R(L),G(P+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(L){var P,D,F=0;if(typeof L=="string")for(D=L.length,P=0;P<D;P++)F=(F<<5)-F+L.charCodeAt(P),F|=0;else if(E(L))for(D=L.byteLength/2,P=0;P<D;P++)F=(F<<5)-F+L[P],F|=0;return F},w=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var P=!0;return L.length===0&&(P=!1),L.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(P=!1),P},_=e.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var P=L.indexOf(",");return P<0?null:L.substring(0,P).trim().endsWith("base64")?L.substring(P+1):null},C=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(L){return C()&&L instanceof ArrayBuffer};var E=e.__addimage__.isArrayBufferView=function(L){return C()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},O=e.__addimage__.binaryStringToUint8Array=function(L){for(var P=L.length,D=new Uint8Array(P),F=0;F<P;F++)D[F]=L.charCodeAt(F);return D},T=e.__addimage__.arrayBufferToBinaryString=function(L){for(var P="",D=E(L)?L:new Uint8Array(L),F=0;F<D.length;F+=8192)P+=String.fromCharCode.apply(null,D.subarray(F,F+8192));return P};e.addImage=function(){var L,P,D,F,U,W,H,R,G;if(typeof arguments[1]=="number"?(P=t,D=arguments[1],F=arguments[2],U=arguments[3],W=arguments[4],H=arguments[5],R=arguments[6],G=arguments[7]):(P=arguments[1],D=arguments[2],F=arguments[3],U=arguments[4],W=arguments[5],H=arguments[6],R=arguments[7],G=arguments[8]),En(L=arguments[0])==="object"&&!h(L)&&"imageData"in L){var M=L;L=M.imageData,P=M.format||P||t,D=M.x||D||0,F=M.y||F||0,U=M.w||M.width||U,W=M.h||M.height||W,H=M.alias||H,R=M.compression||R,G=M.rotation||M.angle||G}var ae=this.internal.getFilters();if(R===void 0&&ae.indexOf("FlateEncode")!==-1&&(R="SLOW"),isNaN(D)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var z=$.call(this,L,P,H,R);return x.call(this,D,F,U,W,z,G),this};var $=function(L,P,D,F){var U,W,H;if(typeof L=="string"&&r(L)===t){L=unescape(L);var R=B(L,!1);(R!==""||(R=e.loadFile(L,!0))!==void 0)&&(L=R)}if(h(L)&&(L=f(L,P)),P=r(L,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((H=D)==null||H.length===0)&&(D=function(G){return typeof G=="string"||E(G)?y(G):E(G.data)?y(G.data):null}(L)),(U=p.call(this,D))||(C()&&(L instanceof Uint8Array||P==="RGBA"||(W=L,L=O(L))),U=this["process"+P.toUpperCase()](L,u.call(this),D,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in e.image_compression?G:v.NONE}(F),W)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},B=e.__addimage__.convertBase64ToBinaryString=function(L,P){P=typeof P!="boolean"||P;var D,F="";if(typeof L=="string"){var U;D=(U=_(L))!==null&&U!==void 0?U:L;try{F=eg(D)}catch(W){if(P)throw w(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};e.getImageProperties=function(L){var P,D,F="";if(h(L)&&(L=f(L)),typeof L=="string"&&r(L)===t&&((F=B(L,!1))===""&&(F=e.loadFile(L)||""),L=F),D=r(L),!d(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!C()||L instanceof Uint8Array||(L=O(L)),!(P=this["process"+D.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=D,P}})(wt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};wt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((r=u[h]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){r=u[f];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(x.objId),y=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+p(v(r.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(v(y))+") >>",x.content=i;var w=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+w,r.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(x.objId,"0 R",b.objId,"0 R");break;case"freetext":s="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var _=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(g(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var E=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+E+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,i,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+s),h:u(r+i)},options:a,type:"link"})},e.textWithLink=function(n,r,s,i){var a,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(n,l).length;a=Math.ceil(u*d)}else l=c,a=u;return this.text(n,r,s,i),s+=.2*u,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,s-u,l,a,i),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(wt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&s.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&i(x)&&t[x.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(x){var b=0,v=n,y="",w=0;for(b=0;b<x.length;b+=1)v[x.charCodeAt(b)]!==void 0?(w++,typeof(v=v[x.charCodeAt(b)])=="number"&&(y+=String.fromCharCode(v),v=n,w=0),b===x.length-1&&(v=n,y+=x.charAt(b-(w-1)),b-=w-1,w=0)):(v=n,y+=x.charAt(b-w),b-=w,w=0);return y};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(x,b,v){return a(x)?i(x)===!1?-1:!u(x)||!a(b)&&!a(v)||!a(v)&&l(b)||l(x)&&!a(b)||l(x)&&c(b)||l(x)&&l(b)?0:d(x)&&a(b)&&!l(b)&&a(v)&&u(v)?3:l(x)||!a(v)?1:2:-1},p=function(x){var b=0,v=0,y=0,w="",_="",C="",E=(x=x||"").split("\\s+"),O=[];for(b=0;b<E.length;b+=1){for(O.push(""),v=0;v<E[b].length;v+=1)w=E[b][v],_=E[b][v-1],C=E[b][v+1],a(w)?(y=f(w,_,C),O[b]+=y!==-1?String.fromCharCode(t[w.charCodeAt(0)][y]):w):O[b]+=w;O[b]=h(O[b])}return O.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var x,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(b)){var y=0;for(v=[],y=0;y<b.length;y+=1)Array.isArray(b[y])?v.push([p(b[y][0]),b[y][1],b[y][2]]):v.push([p(b[y])]);x=v}else x=p(b);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",g])}(wt.API),wt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(wt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(x){g=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,p=0,g=0,x=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=u.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,_){return w.concat(b.splitTextToSize(_,v))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(x=this.getStringUnitWidth(c[y],{font:h})*d)&&(p=x);return p!==0&&(g=c.length),{w:p/=f,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,f){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,g,x,b,v=[],y=[],w=[],_={},C={},E=[],O=[],T=(f=f||{}).autoSize||!1,$=f.printHeaders!==!1,B=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,L=f.margins||Object.assign({width:this.getPageWidth()},t),P=typeof f.padding=="number"?f.padding:3,D=f.headerBackgroundColor||"#c8c8c8",F=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=F,this.setFontSize(B),h==null)y=v=Object.keys(d[0]),w=v.map(function(){return"left"});else if(Array.isArray(h)&&En(h[0])==="object")for(v=h.map(function(M){return M.name}),y=h.map(function(M){return M.prompt||M.name||""}),w=h.map(function(M){return M.align||"left"}),p=0;p<h.length;p+=1)C[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(y=v=h,w=v.map(function(){return"left"}));if(T||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<v.length;p+=1){for(_[b=v[p]]=d.map(function(M){return M[b]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=_[b],this.setFont(void 0,"normal"),x=0;x<g.length;x+=1)E.push(this.getTextDimensions(g[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[b]=Math.max.apply(null,E)+P+P,E=[]}if($){var U={};for(p=0;p<v.length;p+=1)U[v[p]]={},U[v[p]].text=y[p],U[v[p]].align=w[p];var W=l.call(this,U,C);O=v.map(function(M){return new i(c,u,C[M],W,U[M].text,void 0,U[M].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var H=h.reduce(function(M,ae){return M[ae.name]=ae.align,M},{});for(p=0;p<d.length;p+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:p,data:d[p]},this);var R=l.call(this,d[p],C);for(x=0;x<v.length;x+=1){var G=d[p][v[x]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:p,col:x,data:G},this),a.call(this,new i(c,u,C[v[x]],R,G,p+2,H[v[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(p){var g=c[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/f+d+d},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,f.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(wt.API);var Cq={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Aq=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],eS=_q(Aq),Pq=[100,200,300,400,500,600,700,800,900],ube=_q(Pq);function tS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return Cq[i=i||"normal"]?i:"normal"}(e.style),r=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(i){return typeof eS[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function Q6(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var dbe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},X6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function J6(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function hbe(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},dbe,n.genericFontFamilies||{}),i=null,a=null,l=0;l<t.length;++l)if(s[(i=tS(t[l])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){a=e[i.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+J6(i)+"' and default family '"+r+"'.");if(a=function(c,u){if(u[c])return u[c];var d=eS[c],h=d<=eS.normal?-1:1,f=Q6(u,Aq,d,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(i.stretch,a),a=function(c,u){if(u[c])return u[c];for(var d=Cq[c],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+c)}(i.style,a),!(a=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=ube[c],h=Q6(u,Pq,d,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+J6(i)+"'.");return a}function Z6(e){return e.trimLeft()}function fbe(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function pbe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Fy,eE,tE,E5=["times"];(function(e){var t,n,r,s,i,a,l,c,u,d=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new c,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new a,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new a,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=z;Object.defineProperty(this,"pdf",{get:function(){return I}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(ke){J=!!ke}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(ke){se=!!ke}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(ke){isNaN(ke)||(re=ke)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(ke){isNaN(ke)||(oe=ke)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ke){var ne;typeof ke=="number"?ne=[ke,ke,ke,ke]:((ne=new Array(4))[0]=ke[0],ne[1]=ke.length>=2?ke[1]:ne[0],ne[2]=ke.length>=3?ke[2]:ne[0],ne[3]=ke.length>=4?ke[3]:ne[1]),u.margin=ne}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(ke){ce=ke}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(ke){xe=ke}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(ke){Pe=ke}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ke){ke instanceof d&&(u=ke)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ke){u.path=ke}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(ke){Ce=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var ne;ne=f(ke),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var ne=f(ke);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var De=null;function Ue(ke,ne){if(De===null){var gt=function(ot){var Oe=[];return Object.keys(ot).forEach(function(Ge){ot[Ge].forEach(function(et){var Z=null;switch(et){case"bold":Z={family:Ge,weight:"bold"};break;case"italic":Z={family:Ge,style:"italic"};break;case"bolditalic":Z={family:Ge,weight:"bold",style:"italic"};break;case"":case"normal":Z={family:Ge}}Z!==null&&(Z.ref={name:Ge,style:et},Oe.push(Z))})}),Oe}(ke.getFontList());De=function(ot){for(var Oe={},Ge=0;Ge<ot.length;++Ge){var et=tS(ot[Ge]),Z=et.family,de=et.stretch,we=et.style,Te=et.weight;Oe[Z]=Oe[Z]||{},Oe[Z][de]=Oe[Z][de]||{},Oe[Z][de][we]=Oe[Z][de][we]||{},Oe[Z][de][we][Te]=et}return Oe}(gt.concat(ne))}return De}var ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(ke){De=null,ct=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var ne;if(this.ctx.font=ke,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var gt=ne[1];ne[2];var ot=ne[3],Oe=ne[4];ne[5];var Ge=ne[6],et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(et==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:et==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var Z=function(Me){var Ke,ze,Mn=[],_t=Me.trim();if(_t==="")return E5;if(_t in X6)return[X6[_t]];for(;_t!=="";){switch(ze=null,Ke=(_t=Z6(_t)).charAt(0)){case'"':case"'":ze=fbe(_t.substring(1),Ke);break;default:ze=pbe(_t)}if(ze===null||(Mn.push(ze[0]),(_t=Z6(ze[1]))!==""&&_t.charAt(0)!==","))return E5;_t=_t.replace(/^,/,"")}return Mn}(Ge);if(this.fontFaces){var de=hbe(Ue(this.pdf,this.fontFaces),Z.map(function(Me){return{family:Me,stretch:"normal",weight:ot,style:gt}}));this.pdf.setFont(de.ref.name,de.ref.style)}else{var we="";(ot==="bold"||parseInt(ot,10)>=700||gt==="bold")&&(we="bold"),gt==="italic"&&(we+="italic"),we.length===0&&(we="normal");for(var Te="",ie={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pe=0;pe<Z.length;pe++){if(this.pdf.internal.getFont(Z[pe],we,{noFallback:!0,disableWarning:!0})!==void 0){Te=Z[pe];break}if(we==="bolditalic"&&this.pdf.internal.getFont(Z[pe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Te=Z[pe],we="bold";else if(this.pdf.internal.getFont(Z[pe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Te=Z[pe],we="normal";break}}if(Te===""){for(var _e=0;_e<Z.length;_e++)if(ie[Z[_e]]){Te=ie[Z[_e]];break}}Te=Te===""?"Times":Te,this.pdf.setFont(Te,we)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};h.prototype.setLineDash=function(z){this.lineDash=z},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){_.call(this,"fill",!1)},h.prototype.stroke=function(){_.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(z,I){if(isNaN(z)||isNaN(I))throw Rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new a(z,I));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new a(z,I)},h.prototype.closePath=function(){var z=new a(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&En(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){z=new a(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(z.x,z.y)},h.prototype.lineTo=function(z,I){if(isNaN(z)||isNaN(I))throw Rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new a(z,I));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new a(J.x,J.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},h.prototype.quadraticCurveTo=function(z,I,J,se){if(isNaN(J)||isNaN(se)||isNaN(z)||isNaN(I))throw Rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new a(J,se)),oe=this.ctx.transform.applyToPoint(new a(z,I));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},h.prototype.bezierCurveTo=function(z,I,J,se,re,oe){if(isNaN(re)||isNaN(oe)||isNaN(z)||isNaN(I)||isNaN(J)||isNaN(se))throw Rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new a(re,oe)),xe=this.ctx.transform.applyToPoint(new a(z,I)),Pe=this.ctx.transform.applyToPoint(new a(J,se));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Pe.x,y2:Pe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},h.prototype.arc=function(z,I,J,se,re,oe){if(isNaN(z)||isNaN(I)||isNaN(J)||isNaN(se)||isNaN(re))throw Rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new a(z,I));z=ce.x,I=ce.y;var xe=this.ctx.transform.applyToPoint(new a(0,J)),Pe=this.ctx.transform.applyToPoint(new a(0,0));J=Math.sqrt(Math.pow(xe.x-Pe.x,2)+Math.pow(xe.y-Pe.y,2))}Math.abs(re-se)>=2*Math.PI&&(se=0,re=2*Math.PI),this.path.push({type:"arc",x:z,y:I,radius:J,startAngle:se,endAngle:re,counterclockwise:oe})},h.prototype.arcTo=function(z,I,J,se,re){throw new Error("arcTo not implemented.")},h.prototype.rect=function(z,I,J,se){if(isNaN(z)||isNaN(I)||isNaN(J)||isNaN(se))throw Rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,I),this.lineTo(z+J,I),this.lineTo(z+J,I+se),this.lineTo(z,I+se),this.lineTo(z,I),this.lineTo(z+J,I),this.lineTo(z,I)},h.prototype.fillRect=function(z,I,J,se){if(isNaN(z)||isNaN(I)||isNaN(J)||isNaN(se))throw Rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,I,J,se),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},h.prototype.strokeRect=function(z,I,J,se){if(isNaN(z)||isNaN(I)||isNaN(J)||isNaN(se))throw Rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(z,I,J,se),this.stroke())},h.prototype.clearRect=function(z,I,J,se){if(isNaN(z)||isNaN(I)||isNaN(J)||isNaN(se))throw Rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,I,J,se))},h.prototype.save=function(z){z=typeof z!="boolean"||z;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},h.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(I),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(z){var I,J,se,re;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))I=0,J=0,se=0,re=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(oe!==null)I=parseInt(oe[1]),J=parseInt(oe[2]),se=parseInt(oe[3]),re=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)I=parseInt(oe[1]),J=parseInt(oe[2]),se=parseInt(oe[3]),re=parseFloat(oe[4]);else{if(re=1,typeof z=="string"&&z.charAt(0)!=="#"){var ce=new bq(z);z=ce.ok?ce.toHex():"#000000"}z.length===4?(I=z.substring(1,2),I+=I,J=z.substring(2,3),J+=J,se=z.substring(3,4),se+=se):(I=z.substring(1,3),J=z.substring(3,5),se=z.substring(5,7)),I=parseInt(I,16),J=parseInt(J,16),se=parseInt(se,16)}}return{r:I,g:J,b:se,a:re,style:z}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(z,I,J,se){if(isNaN(I)||isNaN(J)||typeof z!="string")throw Rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!p.call(this)){var re=R(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;P.call(this,{text:z,x:I,y:J,scale:oe,angle:re,align:this.textAlign,maxWidth:se})}},h.prototype.strokeText=function(z,I,J,se){if(isNaN(I)||isNaN(J)||typeof z!="string")throw Rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){se=isNaN(se)?void 0:se;var re=R(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;P.call(this,{text:z,x:I,y:J,scale:oe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:se})}},h.prototype.measureText=function(z){if(typeof z!="string")throw Rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,J=this.pdf.internal.scaleFactor,se=I.internal.getFontSize(),re=I.getStringUnitWidth(z)*se/I.internal.scaleFactor,oe=function(ce){var xe=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this};return new oe({width:re*=Math.round(96*J/72*1e4)/1e4})},h.prototype.scale=function(z,I){if(isNaN(z)||isNaN(I))throw Rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new c(z,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.rotate=function(z){if(isNaN(z))throw Rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new c(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},h.prototype.translate=function(z,I){if(isNaN(z)||isNaN(I))throw Rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new c(1,0,0,1,z,I);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.transform=function(z,I,J,se,re,oe){if(isNaN(z)||isNaN(I)||isNaN(J)||isNaN(se)||isNaN(re)||isNaN(oe))throw Rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new c(z,I,J,se,re,oe);this.ctx.transform=this.ctx.transform.multiply(ce)},h.prototype.setTransform=function(z,I,J,se,re,oe){z=isNaN(z)?1:z,I=isNaN(I)?0:I,J=isNaN(J)?0:J,se=isNaN(se)?1:se,re=isNaN(re)?0:re,oe=isNaN(oe)?0:oe,this.ctx.transform=new c(z,I,J,se,re,oe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(z,I,J,se,re,oe,ce,xe,Pe){var Ce=this.pdf.getImageProperties(z),De=1,Ue=1,ct=1,ke=1;se!==void 0&&xe!==void 0&&(ct=xe/se,ke=Pe/re,De=Ce.width/se*xe/se,Ue=Ce.height/re*Pe/re),oe===void 0&&(oe=I,ce=J,I=0,J=0),se!==void 0&&xe===void 0&&(xe=se,Pe=re),se===void 0&&xe===void 0&&(xe=Ce.width,Pe=Ce.height);for(var ne,gt=this.ctx.transform.decompose(),ot=R(gt.rotate.shx),Oe=new c,Ge=(Oe=(Oe=(Oe=Oe.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale)).applyToRectangle(new l(oe-I*ct,ce-J*ke,se*De,re*Ue)),et=b.call(this,Ge),Z=[],de=0;de<et.length;de+=1)Z.indexOf(et[de])===-1&&Z.push(et[de]);if(w(Z),this.autoPaging)for(var we=Z[0],Te=Z[Z.length-1],ie=we;ie<Te+1;ie++){this.pdf.setPage(ie);var pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=ie===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=ie===1?0:Me+(ie-2)*Ke;if(this.ctx.clip_path.length!==0){var Mn=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ne,this.posX+this.margin[3],-ze+_e+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Mn}var _t=JSON.parse(JSON.stringify(Ge));_t=y([_t],this.posX+this.margin[3],-ze+_e+this.ctx.prevPageLastElemOffset)[0];var Xn=(ie>we||ie<Te)&&x.call(this);Xn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pe,Ke,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,ot),Xn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(z,"JPEG",Ge.x,Ge.y,Ge.w,Ge.h,null,null,ot)};var b=function(z,I,J){var se=[];I=I||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":se.push(Math.floor((z.y+re)/J)+1);break;case"arc":se.push(Math.floor((z.y+re-z.radius)/J)+1),se.push(Math.floor((z.y+re+z.radius)/J)+1);break;case"qct":var oe=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);se.push(Math.floor((oe.y+re)/J)+1),se.push(Math.floor((oe.y+oe.h+re)/J)+1);break;case"bct":var ce=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);se.push(Math.floor((ce.y+re)/J)+1),se.push(Math.floor((ce.y+ce.h+re)/J)+1);break;case"rect":se.push(Math.floor((z.y+re)/J)+1),se.push(Math.floor((z.y+z.h+re)/J)+1)}for(var xe=0;xe<se.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<se[xe];)v.call(this);return se},v=function(){var z=this.fillStyle,I=this.strokeStyle,J=this.font,se=this.lineCap,re=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=I,this.font=J,this.lineCap=se,this.lineWidth=re,this.lineJoin=oe},y=function(z,I,J){for(var se=0;se<z.length;se++)switch(z[se].type){case"bct":z[se].x2+=I,z[se].y2+=J;case"qct":z[se].x1+=I,z[se].y1+=J;case"mt":case"lt":case"arc":default:z[se].x+=I,z[se].y+=J}return z},w=function(z){return z.sort(function(I,J){return I-J})},_=function(z,I){for(var J,se,re=this.fillStyle,oe=this.strokeStyle,ce=this.lineCap,xe=this.lineWidth,Pe=Math.abs(xe*this.ctx.transform.scaleX),Ce=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),ct=[],ke=0;ke<Ue.length;ke++)if(Ue[ke].x!==void 0)for(var ne=b.call(this,Ue[ke]),gt=0;gt<ne.length;gt+=1)ct.indexOf(ne[gt])===-1&&ct.push(ne[gt]);for(var ot=0;ot<ct.length;ot++)for(;this.pdf.internal.getNumberOfPages()<ct[ot];)v.call(this);if(w(ct),this.autoPaging)for(var Oe=ct[0],Ge=ct[ct.length-1],et=Oe;et<Ge+1;et++){this.pdf.setPage(et),this.fillStyle=re,this.strokeStyle=oe,this.lineCap=ce,this.lineWidth=Pe,this.lineJoin=Ce;var Z=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],de=et===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ie=et===1?0:we+(et-2)*Te;if(this.ctx.clip_path.length!==0){var pe=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(J,this.posX+this.margin[3],-ie+de+this.ctx.prevPageLastElemOffset),C.call(this,z,!0),this.path=pe}if(se=JSON.parse(JSON.stringify(De)),this.path=y(se,this.posX+this.margin[3],-ie+de+this.ctx.prevPageLastElemOffset),I===!1||et===0){var _e=(et>Oe||et<Ge)&&x.call(this);_e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Z,Te,null).clip().discardPath()),C.call(this,z,I),_e&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}else this.lineWidth=Pe,C.call(this,z,I),this.lineWidth=xe;this.path=De},C=function(z,I){if((z!=="stroke"||I||!g.call(this))&&(z==="stroke"||I||!p.call(this))){for(var J,se,re=[],oe=this.path,ce=0;ce<oe.length;ce++){var xe=oe[ce];switch(xe.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:xe,deltas:[],abs:[]});break;case"lt":var Pe=re.length;if(oe[ce-1]&&!isNaN(oe[ce-1].x)&&(J=[xe.x-oe[ce-1].x,xe.y-oe[ce-1].y],Pe>0)){for(;Pe>=0;Pe--)if(re[Pe-1].close!==!0&&re[Pe-1].begin!==!0){re[Pe-1].deltas.push(J),re[Pe-1].abs.push(xe);break}}break;case"bct":J=[xe.x1-oe[ce-1].x,xe.y1-oe[ce-1].y,xe.x2-oe[ce-1].x,xe.y2-oe[ce-1].y,xe.x-oe[ce-1].x,xe.y-oe[ce-1].y],re[re.length-1].deltas.push(J);break;case"qct":var Ce=oe[ce-1].x+2/3*(xe.x1-oe[ce-1].x),De=oe[ce-1].y+2/3*(xe.y1-oe[ce-1].y),Ue=xe.x+2/3*(xe.x1-xe.x),ct=xe.y+2/3*(xe.y1-xe.y),ke=xe.x,ne=xe.y;J=[Ce-oe[ce-1].x,De-oe[ce-1].y,Ue-oe[ce-1].x,ct-oe[ce-1].y,ke-oe[ce-1].x,ne-oe[ce-1].y],re[re.length-1].deltas.push(J);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(xe)}}se=I?null:z==="stroke"?"stroke":"fill";for(var gt=!1,ot=0;ot<re.length;ot++)if(re[ot].arc)for(var Oe=re[ot].abs,Ge=0;Ge<Oe.length;Ge++){var et=Oe[Ge];et.type==="arc"?T.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,I,!gt):D.call(this,et.x,et.y),gt=!0}else if(re[ot].close===!0)this.pdf.internal.out("h"),gt=!1;else if(re[ot].begin!==!0){var Z=re[ot].start.x,de=re[ot].start.y;F.call(this,re[ot].deltas,Z,de),gt=!0}se&&$.call(this,se),I&&B.call(this)}},E=function(z){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-J;case"top":return z+I-J;case"hanging":return z+I-2*J;case"middle":return z+I/2-J;case"ideographic":return z;case"alphabetic":default:return z}},O=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(I,J){this.colorStops.push([I,J])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(z,I,J,se,re,oe,ce,xe,Pe){for(var Ce=W.call(this,J,se,re,oe),De=0;De<Ce.length;De++){var Ue=Ce[De];De===0&&(Pe?L.call(this,Ue.x1+z,Ue.y1+I):D.call(this,Ue.x1+z,Ue.y1+I)),U.call(this,z,I,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}xe?B.call(this):$.call(this,ce)},$=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(z,I){this.pdf.internal.out(n(z)+" "+r(I)+" m")},P=function(z){var I;switch(z.align){case"right":case"end":I="right";break;case"center":I="center";break;case"left":case"start":default:I="left"}var J=this.pdf.getTextDimensions(z.text),se=E.call(this,z.y),re=O.call(this,se)-J.h,oe=this.ctx.transform.applyToPoint(new a(z.x,se)),ce=this.ctx.transform.decompose(),xe=new c;xe=(xe=(xe=xe.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var Pe,Ce,De,Ue=this.ctx.transform.applyToRectangle(new l(z.x,se,J.w,J.h)),ct=xe.applyToRectangle(new l(z.x,re,J.w,J.h)),ke=b.call(this,ct),ne=[],gt=0;gt<ke.length;gt+=1)ne.indexOf(ke[gt])===-1&&ne.push(ke[gt]);if(w(ne),this.autoPaging)for(var ot=ne[0],Oe=ne[ne.length-1],Ge=ot;Ge<Oe+1;Ge++){this.pdf.setPage(Ge);var et=Ge===1?this.posY+this.margin[0]:this.margin[0],Z=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],de=this.pdf.internal.pageSize.height-this.margin[2],we=de-this.margin[0],Te=this.pdf.internal.pageSize.width-this.margin[1],ie=Te-this.margin[3],pe=Ge===1?0:Z+(Ge-2)*we;if(this.ctx.clip_path.length!==0){var _e=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Pe,this.posX+this.margin[3],-1*pe+et),C.call(this,"fill",!0),this.path=_e}var Me=y([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-pe+et+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*z.scale),De=this.lineWidth,this.lineWidth=De*z.scale);var Ke=this.autoPaging!=="text";if(Ke||Me.y+Me.h<=de){if(Ke||Me.y>=et&&Me.x<=Te){var ze=Ke?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||Te-Me.x)[0],Mn=y([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-pe+et+this.ctx.prevPageLastElemOffset)[0],_t=Ke&&(Ge>ot||Ge<Oe)&&x.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ie,we,null).clip().discardPath()),this.pdf.text(ze,Mn.x,Mn.y,{angle:z.angle,align:I,renderingMode:z.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else Me.y<de&&(this.ctx.prevPageLastElemOffset+=de-Me.y);z.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=De)}else z.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*z.scale),De=this.lineWidth,this.lineWidth=De*z.scale),this.pdf.text(z.text,oe.x+this.posX,oe.y+this.posY,{angle:z.angle,align:I,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=De)},D=function(z,I,J,se){J=J||0,se=se||0,this.pdf.internal.out(n(z+J)+" "+r(I+se)+" l")},F=function(z,I,J){return this.pdf.lines(z,I,J,null,null)},U=function(z,I,J,se,re,oe,ce,xe){this.pdf.internal.out([t(s(J+z)),t(i(se+I)),t(s(re+z)),t(i(oe+I)),t(s(ce+z)),t(i(xe+I)),"c"].join(" "))},W=function(z,I,J,se){for(var re=2*Math.PI,oe=Math.PI/2;I>J;)I-=re;var ce=Math.abs(J-I);ce<re&&se&&(ce=re-ce);for(var xe=[],Pe=se?-1:1,Ce=I;ce>1e-5;){var De=Ce+Pe*Math.min(ce,oe);xe.push(H.call(this,z,Ce,De)),ce-=Math.abs(De-Ce),Ce=De}return xe},H=function(z,I,J){var se=(J-I)/2,re=z*Math.cos(se),oe=z*Math.sin(se),ce=re,xe=-oe,Pe=ce*ce+xe*xe,Ce=Pe+ce*re+xe*oe,De=4/3*(Math.sqrt(2*Pe*Ce)-Ce)/(ce*oe-xe*re),Ue=ce-De*xe,ct=xe+De*ce,ke=Ue,ne=-ct,gt=se+I,ot=Math.cos(gt),Oe=Math.sin(gt);return{x1:z*Math.cos(I),y1:z*Math.sin(I),x2:Ue*ot-ct*Oe,y2:Ue*Oe+ct*ot,x3:ke*ot-ne*Oe,y3:ke*Oe+ne*ot,x4:z*Math.cos(J),y4:z*Math.sin(J)}},R=function(z){return 180*z/Math.PI},G=function(z,I,J,se,re,oe){var ce=z+.5*(J-z),xe=I+.5*(se-I),Pe=re+.5*(J-re),Ce=oe+.5*(se-oe),De=Math.min(z,re,ce,Pe),Ue=Math.max(z,re,ce,Pe),ct=Math.min(I,oe,xe,Ce),ke=Math.max(I,oe,xe,Ce);return new l(De,ct,Ue-De,ke-ct)},M=function(z,I,J,se,re,oe,ce,xe){var Pe,Ce,De,Ue,ct,ke,ne,gt,ot,Oe,Ge,et,Z,de,we=J-z,Te=se-I,ie=re-J,pe=oe-se,_e=ce-re,Me=xe-oe;for(Ce=0;Ce<41;Ce++)ot=(ne=(De=z+(Pe=Ce/40)*we)+Pe*((ct=J+Pe*ie)-De))+Pe*(ct+Pe*(re+Pe*_e-ct)-ne),Oe=(gt=(Ue=I+Pe*Te)+Pe*((ke=se+Pe*pe)-Ue))+Pe*(ke+Pe*(oe+Pe*Me-ke)-gt),Ce==0?(Ge=ot,et=Oe,Z=ot,de=Oe):(Ge=Math.min(Ge,ot),et=Math.min(et,Oe),Z=Math.max(Z,ot),de=Math.max(de,Oe));return new l(Math.round(Ge),Math.round(et),Math.round(Z-Ge),Math.round(de-et))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,I,J=(z=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:I}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(wt.API),function(e){var t=function(i){var a,l,c,u,d,h,f,p,g,x;for(l=[],c=0,u=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(x=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)-(f=d%85))/85)%85,l.push(h+33,f+33,p+33,g+33,x+33)):l.push(122);return function(b,v){for(var y=v;y>0;y--)b.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(i){var a,l,c,u,d,h=String,f="length",p=255,g="charCodeAt",x="slice",b="replace";for(i[x](-2),i=i[x](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),c=[],u=0,d=(i+=a="uuuuu"[x](i[f]%5||5))[f];d>u;u+=5)l=52200625*(i[g](u)-33)+614125*(i[g](u+1)-33)+7225*(i[g](u+2)-33)+85*(i[g](u+3)-33)+(i[g](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(v,y){for(var w=y;w>0;w--)v.pop()}(c,a[f]),h.fromCharCode.apply(h,c)},r=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},s=function(i){for(var a=new Uint8Array(i.length),l=i.length;l--;)a[l]=i.charCodeAt(l);return i=(a=KN(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,a){var l=0,c=i||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(wt.API),function(e){e.loadFile=function(t,n,r){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,f=0,p=function(g){var x=g.length,b=[],v=String.fromCharCode;for(f=0;f<x;f+=1)b.push(v(255&g.charCodeAt(f)));return b.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(p(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)}(s,i,a)}catch{}return l}(t,n,r)},e.loadImageFile=e.loadFile}(wt.API),function(e){function t(){return(At.html2canvas?Promise.resolve(At.html2canvas):Tg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):Tg(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=En(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,a,1,[a])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,l){return a.__proto__=l||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(c){return this.set({src:s("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(c(f,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var p=u[f],g=p.src.find(function(x){return x.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},i.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(a,l){return this.then(function(){var c=a in i.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},i.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},i.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,a,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},i.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return i.convert(l,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,wt.getPageSize=function(a,l,c){if(En(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,g=0,x=0;if(f.hasOwnProperty(h))g=f[h][1]/d,x=f[h][0]/d;else try{g=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",x>g&&(p=x,x=g,g=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",g>x&&(p=x,x=g,g=p)}return{width:x,height:g,unit:l,k:d,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(tS):null;var c=new i(l);return l.worker?c:c.from(a).doCallback()}}(wt.API),wt.API.addJS=function(e){return tE=e,this.internal.events.subscribe("postPutResources",function(){Fy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),eE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+tE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Fy!==void 0&&eE!==void 0&&this.internal.out("/Names <</JavaScript "+Fy+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=r.exec(a);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var h=n.internal.newObject();d.push(h);var f=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<d.length;i++)n.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var a={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var a=r.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(wt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,i,a,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(h){for(var f,p=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,x={width:0,height:0,numcomponents:1},b=4;b<g;b+=2){if(b+=p,t.indexOf(h.charCodeAt(b+1))!==-1){f=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),x={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:f,numcomponents:h.charCodeAt(b+9)};break}p=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:r,alias:s}}return d}}(wt.API);var Ph,zy,nE,rE,sE,mbe=function(){var e,t,n;function r(i){var a,l,c,u,d,h,f,p,g,x,b,v,y,w;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),g=(function(){var _,C;for(C=[],_=0;_<4;++_)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,a-=4),i=(h!=null?h.data:void 0)||this.imgData,v=0;0<=a?v<a:v>a;0<=a?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(y=0;0<=x?y<x:y>x;0<=x?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(b=this.read(a)).indexOf(0),p=String.fromCharCode.apply(String,b.slice(0,f)),this.text[p]=String.fromCharCode.apply(String,b.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var a,l;for(l=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(h,f,p,g){var x,b,v,y,w,_,C,E,O,T,$,B,L,P,D,F,U,W,H,R,G,M=Math.ceil((u.width-h)/p),ae=Math.ceil((u.height-f)/g),z=u.width==M&&u.height==ae;for(P=a*M,B=z?l:new Uint8Array(P*ae),_=i.length,L=0,b=0;L<ae&&c<_;){switch(i[c++]){case 0:for(y=U=0;U<P;y=U+=1)B[b++]=i[c++];break;case 1:for(y=W=0;W<P;y=W+=1)x=i[c++],w=y<a?0:B[b-a],B[b++]=(x+w)%256;break;case 2:for(y=H=0;H<P;y=H+=1)x=i[c++],v=(y-y%a)/a,D=L&&B[(L-1)*P+v*a+y%a],B[b++]=(D+x)%256;break;case 3:for(y=R=0;R<P;y=R+=1)x=i[c++],v=(y-y%a)/a,w=y<a?0:B[b-a],D=L&&B[(L-1)*P+v*a+y%a],B[b++]=(x+Math.floor((w+D)/2))%256;break;case 4:for(y=G=0;G<P;y=G+=1)x=i[c++],v=(y-y%a)/a,w=y<a?0:B[b-a],L===0?D=F=0:(D=B[(L-1)*P+v*a+y%a],F=v&&B[(L-1)*P+(v-1)*a+y%a]),C=w+D-F,E=Math.abs(C-w),T=Math.abs(C-D),$=Math.abs(C-F),O=E<=T&&E<=$?w:T<=$?D:F,B[b++]=(x+O)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!z){var I=((f+L*g)*u.width+h)*a,J=L*P;for(y=0;y<M;y+=1){for(var se=0;se<a;se+=1)l[I++]=B[J++];I+=(p-1)*a}}L++}}return i=Y1e(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},r.prototype.decodePalette=function(){var i,a,l,c,u,d,h,f,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,a=h=0,f=l.length;h<f;a=h+=3)u[c++]=l[a],u[c++]=l[a+1],u[c++]=l[a+2],u[c++]=(p=d[i++])!=null?p:255;return u},r.prototype.copyToImageData=function(i,a){var l,c,u,d,h,f,p,g,x,b,v;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),c=4,l=!0),g=(u=i.data||i).length,h=x||a,d=f=0,c===1)for(;d<g;)p=x?4*a[d/4]:f,b=h[p++],u[d++]=b,u[d++]=b,u[d++]=b,u[d++]=l?h[p++]:255,f=p;else for(;d<g;)p=x?4*a[d/4]:f,u[d++]=h[p++],u[d++]=h[p++],u[d++]=h[p++],u[d++]=l?h[p++]:255,f=p},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(At)==="[object Window]"){try{t=At.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var a;if(s()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var a,l,c,u,d,h,f,p;if(this.animation){for(p=[],l=d=0,h=(f=this.animation.frames).length;d<h;l=++d)a=f[l],c=i.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,u),a.imageData=c,p.push(a.image=e(c));return p}},r.prototype.renderFrame=function(i,a){var l,c,u;return l=(c=this.animation.frames)[a],u=c[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(i){var a,l,c,u,d,h,f=this;return l=0,h=this.animation,u=h.numFrames,c=h.frames,d=h.numPlays,(a=function(){var p,g;if(p=l++%u,g=c[p],f.renderFrame(i,p),u>1&&l/u<d)return f.animation._timeout=setTimeout(a,g.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var a,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function gbe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<(7&s)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=a,t+=3*a);var u=!0,d=[],h=0,f=null,p=0,g=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];h=e[t++]|e[t++]<<8,f=e[t++],!(1&x)&&(f=null),p=x>>2&7,t++;break;case 254:for(;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++],C=_>>6&1,E=1<<(7&_)+1,O=l,T=c,$=!1;_>>7&&($=!0,O=t,T=E,t+=3*E);var B=t;for(t++;;){var L;if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}d.push({x:b,y:v,width:y,height:w,has_local_palette:$,palette_offset:O,palette_size:T,data_offset:B,data_length:t-B,transparent_index:f,interlaced:!!C,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,D){var F=this.frameInfo(P),U=F.width*F.height,W=new Uint8Array(U);iE(e,F.data_offset,W,U);var H=F.palette_offset,R=F.transparent_index;R===null&&(R=256);var G=F.width,M=n-G,ae=G,z=4*(F.y*n+F.x),I=4*((F.y+F.height)*n+F.x),J=z,se=4*M;F.interlaced===!0&&(se+=4*n*7);for(var re=8,oe=0,ce=W.length;oe<ce;++oe){var xe=W[oe];if(ae===0&&(ae=G,(J+=se)>=I&&(se=4*M+4*n*(re-1),J=z+(G+M)*(re<<1),re>>=1)),xe===R)J+=4;else{var Pe=e[H+3*xe],Ce=e[H+3*xe+1],De=e[H+3*xe+2];D[J++]=De,D[J++]=Ce,D[J++]=Pe,D[J++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(P,D){var F=this.frameInfo(P),U=F.width*F.height,W=new Uint8Array(U);iE(e,F.data_offset,W,U);var H=F.palette_offset,R=F.transparent_index;R===null&&(R=256);var G=F.width,M=n-G,ae=G,z=4*(F.y*n+F.x),I=4*((F.y+F.height)*n+F.x),J=z,se=4*M;F.interlaced===!0&&(se+=4*n*7);for(var re=8,oe=0,ce=W.length;oe<ce;++oe){var xe=W[oe];if(ae===0&&(ae=G,(J+=se)>=I&&(se=4*M+4*n*(re-1),J=z+(G+M)*(re<<1),re>>=1)),xe===R)J+=4;else{var Pe=e[H+3*xe],Ce=e[H+3*xe+1],De=e[H+3*xe+2];D[J++]=Pe,D[J++]=Ce,D[J++]=De,D[J++]=255}--ae}}}function iE(e,t,n,r){for(var s=e[t++],i=1<<s,a=i+1,l=a+1,c=s+1,u=(1<<c)-1,d=0,h=0,f=0,p=e[t++],g=new Int32Array(4096),x=null;;){for(;d<16&&p!==0;)h|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var b=h&u;if(h>>=c,d-=c,b!==i){if(b===a)break;for(var v=b<l?b:x,y=0,w=v;w>i;)w=g[w]>>8,++y;var _=w;if(f+y+(v!==b?1:0)>r)return void Rn.log("Warning, gif stream longer than expected.");n[f++]=_;var C=f+=y;for(v!==b&&(n[f++]=_),w=v;y--;)w=g[w],n[--C]=255&w,w>>=8;x!==null&&l<4096&&(g[l++]=x<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=b}else l=a+1,u=(1<<(c=s+1))-1,x=null}return f!==r&&Rn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function T5(e){var t,n,r,s,i,a=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),f=new Array(65535),p=new Array(64),g=new Array(64),x=[],b=0,v=7,y=new Array(64),w=new Array(64),_=new Array(64),C=new Array(256),E=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(z,I){for(var J=0,se=0,re=new Array,oe=1;oe<=16;oe++){for(var ce=1;ce<=z[oe];ce++)re[I[se]]=[],re[I[se]][0]=J,re[I[se]][1]=oe,se++,J++;J*=2}return re}function H(z){for(var I=z[0],J=z[1]-1;J>=0;)I&1<<J&&(b|=1<<v),J--,--v<0&&(b==255?(R(255),R(0)):R(b),v=7,b=0)}function R(z){x.push(z)}function G(z){R(z>>8&255),R(255&z)}function M(z,I,J,se,re){for(var oe,ce=re[0],xe=re[240],Pe=function(Oe,Ge){var et,Z,de,we,Te,ie,pe,_e,Me,Ke,ze=0;for(Me=0;Me<8;++Me){et=Oe[ze],Z=Oe[ze+1],de=Oe[ze+2],we=Oe[ze+3],Te=Oe[ze+4],ie=Oe[ze+5],pe=Oe[ze+6];var Mn=et+(_e=Oe[ze+7]),_t=et-_e,Xn=Z+pe,an=Z-pe,Rt=de+ie,be=de-ie,Ze=we+Te,In=we-Te,bn=Mn+Ze,Dr=Mn-Ze,nl=Xn+Rt,dr=Xn-Rt;Oe[ze]=bn+nl,Oe[ze+4]=bn-nl;var Ot=.707106781*(dr+Dr);Oe[ze+2]=Dr+Ot,Oe[ze+6]=Dr-Ot;var wn=.382683433*((bn=In+be)-(dr=an+_t)),Nu=.5411961*bn+wn,ls=1.306562965*dr+wn,uo=.707106781*(nl=be+an),ho=_t+uo,Ct=_t-uo;Oe[ze+5]=Ct+Nu,Oe[ze+3]=Ct-Nu,Oe[ze+1]=ho+ls,Oe[ze+7]=ho-ls,ze+=8}for(ze=0,Me=0;Me<8;++Me){et=Oe[ze],Z=Oe[ze+8],de=Oe[ze+16],we=Oe[ze+24],Te=Oe[ze+32],ie=Oe[ze+40],pe=Oe[ze+48];var _a=et+(_e=Oe[ze+56]),fo=et-_e,si=Z+pe,Vr=Z-pe,Rr=de+ie,_i=de-ie,qd=we+Te,rl=we-Te,Ca=_a+qd,Aa=_a-qd,Pa=si+Rr,po=si-Rr;Oe[ze]=Ca+Pa,Oe[ze+32]=Ca-Pa;var ta=.707106781*(po+Aa);Oe[ze+16]=Aa+ta,Oe[ze+48]=Aa-ta;var mo=.382683433*((Ca=rl+_i)-(po=Vr+fo)),Su=.5411961*Ca+mo,Wd=1.306562965*po+mo,Hd=.707106781*(Pa=_i+Vr),Yd=fo+Hd,Gd=fo-Hd;Oe[ze+40]=Gd+Su,Oe[ze+24]=Gd-Su,Oe[ze+8]=Yd+Wd,Oe[ze+56]=Yd-Wd,ze++}for(Me=0;Me<64;++Me)Ke=Oe[Me]*Ge[Me],p[Me]=Ke>0?Ke+.5|0:Ke-.5|0;return p}(z,I),Ce=0;Ce<64;++Ce)g[O[Ce]]=Pe[Ce];var De=g[0]-J;J=g[0],De==0?H(se[0]):(H(se[f[oe=32767+De]]),H(h[oe]));for(var Ue=63;Ue>0&&g[Ue]==0;)Ue--;if(Ue==0)return H(ce),J;for(var ct,ke=1;ke<=Ue;){for(var ne=ke;g[ke]==0&&ke<=Ue;)++ke;var gt=ke-ne;if(gt>=16){ct=gt>>4;for(var ot=1;ot<=ct;++ot)H(xe);gt&=15}oe=32767+g[ke],H(re[(gt<<4)+f[oe]]),H(h[oe]),ke++}return Ue!=63&&H(ce),J}function ae(z){z=Math.min(Math.max(z,1),100),i!=z&&(function(I){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var re=a((J[se]*I+50)/100);re=Math.min(Math.max(re,1),255),l[O[se]]=re}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var xe=a((oe[ce]*I+50)/100);xe=Math.min(Math.max(xe,1),255),c[O[ce]]=xe}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,De=0;De<8;De++)for(var Ue=0;Ue<8;Ue++)u[Ce]=1/(l[O[Ce]]*Pe[De]*Pe[Ue]*8),d[Ce]=1/(c[O[Ce]]*Pe[De]*Pe[Ue]*8),Ce++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),i=z)}this.encode=function(z,I){I&&ae(I),x=new Array,b=0,v=7,G(65496),G(65504),G(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),G(1),G(1),R(0),R(0),function(){G(65499),G(132),R(0);for(var Z=0;Z<64;Z++)R(l[Z]);R(1);for(var de=0;de<64;de++)R(c[de])}(),function(Z,de){G(65472),G(17),R(8),G(de),G(Z),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(z.width,z.height),function(){G(65476),G(418),R(0);for(var Z=0;Z<16;Z++)R(T[Z+1]);for(var de=0;de<=11;de++)R($[de]);R(16);for(var we=0;we<16;we++)R(B[we+1]);for(var Te=0;Te<=161;Te++)R(L[Te]);R(1);for(var ie=0;ie<16;ie++)R(P[ie+1]);for(var pe=0;pe<=11;pe++)R(D[pe]);R(17);for(var _e=0;_e<16;_e++)R(F[_e+1]);for(var Me=0;Me<=161;Me++)R(U[Me])}(),G(65498),G(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var J=0,se=0,re=0;b=0,v=7,this.encode.displayName="_encode_";for(var oe,ce,xe,Pe,Ce,De,Ue,ct,ke,ne=z.data,gt=z.width,ot=z.height,Oe=4*gt,Ge=0;Ge<ot;){for(oe=0;oe<Oe;){for(Ce=Oe*Ge+oe,Ue=-1,ct=0,ke=0;ke<64;ke++)De=Ce+(ct=ke>>3)*Oe+(Ue=4*(7&ke)),Ge+ct>=ot&&(De-=Oe*(Ge+1+ct-ot)),oe+Ue>=Oe&&(De-=oe+Ue-Oe+4),ce=ne[De++],xe=ne[De++],Pe=ne[De++],y[ke]=(E[ce]+E[xe+256>>0]+E[Pe+512>>0]>>16)-128,w[ke]=(E[ce+768>>0]+E[xe+1024>>0]+E[Pe+1280>>0]>>16)-128,_[ke]=(E[ce+1280>>0]+E[xe+1536>>0]+E[Pe+1792>>0]>>16)-128;J=M(y,u,J,t,r),se=M(w,d,se,n,s),re=M(_,d,re,n,s),oe+=32}Ge+=8}if(v>=0){var et=[];et[1]=v+1,et[0]=(1<<v+1)-1,H(et)}return G(65497),new Uint8Array(x)},e=e||50,function(){for(var z=String.fromCharCode,I=0;I<256;I++)C[I]=z(I)}(),t=W(T,$),n=W(P,D),r=W(B,L),s=W(F,U),function(){for(var z=1,I=2,J=1;J<=15;J++){for(var se=z;se<I;se++)f[32767+se]=J,h[32767+se]=[],h[32767+se][1]=J,h[32767+se][0]=se;for(var re=-(I-1);re<=-z;re++)f[32767+re]=J,h[32767+re]=[],h[32767+re][1]=J,h[32767+re][0]=I-1+re;z<<=1,I<<=1}}(),function(){for(var z=0;z<256;z++)E[z]=19595*z,E[z+256>>0]=38470*z,E[z+512>>0]=7471*z+32768,E[z+768>>0]=-11059*z,E[z+1024>>0]=-21709*z,E[z+1280>>0]=32768*z+8421375,E[z+1536>>0]=-27439*z,E[z+1792>>0]=-5329*z}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Oa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function aE(e){function t(T){if(!T)throw Error("assert :P")}function n(T,$,B){for(var L=0;4>L;L++)if(T[$+L]!=B.charCodeAt(L))return!0;return!1}function r(T,$,B,L,P){for(var D=0;D<P;D++)T[$+D]=B[L+D]}function s(T,$,B,L){for(var P=0;P<L;P++)T[$+P]=B}function i(T){return new Int32Array(T)}function a(T,$){for(var B=[],L=0;L<T;L++)B.push(new $);return B}function l(T,$){var B=[];return function L(P,D,F){for(var U=F[D],W=0;W<U&&(P.push(F.length>D+1?[]:new $),!(F.length<D+1));W++)L(P[W],D+1,F)}(B,0,T),B}var c=function(){var T=this;function $(m,j){for(var k=1<<j-1>>>0;m&k;)k>>>=1;return k?(m&k-1)+k:m}function B(m,j,k,A,V){t(!(A%k));do m[j+(A-=k)]=V;while(0<A)}function L(m,j,k,A,V){if(t(2328>=V),512>=V)var Y=i(512);else if((Y=i(V))==null)return 0;return function(K,Q,X,ee,fe,Ne){var Se,ye,Re=Q,Ae=1<<X,me=i(16),ge=i(16);for(t(fe!=0),t(ee!=null),t(K!=null),t(0<X),ye=0;ye<fe;++ye){if(15<ee[ye])return 0;++me[ee[ye]]}if(me[0]==fe)return 0;for(ge[1]=0,Se=1;15>Se;++Se){if(me[Se]>1<<Se)return 0;ge[Se+1]=ge[Se]+me[Se]}for(ye=0;ye<fe;++ye)Se=ee[ye],0<ee[ye]&&(Ne[ge[Se]++]=ye);if(ge[15]==1)return(ee=new P).g=0,ee.value=Ne[0],B(K,Re,1,Ae,ee),Ae;var Le,Fe=-1,Ie=Ae-1,lt=0,tt=1,jt=1,nt=1<<X;for(ye=0,Se=1,fe=2;Se<=X;++Se,fe<<=1){if(tt+=jt<<=1,0>(jt-=me[Se]))return 0;for(;0<me[Se];--me[Se])(ee=new P).g=Se,ee.value=Ne[ye++],B(K,Re+lt,fe,nt,ee),lt=$(lt,Se)}for(Se=X+1,fe=2;15>=Se;++Se,fe<<=1){if(tt+=jt<<=1,0>(jt-=me[Se]))return 0;for(;0<me[Se];--me[Se]){if(ee=new P,(lt&Ie)!=Fe){for(Re+=nt,Le=1<<(Fe=Se)-X;15>Fe&&!(0>=(Le-=me[Fe]));)++Fe,Le<<=1;Ae+=nt=1<<(Le=Fe-X),K[Q+(Fe=lt&Ie)].g=Le+X,K[Q+Fe].value=Re-Q-Fe}ee.g=Se-X,ee.value=Ne[ye++],B(K,Re+(lt>>X),fe,nt,ee),lt=$(lt,Se)}}return tt!=2*ge[15]-1?0:Ae}(m,j,k,A,V,Y)}function P(){this.value=this.g=0}function D(){this.value=this.g=0}function F(){this.G=a(5,P),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(cs,D)}function U(m,j,k,A){t(m!=null),t(j!=null),t(2147483648>A),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=j,m.pa=k,m.Jd=j,m.Yc=k+A,m.Zc=4<=A?k+A-4+1:k,oe(m)}function W(m,j){for(var k=0;0<j--;)k|=xe(m,128)<<j;return k}function H(m,j){var k=W(m,j);return ce(m)?-k:k}function R(m,j,k,A){var V,Y=0;for(t(m!=null),t(j!=null),t(4294967288>A),m.Sb=A,m.Ra=0,m.u=0,m.h=0,4<A&&(A=4),V=0;V<A;++V)Y+=j[k+V]<<8*V;m.Ra=Y,m.bb=A,m.oa=j,m.pa=k}function G(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ch-8>>>0,++m.bb,m.u-=8;J(m)&&(m.h=1,m.u=0)}function M(m,j){if(t(0<=j),!m.h&&j<=lh){var k=I(m)&oh[j];return m.u+=j,G(m),k}return m.h=1,m.u=0}function ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function I(m){return m.Ra>>>(m.u&ch-1)>>>0}function J(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ch}function se(m,j){m.u=j,m.h=J(m)}function re(m){m.u>=Tp&&(t(m.u>=Tp),G(m))}function oe(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ce(m){return W(m,1)}function xe(m,j){var k=m.Ca;0>m.b&&oe(m);var A=m.b,V=k*j>>>8,Y=(m.I>>>A>V)+0;for(Y?(k-=V,m.I-=V+1<<A>>>0):k=V+1,A=k,V=0;256<=A;)V+=8,A>>=8;return A=7^V+ai[A],m.b-=A,m.Ca=(k<<A)-1,Y}function Pe(m,j,k){m[j+0]=k>>24&255,m[j+1]=k>>16&255,m[j+2]=k>>8&255,m[j+3]=k>>0&255}function Ce(m,j){return m[j+0]<<0|m[j+1]<<8}function De(m,j){return Ce(m,j)|m[j+2]<<16}function Ue(m,j){return Ce(m,j)|Ce(m,j+2)<<16}function ct(m,j){var k=1<<j;return t(m!=null),t(0<j),m.X=i(k),m.X==null?0:(m.Mb=32-j,m.Xa=j,1)}function ke(m,j){t(m!=null),t(j!=null),t(m.Xa==j.Xa),r(j.X,0,m.X,0,1<<j.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function gt(m,j,k,A){t(k!=null),t(A!=null);var V=k[0],Y=A[0];return V==0&&(V=(m*Y+j/2)/j),Y==0&&(Y=(j*V+m/2)/m),0>=V||0>=Y?0:(k[0]=V,A[0]=Y,1)}function ot(m,j){return m+(1<<j)-1>>>j}function Oe(m,j){return((4278255360&m)+(4278255360&j)>>>0&4278255360)+((16711935&m)+(16711935&j)>>>0&16711935)>>>0}function Ge(m,j){T[j]=function(k,A,V,Y,K,Q,X){var ee;for(ee=0;ee<K;++ee){var fe=T[m](Q[X+ee-1],V,Y+ee);Q[X+ee]=Oe(k[A+ee],fe)}}}function et(){this.ud=this.hd=this.jd=0}function Z(m,j){return((4278124286&(m^j))>>>1)+(m&j)>>>0}function de(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function we(m,j){return de(m+(m-j+.5>>1))}function Te(m,j,k){return Math.abs(j-k)-Math.abs(m-k)}function ie(m,j,k,A,V,Y,K){for(A=Y[K-1],k=0;k<V;++k)Y[K+k]=A=Oe(m[j+k],A)}function pe(m,j,k,A,V){var Y;for(Y=0;Y<k;++Y){var K=m[j+Y],Q=K>>8&255,X=16711935&(X=(X=16711935&K)+((Q<<16)+Q));A[V+Y]=(4278255360&K)+X>>>0}}function _e(m,j){j.jd=m>>0&255,j.hd=m>>8&255,j.ud=m>>16&255}function Me(m,j,k,A,V,Y){var K;for(K=0;K<A;++K){var Q=j[k+K],X=Q>>>8,ee=Q,fe=255&(fe=(fe=Q>>>16)+((m.jd<<24>>24)*(X<<24>>24)>>>5));ee=255&(ee=(ee=ee+((m.hd<<24>>24)*(X<<24>>24)>>>5))+((m.ud<<24>>24)*(fe<<24>>24)>>>5)),V[Y+K]=(4278255360&Q)+(fe<<16)+ee}}function Ke(m,j,k,A,V){T[j]=function(Y,K,Q,X,ee,fe,Ne,Se,ye){for(X=Ne;X<Se;++X)for(Ne=0;Ne<ye;++Ne)ee[fe++]=V(Q[A(Y[K++])])},T[m]=function(Y,K,Q,X,ee,fe,Ne){var Se=8>>Y.b,ye=Y.Ea,Re=Y.K[0],Ae=Y.w;if(8>Se)for(Y=(1<<Y.b)-1,Ae=(1<<Se)-1;K<Q;++K){var me,ge=0;for(me=0;me<ye;++me)me&Y||(ge=A(X[ee++])),fe[Ne++]=V(Re[ge&Ae]),ge>>=Se}else T["VP8LMapColor"+k](X,ee,Re,Ae,fe,Ne,K,Q,ye)}}function ze(m,j,k,A,V){for(k=j+k;j<k;){var Y=m[j++];A[V++]=Y>>16&255,A[V++]=Y>>8&255,A[V++]=Y>>0&255}}function Mn(m,j,k,A,V){for(k=j+k;j<k;){var Y=m[j++];A[V++]=Y>>16&255,A[V++]=Y>>8&255,A[V++]=Y>>0&255,A[V++]=Y>>24&255}}function _t(m,j,k,A,V){for(k=j+k;j<k;){var Y=(K=m[j++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;A[V++]=Y,A[V++]=K}}function Xn(m,j,k,A,V){for(k=j+k;j<k;){var Y=(K=m[j++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;A[V++]=Y,A[V++]=K}}function an(m,j,k,A,V){for(k=j+k;j<k;){var Y=m[j++];A[V++]=Y>>0&255,A[V++]=Y>>8&255,A[V++]=Y>>16&255}}function Rt(m,j,k,A,V,Y){if(Y==0)for(k=j+k;j<k;)Pe(A,((Y=m[j++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),V+=32;else r(A,V,m,j,k)}function be(m,j){T[j][0]=T[m+"0"],T[j][1]=T[m+"1"],T[j][2]=T[m+"2"],T[j][3]=T[m+"3"],T[j][4]=T[m+"4"],T[j][5]=T[m+"5"],T[j][6]=T[m+"6"],T[j][7]=T[m+"7"],T[j][8]=T[m+"8"],T[j][9]=T[m+"9"],T[j][10]=T[m+"10"],T[j][11]=T[m+"11"],T[j][12]=T[m+"12"],T[j][13]=T[m+"13"],T[j][14]=T[m+"0"],T[j][15]=T[m+"0"]}function Ze(m){return m==A2||m==P2||m==Px||m==E2}function In(){this.eb=[],this.size=this.A=this.fb=0}function bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new In,this.f.kb=new bn,this.sd=null}function nl(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ot(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function wn(m,j){var k=m.T,A=j.ba.f.RGBA,V=A.eb,Y=A.fb+m.ka*A.A,K=oa[j.ba.S],Q=m.y,X=m.O,ee=m.f,fe=m.N,Ne=m.ea,Se=m.W,ye=j.cc,Re=j.dc,Ae=j.Mc,me=j.Nc,ge=m.ka,Le=m.ka+m.T,Fe=m.U,Ie=Fe+1>>1;for(ge==0?K(Q,X,null,null,ee,fe,Ne,Se,ee,fe,Ne,Se,V,Y,null,null,Fe):(K(j.ec,j.fc,Q,X,ye,Re,Ae,me,ee,fe,Ne,Se,V,Y-A.A,V,Y,Fe),++k);ge+2<Le;ge+=2)ye=ee,Re=fe,Ae=Ne,me=Se,fe+=m.Rc,Se+=m.Rc,Y+=2*A.A,K(Q,(X+=2*m.fa)-m.fa,Q,X,ye,Re,Ae,me,ee,fe,Ne,Se,V,Y-A.A,V,Y,Fe);return X+=m.fa,m.j+Le<m.o?(r(j.ec,j.fc,Q,X,Fe),r(j.cc,j.dc,ee,fe,Ie),r(j.Mc,j.Nc,Ne,Se,Ie),k--):1&Le||K(Q,X,null,null,ee,fe,Ne,Se,ee,fe,Ne,Se,V,Y+A.A,null,null,Fe),k}function Nu(m,j,k){var A=m.F,V=[m.J];if(A!=null){var Y=m.U,K=j.ba.S,Q=K==Ax||K==Px;j=j.ba.f.RGBA;var X=[0],ee=m.ka;X[0]=m.T,m.Kb&&(ee==0?--X[0]:(--ee,V[0]-=m.width),m.j+m.ka+m.T==m.o&&(X[0]=m.o-m.j-ee));var fe=j.eb;ee=j.fb+ee*j.A,m=Bn(A,V[0],m.width,Y,X,fe,ee+(Q?0:3),j.A),t(k==X),m&&Ze(K)&&ia(fe,ee,Q,Y,X,j.A)}return 0}function ls(m){var j=m.ma,k=j.ba.S,A=11>k,V=k==_x||k==Cx||k==Ax||k==C2||k==12||Ze(k);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!Pp(j.Oa,m,V?11:12))return 0;if(V&&Ze(k)&&$e(),m.da)alert("todo:use_scaling");else{if(A){if(j.Ib=Ot,m.Kb){if(k=m.U+1>>1,j.memory=i(m.U+2*k),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+m.U,j.Mc=j.cc,j.Nc=j.dc+k,j.Ib=wn,$e()}}else alert("todo:EmitYUV");V&&(j.Jb=Nu,A&&je())}if(A&&!m_){for(m=0;256>m;++m)uW[m]=89858*(m-128)+Tx>>Ex,fW[m]=-22014*(m-128)+Tx,hW[m]=-45773*(m-128),dW[m]=113618*(m-128)+Tx>>Ex;for(m=Fp;m<L2;++m)j=76283*(m-16)+Tx>>Ex,pW[m-Fp]=Ci(j,255),mW[m-Fp]=Ci(j+8>>4,15);m_=1}return 1}function uo(m){var j=m.ma,k=m.U,A=m.T;return t(!(1&m.ka)),0>=k||0>=A?0:(k=j.Ib(m,j),j.Jb!=null&&j.Jb(m,j,k),j.Dc+=k,1)}function ho(m){m.ma.memory=null}function Ct(m,j,k,A){return M(m,8)!=47?0:(j[0]=M(m,14)+1,k[0]=M(m,14)+1,A[0]=M(m,1),M(m,3)!=0?0:!m.h)}function _a(m,j){if(4>m)return m+1;var k=m-2>>1;return(2+(1&m)<<k)+M(j,k)+1}function fo(m,j){return 120<j?j-120:1<=(k=((k=Qq[j-1])>>4)*m+(8-(15&k)))?k:1;var k}function si(m,j,k){var A=I(k),V=m[j+=255&A].g-8;return 0<V&&(se(k,k.u+8),A=I(k),j+=m[j].value,j+=A&(1<<V)-1),se(k,k.u+m[j].g),m[j].value}function Vr(m,j,k){return k.g+=m.g,k.value+=m.value<<j>>>0,t(8>=k.g),m.g}function Rr(m,j,k){var A=m.xc;return t((j=A==0?0:m.vc[m.md*(k>>A)+(j>>A)])<m.Wb),m.Ya[j]}function _i(m,j,k,A){var V=m.ab,Y=m.c*j,K=m.C;j=K+j;var Q=k,X=A;for(A=m.Ta,k=m.Ua;0<V--;){var ee=m.gc[V],fe=K,Ne=j,Se=Q,ye=X,Re=(X=A,Q=k,ee.Ea);switch(t(fe<Ne),t(Ne<=ee.nc),ee.hc){case 2:vx(Se,ye,(Ne-fe)*Re,X,Q);break;case 0:var Ae=fe,me=Ne,ge=X,Le=Q,Fe=(nt=ee).Ea;Ae==0&&(k2(Se,ye,null,null,1,ge,Le),ie(Se,ye+1,0,0,Fe-1,ge,Le+1),ye+=Fe,Le+=Fe,++Ae);for(var Ie=1<<nt.b,lt=Ie-1,tt=ot(Fe,nt.b),jt=nt.K,nt=nt.w+(Ae>>nt.b)*tt;Ae<me;){var vn=jt,_n=nt,gn=1;for(Mp(Se,ye,ge,Le-Fe,1,ge,Le);gn<Fe;){var cn=(gn&~lt)+Ie;cn>Fe&&(cn=Fe),(0,Xl[vn[_n++]>>8&15])(Se,ye+ +gn,ge,Le+gn-Fe,cn-gn,ge,Le+gn),gn=cn}ye+=Fe,Le+=Fe,++Ae&lt||(nt+=tt)}Ne!=ee.nc&&r(X,Q-Re,X,Q+(Ne-fe-1)*Re,Re);break;case 1:for(Re=Se,me=ye,Fe=(Se=ee.Ea)-(Le=Se&~(ge=(ye=1<<ee.b)-1)),Ae=ot(Se,ee.b),Ie=ee.K,ee=ee.w+(fe>>ee.b)*Ae;fe<Ne;){for(lt=Ie,tt=ee,jt=new et,nt=me+Le,vn=me+Se;me<nt;)_e(lt[tt++],jt),Pu(jt,Re,me,ye,X,Q),me+=ye,Q+=ye;me<vn&&(_e(lt[tt++],jt),Pu(jt,Re,me,Fe,X,Q),me+=Fe,Q+=Fe),++fe&ge||(ee+=Ae)}break;case 3:if(Se==X&&ye==Q&&0<ee.b){for(me=X,Se=Re=Q+(Ne-fe)*Re-(Le=(Ne-fe)*ot(ee.Ea,ee.b)),ye=X,ge=Q,Ae=[],Le=(Fe=Le)-1;0<=Le;--Le)Ae[Le]=ye[ge+Le];for(Le=Fe-1;0<=Le;--Le)me[Se+Le]=Ae[Le];na(ee,fe,Ne,X,Re,X,Q)}else na(ee,fe,Ne,Se,ye,X,Q)}Q=A,X=k}X!=k&&r(A,k,Q,X,Y)}function qd(m,j){var k=m.V,A=m.Ba+m.c*m.C,V=j-m.C;if(t(j<=m.l.o),t(16>=V),0<V){var Y=m.l,K=m.Ta,Q=m.Ua,X=Y.width;if(_i(m,V,k,A),V=Q=[Q],t((k=m.C)<(A=j)),t(Y.v<Y.va),A>Y.o&&(A=Y.o),k<Y.j){var ee=Y.j-k;k=Y.j,V[0]+=ee*X}if(k>=A?k=0:(V[0]+=4*Y.v,Y.ka=k-Y.j,Y.U=Y.va-Y.v,Y.T=A-k,k=1),k){if(Q=Q[0],11>(k=m.ca).S){var fe=k.f.RGBA,Ne=(A=k.S,V=Y.U,Y=Y.T,ee=fe.eb,fe.A),Se=Y;for(fe=fe.fb+m.Ma*fe.A;0<Se--;){var ye=K,Re=Q,Ae=V,me=ee,ge=fe;switch(A){case kx:oi(ye,Re,Ae,me,ge);break;case _x:Vs(ye,Re,Ae,me,ge);break;case A2:Vs(ye,Re,Ae,me,ge),ia(me,ge,0,Ae,1,0);break;case i_:ol(ye,Re,Ae,me,ge);break;case Cx:Rt(ye,Re,Ae,me,ge,1);break;case P2:Rt(ye,Re,Ae,me,ge,1),ia(me,ge,0,Ae,1,0);break;case Ax:Rt(ye,Re,Ae,me,ge,0);break;case Px:Rt(ye,Re,Ae,me,ge,0),ia(me,ge,1,Ae,1,0);break;case C2:Jl(ye,Re,Ae,me,ge);break;case E2:Jl(ye,Re,Ae,me,ge),zn(me,ge,Ae,1,0);break;case a_:al(ye,Re,Ae,me,ge);break;default:t(0)}Q+=X,fe+=Ne}m.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=k.height)}}m.C=j,t(m.C<=m.i)}function rl(m){var j;if(0<m.ua)return 0;for(j=0;j<m.Wb;++j){var k=m.Ya[j].G,A=m.Ya[j].H;if(0<k[1][A[1]+0].g||0<k[2][A[2]+0].g||0<k[3][A[3]+0].g)return 0}return 1}function Ca(m,j,k,A,V,Y){if(m.Z!=0){var K=m.qd,Q=m.rd;for(t(nc[m.Z]!=null);j<k;++j)nc[m.Z](K,Q,A,V,A,V,Y),K=A,Q=V,V+=Y;m.qd=K,m.rd=Q}}function Aa(m,j){var k=m.l.ma,A=k.Z==0||k.Z==1?m.l.j:m.C;if(A=m.C<A?A:m.C,t(j<=m.l.o),j>A){var V=m.l.width,Y=k.ca,K=k.tb+V*A,Q=m.V,X=m.Ba+m.c*A,ee=m.gc;t(m.ab==1),t(ee[0].hc==3),bx(ee[0],A,j,Q,X,Y,K),Ca(k,A,j,Y,K,V)}m.C=m.Ma=j}function Pa(m,j,k,A,V,Y,K){var Q=m.$/A,X=m.$%A,ee=m.m,fe=m.s,Ne=k+m.$,Se=Ne;V=k+A*V;var ye=k+A*Y,Re=280+fe.ua,Ae=m.Pb?Q:16777216,me=0<fe.ua?fe.Wa:null,ge=fe.wc,Le=Ne<ye?Rr(fe,X,Q):null;t(m.C<Y),t(ye<=V);var Fe=!1;e:for(;;){for(;Fe||Ne<ye;){var Ie=0;if(Q>=Ae){var lt=Ne-k;t((Ae=m).Pb),Ae.wd=Ae.m,Ae.xd=lt,0<Ae.s.ua&&ke(Ae.s.Wa,Ae.s.vb),Ae=Q+Jq}if(X&ge||(Le=Rr(fe,X,Q)),t(Le!=null),Le.Qb&&(j[Ne]=Le.qb,Fe=!0),!Fe)if(re(ee),Le.jc){Ie=ee,lt=j;var tt=Ne,jt=Le.pd[I(Ie)&cs-1];t(Le.jc),256>jt.g?(se(Ie,Ie.u+jt.g),lt[tt]=jt.value,Ie=0):(se(Ie,Ie.u+jt.g-256),t(256<=jt.value),Ie=jt.value),Ie==0&&(Fe=!0)}else Ie=si(Le.G[0],Le.H[0],ee);if(ee.h)break;if(Fe||256>Ie){if(!Fe)if(Le.nd)j[Ne]=(Le.qb|Ie<<8)>>>0;else{if(re(ee),Fe=si(Le.G[1],Le.H[1],ee),re(ee),lt=si(Le.G[2],Le.H[2],ee),tt=si(Le.G[3],Le.H[3],ee),ee.h)break;j[Ne]=(tt<<24|Fe<<16|Ie<<8|lt)>>>0}if(Fe=!1,++Ne,++X>=A&&(X=0,++Q,K!=null&&Q<=Y&&!(Q%16)&&K(m,Q),me!=null))for(;Se<Ne;)Ie=j[Se++],me.X[(506832829*Ie&4294967295)>>>me.Mb]=Ie}else if(280>Ie){if(Ie=_a(Ie-256,ee),lt=si(Le.G[4],Le.H[4],ee),re(ee),lt=fo(A,lt=_a(lt,ee)),ee.h)break;if(Ne-k<lt||V-Ne<Ie)break e;for(tt=0;tt<Ie;++tt)j[Ne+tt]=j[Ne+tt-lt];for(Ne+=Ie,X+=Ie;X>=A;)X-=A,++Q,K!=null&&Q<=Y&&!(Q%16)&&K(m,Q);if(t(Ne<=V),X&ge&&(Le=Rr(fe,X,Q)),me!=null)for(;Se<Ne;)Ie=j[Se++],me.X[(506832829*Ie&4294967295)>>>me.Mb]=Ie}else{if(!(Ie<Re))break e;for(Fe=Ie-280,t(me!=null);Se<Ne;)Ie=j[Se++],me.X[(506832829*Ie&4294967295)>>>me.Mb]=Ie;Ie=Ne,t(!(Fe>>>(lt=me).Xa)),j[Ie]=lt.X[Fe],Fe=!0}Fe||t(ee.h==J(ee))}if(m.Pb&&ee.h&&Ne<V)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&ke(m.s.vb,m.s.Wa);else{if(ee.h)break e;K!=null&&K(m,Q>Y?Y:Q),m.a=0,m.$=Ne-k}return 1}return m.a=3,0}function po(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var j=m.Wa;j!=null&&(j.X=null),m.vb=null,t(m!=null)}function ta(){var m=new S2;return m==null?null:(m.a=0,m.xb=c_,be("Predictor","VP8LPredictors"),be("Predictor","VP8LPredictors_C"),be("PredictorAdd","VP8LPredictorsAdd"),be("PredictorAdd","VP8LPredictorsAdd_C"),vx=pe,Pu=Me,oi=ze,Vs=Mn,Jl=_t,al=Xn,ol=an,T.VP8LMapColor32b=uh,T.VP8LMapColor8b=wx,m)}function mo(m,j,k,A,V){var Y=1,K=[m],Q=[j],X=A.m,ee=A.s,fe=null,Ne=0;e:for(;;){if(k)for(;Y&&M(X,1);){var Se=K,ye=Q,Re=A,Ae=1,me=Re.m,ge=Re.gc[Re.ab],Le=M(me,2);if(Re.Oc&1<<Le)Y=0;else{switch(Re.Oc|=1<<Le,ge.hc=Le,ge.Ea=Se[0],ge.nc=ye[0],ge.K=[null],++Re.ab,t(4>=Re.ab),Le){case 0:case 1:ge.b=M(me,3)+2,Ae=mo(ot(ge.Ea,ge.b),ot(ge.nc,ge.b),0,Re,ge.K),ge.K=ge.K[0];break;case 3:var Fe,Ie=M(me,8)+1,lt=16<Ie?0:4<Ie?1:2<Ie?2:3;if(Se[0]=ot(ge.Ea,lt),ge.b=lt,Fe=Ae=mo(Ie,1,0,Re,ge.K)){var tt,jt=Ie,nt=ge,vn=1<<(8>>nt.b),_n=i(vn);if(_n==null)Fe=0;else{var gn=nt.K[0],cn=nt.w;for(_n[0]=nt.K[0][0],tt=1;tt<1*jt;++tt)_n[tt]=Oe(gn[cn+tt],_n[tt-1]);for(;tt<4*vn;++tt)_n[tt]=0;nt.K[0]=null,nt.K[0]=_n,Fe=1}}Ae=Fe;break;case 2:break;default:t(0)}Y=Ae}}if(K=K[0],Q=Q[0],Y&&M(X,1)&&!(Y=1<=(Ne=M(X,4))&&11>=Ne)){A.a=3;break e}var Dn;if(Dn=Y)t:{var Ln,Gt,Fr,li=A,zr=K,ci=Q,Cn=Ne,Pi=k,Ei=li.m,es=li.s,us=[null],Ws=1,la=0,vo=Xq[Cn];n:for(;;){if(Pi&&M(Ei,1)){var ts=M(Ei,3)+2,dl=ot(zr,ts),Iu=ot(ci,ts),mh=dl*Iu;if(!mo(dl,Iu,0,li,us))break n;for(us=us[0],es.xc=ts,Ln=0;Ln<mh;++Ln){var rc=us[Ln]>>8&65535;us[Ln]=rc,rc>=Ws&&(Ws=rc+1)}}if(Ei.h)break n;for(Gt=0;5>Gt;++Gt){var fr=o_[Gt];!Gt&&0<Cn&&(fr+=1<<Cn),la<fr&&(la=fr)}var I2=a(Ws*vo,P),y_=Ws,v_=a(y_,F);if(v_==null)var Lx=null;else t(65536>=y_),Lx=v_;var zp=i(la);if(Lx==null||zp==null||I2==null){li.a=1;break n}var Ix=I2;for(Ln=Fr=0;Ln<Ws;++Ln){var Ia=Lx[Ln],gh=Ia.G,xh=Ia.H,b_=0,Dx=1,w_=0;for(Gt=0;5>Gt;++Gt){fr=o_[Gt],gh[Gt]=Ix,xh[Gt]=Fr,!Gt&&0<Cn&&(fr+=1<<Cn);s:{var Rx,D2=fr,Ox=li,Bp=zp,yW=Ix,vW=Fr,R2=0,sc=Ox.m,bW=M(sc,1);if(s(Bp,0,0,D2),bW){var wW=M(sc,1)+1,jW=M(sc,1),j_=M(sc,jW==0?1:8);Bp[j_]=1,wW==2&&(Bp[j_=M(sc,8)]=1);var Fx=1}else{var N_=i(19),S_=M(sc,4)+4;if(19<S_){Ox.a=3;var zx=0;break s}for(Rx=0;Rx<S_;++Rx)N_[Kq[Rx]]=M(sc,3);var O2=void 0,$p=void 0,k_=Ox,NW=N_,Bx=D2,__=Bp,F2=0,ic=k_.m,C_=8,A_=a(128,P);r:for(;L(A_,0,7,NW,19);){if(M(ic,1)){var SW=2+2*M(ic,3);if((O2=2+M(ic,SW))>Bx)break r}else O2=Bx;for($p=0;$p<Bx&&O2--;){re(ic);var P_=A_[0+(127&I(ic))];se(ic,ic.u+P_.g);var yh=P_.value;if(16>yh)__[$p++]=yh,yh!=0&&(C_=yh);else{var kW=yh==16,E_=yh-16,_W=Yq[E_],T_=M(ic,Hq[E_])+_W;if($p+T_>Bx)break r;for(var CW=kW?C_:0;0<T_--;)__[$p++]=CW}}F2=1;break r}F2||(k_.a=3),Fx=F2}(Fx=Fx&&!sc.h)&&(R2=L(yW,vW,8,Bp,D2)),Fx&&R2!=0?zx=R2:(Ox.a=3,zx=0)}if(zx==0)break n;if(Dx&&Gq[Gt]==1&&(Dx=Ix[Fr].g==0),b_+=Ix[Fr].g,Fr+=zx,3>=Gt){var Up,z2=zp[0];for(Up=1;Up<fr;++Up)zp[Up]>z2&&(z2=zp[Up]);w_+=z2}}if(Ia.nd=Dx,Ia.Qb=0,Dx&&(Ia.qb=(gh[3][xh[3]+0].value<<24|gh[1][xh[1]+0].value<<16|gh[2][xh[2]+0].value)>>>0,b_==0&&256>gh[0][xh[0]+0].value&&(Ia.Qb=1,Ia.qb+=gh[0][xh[0]+0].value<<8)),Ia.jc=!Ia.Qb&&6>w_,Ia.jc){var $x,hl=Ia;for($x=0;$x<cs;++$x){var ac=$x,oc=hl.pd[ac],Ux=hl.G[0][hl.H[0]+ac];256<=Ux.value?(oc.g=Ux.g+256,oc.value=Ux.value):(oc.g=0,oc.value=0,ac>>=Vr(Ux,8,oc),ac>>=Vr(hl.G[1][hl.H[1]+ac],16,oc),ac>>=Vr(hl.G[2][hl.H[2]+ac],0,oc),Vr(hl.G[3][hl.H[3]+ac],24,oc))}}}es.vc=us,es.Wb=Ws,es.Ya=Lx,es.yc=I2,Dn=1;break t}Dn=0}if(!(Y=Dn)){A.a=3;break e}if(0<Ne){if(ee.ua=1<<Ne,!ct(ee.Wa,Ne)){A.a=1,Y=0;break e}}else ee.ua=0;var B2=A,M_=K,AW=Q,$2=B2.s,U2=$2.xc;if(B2.c=M_,B2.i=AW,$2.md=ot(M_,U2),$2.wc=U2==0?-1:(1<<U2)-1,k){A.xb=iW;break e}if((fe=i(K*Q))==null){A.a=1,Y=0;break e}Y=(Y=Pa(A,fe,0,K,Q,Q,null))&&!X.h;break e}return Y?(V!=null?V[0]=fe:(t(fe==null),t(k)),A.$=0,k||po(ee)):po(ee),Y}function Su(m,j){var k=m.c*m.i,A=k+j+16*j;return t(m.c<=j),m.V=i(A),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+k+j,1)}function Wd(m,j){var k=m.C,A=j-k,V=m.V,Y=m.Ba+m.c*k;for(t(j<=m.l.o);0<A;){var K=16<A?16:A,Q=m.l.ma,X=m.l.width,ee=X*K,fe=Q.ca,Ne=Q.tb+X*k,Se=m.Ta,ye=m.Ua;_i(m,K,V,Y),Sr(Se,ye,fe,Ne,ee),Ca(Q,k,k+K,fe,Ne,X),A-=K,V+=K*m.c,k+=K}t(k==j),m.C=m.Ma=j}function Hd(){this.ub=this.yd=this.td=this.Rb=0}function Yd(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gd(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Z0(){this.Yb=function(){var m=[];return function j(k,A,V){for(var Y=V[A],K=0;K<Y&&(k.push(V.length>A+1?[]:0),!(V.length<A+1));K++)j(k[K],A+1,V)}(m,0,[3,11]),m}()}function t2(){this.jb=i(3),this.Wc=l([4,8],Z0),this.Xc=l([4,17],Z0)}function n2(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Kd(){this.ld=this.La=this.dd=this.tc=0}function ex(){this.Na=this.la=0}function r2(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fp(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function s2(){this.uc=this.M=this.Nb=0,this.wa=Array(new Kd),this.Y=0,this.ya=Array(new fp),this.aa=0,this.l=new Qd}function tx(){this.y=i(16),this.f=i(8),this.ea=i(8)}function i2(){this.cb=this.a=0,this.sc="",this.m=new ae,this.Od=new Hd,this.Kc=new Yd,this.ed=new n2,this.Qa=new Gd,this.Ic=this.$c=this.Aa=0,this.D=new s2,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,ae),this.ia=0,this.pb=a(4,r2),this.Pa=new t2,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tx),this.Hd=0,this.rb=Array(new ex),this.sb=0,this.wa=Array(new Kd),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fp),this.L=this.aa=0,this.gd=l([4,2],Kd),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function a2(){var m=new i2;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Op||(Op=sx)),m}function jr(m,j,k){return m.a==0&&(m.a=j,m.sc=k,m.cb=0),0}function nx(m,j,k){return 3<=k&&m[j+0]==157&&m[j+1]==1&&m[j+2]==42}function rx(m,j){if(m==null)return 0;if(m.a=0,m.sc="OK",j==null)return jr(m,2,"null VP8Io passed to VP8GetHeaders()");var k=j.data,A=j.w,V=j.ha;if(4>V)return jr(m,7,"Truncated header.");var Y=k[A+0]|k[A+1]<<8|k[A+2]<<16,K=m.Od;if(K.Rb=!(1&Y),K.td=Y>>1&7,K.yd=Y>>4&1,K.ub=Y>>5,3<K.td)return jr(m,3,"Incorrect keyframe parameters.");if(!K.yd)return jr(m,4,"Frame not displayable.");A+=3,V-=3;var Q=m.Kc;if(K.Rb){if(7>V)return jr(m,7,"cannot parse picture header");if(!nx(k,A,V))return jr(m,3,"Bad code word");Q.c=16383&(k[A+4]<<8|k[A+3]),Q.Td=k[A+4]>>6,Q.i=16383&(k[A+6]<<8|k[A+5]),Q.Ud=k[A+6]>>6,A+=7,V-=7,m.za=Q.c+15>>4,m.Ub=Q.i+15>>4,j.width=Q.c,j.height=Q.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,s((Y=m.Pa).jb,0,255,Y.jb.length),t((Y=m.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,s(Y.Zb,0,0,Y.Zb.length),s(Y.Lb,0,0,Y.Lb)}if(K.ub>V)return jr(m,7,"bad partition length");U(Y=m.m,k,A,K.ub),A+=K.ub,V-=K.ub,K.Rb&&(Q.Ld=ce(Y),Q.Kd=ce(Y)),Q=m.Qa;var X,ee=m.Pa;if(t(Y!=null),t(Q!=null),Q.Cb=ce(Y),Q.Cb){if(Q.Bb=ce(Y),ce(Y)){for(Q.Fb=ce(Y),X=0;4>X;++X)Q.Zb[X]=ce(Y)?H(Y,7):0;for(X=0;4>X;++X)Q.Lb[X]=ce(Y)?H(Y,6):0}if(Q.Bb)for(X=0;3>X;++X)ee.jb[X]=ce(Y)?W(Y,8):255}else Q.Bb=0;if(Y.Ka)return jr(m,3,"cannot parse segment header");if((Q=m.ed).zd=ce(Y),Q.Tb=W(Y,6),Q.wb=W(Y,3),Q.Pc=ce(Y),Q.Pc&&ce(Y)){for(ee=0;4>ee;++ee)ce(Y)&&(Q.vd[ee]=H(Y,6));for(ee=0;4>ee;++ee)ce(Y)&&(Q.od[ee]=H(Y,6))}if(m.L=Q.Tb==0?0:Q.zd?1:2,Y.Ka)return jr(m,3,"cannot parse filter header");var fe=V;if(V=X=A,A=X+fe,Q=fe,m.Xb=(1<<W(m.m,2))-1,fe<3*(ee=m.Xb))k=7;else{for(X+=3*ee,Q-=3*ee,fe=0;fe<ee;++fe){var Ne=k[V+0]|k[V+1]<<8|k[V+2]<<16;Ne>Q&&(Ne=Q),U(m.Jc[+fe],k,X,Ne),X+=Ne,Q-=Ne,V+=3}U(m.Jc[+ee],k,X,Q),k=X<A?0:5}if(k!=0)return jr(m,k,"cannot parse partitions");for(k=W(X=m.m,7),V=ce(X)?H(X,4):0,A=ce(X)?H(X,4):0,Q=ce(X)?H(X,4):0,ee=ce(X)?H(X,4):0,X=ce(X)?H(X,4):0,fe=m.Qa,Ne=0;4>Ne;++Ne){if(fe.Cb){var Se=fe.Zb[Ne];fe.Fb||(Se+=k)}else{if(0<Ne){m.pb[Ne]=m.pb[0];continue}Se=k}var ye=m.pb[Ne];ye.Sc[0]=T2[Ci(Se+V,127)],ye.Sc[1]=M2[Ci(Se+0,127)],ye.Eb[0]=2*T2[Ci(Se+A,127)],ye.Eb[1]=101581*M2[Ci(Se+Q,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=T2[Ci(Se+ee,117)],ye.Qc[1]=M2[Ci(Se+X,127)],ye.lc=Se+X}if(!K.Rb)return jr(m,4,"Not a key frame.");for(ce(Y),K=m.Pa,k=0;4>k;++k){for(V=0;8>V;++V)for(A=0;3>A;++A)for(Q=0;11>Q;++Q)ee=xe(Y,rW[k][V][A][Q])?W(Y,8):tW[k][V][A][Q],K.Wc[k][V].Yb[A][Q]=ee;for(V=0;17>V;++V)K.Xc[k][V]=K.Wc[k][sW[V]]}return m.kc=ce(Y),m.kc&&(m.Bd=W(Y,8)),m.cb=1}function sx(m,j,k,A,V,Y,K){var Q=j[V].Yb[k];for(k=0;16>V;++V){if(!xe(m,Q[k+0]))return V;for(;!xe(m,Q[k+1]);)if(Q=j[++V].Yb[0],k=0,V==16)return 16;var X=j[V+1].Yb;if(xe(m,Q[k+2])){var ee=m,fe=0;if(xe(ee,(Se=Q)[(Ne=k)+3]))if(xe(ee,Se[Ne+6])){for(Q=0,Ne=2*(fe=xe(ee,Se[Ne+8]))+(Se=xe(ee,Se[Ne+9+fe])),fe=0,Se=Zq[Ne];Se[Q];++Q)fe+=fe+xe(ee,Se[Q]);fe+=3+(8<<Ne)}else xe(ee,Se[Ne+7])?(fe=7+2*xe(ee,165),fe+=xe(ee,145)):fe=5+xe(ee,159);else fe=xe(ee,Se[Ne+4])?3+xe(ee,Se[Ne+5]):2;Q=X[2]}else fe=1,Q=X[1];X=K+eW[V],0>(ee=m).b&&oe(ee);var Ne,Se=ee.b,ye=(Ne=ee.Ca>>1)-(ee.I>>Se)>>31;--ee.b,ee.Ca+=ye,ee.Ca|=1,ee.I-=(Ne+1&ye)<<Se,Y[X]=((fe^ye)-ye)*A[(0<V)+0]}return 16}function pp(m){var j=m.rb[m.sb-1];j.la=0,j.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function o2(m,j){if(m==null)return 0;if(j==null)return jr(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!rx(m,j))return 0;if(t(m.cb),j.ac==null||j.ac(j)){j.ob&&(m.L=0);var k=Mx[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=j.v-k>>4,m.zb=j.j-k>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=j.o+15+k>>4,m.Hb=j.va+15+k>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var A=m.ed;for(k=0;4>k;++k){var V;if(m.Qa.Cb){var Y=m.Qa.Lb[k];m.Qa.Fb||(Y+=A.Tb)}else Y=A.Tb;for(V=0;1>=V;++V){var K=m.gd[k][V],Q=Y;if(A.Pc&&(Q+=A.vd[0],V&&(Q+=A.od[0])),0<(Q=0>Q?0:63<Q?63:Q)){var X=Q;0<A.wb&&(X=4<A.wb?X>>2:X>>1)>9-A.wb&&(X=9-A.wb),1>X&&(X=1),K.dd=X,K.tc=2*Q+X,K.ld=40<=Q?2:15<=Q?1:0}else K.tc=0;K.La=V}}}k=0}else jr(m,6,"Frame setup failed"),k=m.a;if(k=k==0){if(k){m.$c=0,0<m.Aa||(m.Ic=xW);e:{k=m.Ic,A=4*(X=m.za);var ee=32*X,fe=X+1,Ne=0<m.L?X*(0<m.Aa?2:1):0,Se=(m.Aa==2?2:1)*X;if((K=A+832+(V=3*(16*k+Mx[m.L])/2*ee)+(Y=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=K)k=0;else{if(K>m.Vb){if(m.Vb=0,m.Ec=i(K),m.Fc=0,m.Ec==null){k=jr(m,1,"no memory during frame initialization.");break e}m.Vb=K}K=m.Ec,Q=m.Fc,m.Ac=K,m.Bc=Q,Q+=A,m.Gd=a(ee,tx),m.Hd=0,m.rb=a(fe+1,ex),m.sb=1,m.wa=Ne?a(Ne,Kd):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=X),t(!0),m.oc=K,m.pc=Q,Q+=832,m.ya=a(Se,fp),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=X),m.R=16*X,m.B=8*X,X=(ee=Mx[m.L])*m.R,ee=ee/2*m.B,m.sa=K,m.ta=Q+X,m.qa=m.sa,m.ra=m.ta+16*k*m.R+ee,m.Ha=m.qa,m.Ia=m.ra+8*k*m.B+ee,m.$c=0,Q+=V,m.mb=Y?K:null,m.nb=Y?Q:null,t(Q+Y<=m.Fc+m.Vb),pp(m),s(m.Ac,m.Bc,0,A),k=1}}if(k){if(j.ka=0,j.y=m.sa,j.O=m.ta,j.f=m.qa,j.N=m.ra,j.ea=m.Ha,j.Vd=m.Ia,j.fa=m.R,j.Rc=m.B,j.F=null,j.J=0,!Nx){for(k=-255;255>=k;++k)qr[255+k]=0>k?-k:k;for(k=-1020;1020>=k;++k)cl[1020+k]=-128>k?-128:127<k?127:k;for(k=-112;112>=k;++k)Rp[112+k]=-16>k?-16:15<k?15:k;for(k=-255;510>=k;++k)ph[255+k]=0>k?0:255<k?255:k;Nx=1}dh=u2,ll=l2,Lp=ax,qs=c2,ra=ox,Nr=ix,hh=bp,jx=Cu,Ip=N2,Eu=wp,Tu=j2,Zl=nh,Mu=jp,fh=gx,Lu=mx,ec=xo,Dp=il,sa=w2,La[0]=go,La[1]=d2,La[2]=m2,La[3]=g2,La[4]=ux,La[5]=eh,La[6]=dx,La[7]=xp,La[8]=y2,La[9]=x2,tc[0]=lx,tc[1]=f2,tc[2]=sl,tc[3]=Jd,tc[4]=bs,tc[5]=p2,tc[6]=cx,ul[0]=Gl,ul[1]=h2,ul[2]=v2,ul[3]=yp,ul[4]=_u,ul[5]=b2,ul[6]=vp,k=1}else k=0}k&&(k=function(ye,Re){for(ye.M=0;ye.M<ye.Va;++ye.M){var Ae,me=ye.Jc[ye.M&ye.Xb],ge=ye.m,Le=ye;for(Ae=0;Ae<Le.za;++Ae){var Fe=ge,Ie=Le,lt=Ie.Ac,tt=Ie.Bc+4*Ae,jt=Ie.zc,nt=Ie.ya[Ie.aa+Ae];if(Ie.Qa.Bb?nt.$b=xe(Fe,Ie.Pa.jb[0])?2+xe(Fe,Ie.Pa.jb[2]):xe(Fe,Ie.Pa.jb[1]):nt.$b=0,Ie.kc&&(nt.Ad=xe(Fe,Ie.Bd)),nt.Za=!xe(Fe,145)+0,nt.Za){var vn=nt.Ob,_n=0;for(Ie=0;4>Ie;++Ie){var gn,cn=jt[0+Ie];for(gn=0;4>gn;++gn){cn=nW[lt[tt+gn]][cn];for(var Dn=l_[xe(Fe,cn[0])];0<Dn;)Dn=l_[2*Dn+xe(Fe,cn[Dn])];cn=-Dn,lt[tt+gn]=cn}r(vn,_n,lt,tt,4),_n+=4,jt[0+Ie]=cn}}else cn=xe(Fe,156)?xe(Fe,128)?1:3:xe(Fe,163)?2:0,nt.Ob[0]=cn,s(lt,tt,cn,4),s(jt,0,cn,4);nt.Dd=xe(Fe,142)?xe(Fe,114)?xe(Fe,183)?1:3:2:0}if(Le.m.Ka)return jr(ye,7,"Premature end-of-partition0 encountered.");for(;ye.ja<ye.za;++ye.ja){if(Le=me,Fe=(ge=ye).rb[ge.sb-1],lt=ge.rb[ge.sb+ge.ja],Ae=ge.ya[ge.aa+ge.ja],tt=ge.kc?Ae.Ad:0)Fe.la=lt.la=0,Ae.Za||(Fe.Na=lt.Na=0),Ae.Hc=0,Ae.Gc=0,Ae.ia=0;else{var Ln,Gt;if(Fe=lt,lt=Le,tt=ge.Pa.Xc,jt=ge.ya[ge.aa+ge.ja],nt=ge.pb[jt.$b],Ie=jt.ad,vn=0,_n=ge.rb[ge.sb-1],cn=gn=0,s(Ie,vn,0,384),jt.Za)var Fr=0,li=tt[3];else{Dn=i(16);var zr=Fe.Na+_n.Na;if(zr=Op(lt,tt[1],zr,nt.Eb,0,Dn,0),Fe.Na=_n.Na=(0<zr)+0,1<zr)dh(Dn,0,Ie,vn);else{var ci=Dn[0]+3>>3;for(Dn=0;256>Dn;Dn+=16)Ie[vn+Dn]=ci}Fr=1,li=tt[0]}var Cn=15&Fe.la,Pi=15&_n.la;for(Dn=0;4>Dn;++Dn){var Ei=1&Pi;for(ci=Gt=0;4>ci;++ci)Cn=Cn>>1|(Ei=(zr=Op(lt,li,zr=Ei+(1&Cn),nt.Sc,Fr,Ie,vn))>Fr)<<7,Gt=Gt<<2|(3<zr?3:1<zr?2:Ie[vn+0]!=0),vn+=16;Cn>>=4,Pi=Pi>>1|Ei<<7,gn=(gn<<8|Gt)>>>0}for(li=Cn,Fr=Pi>>4,Ln=0;4>Ln;Ln+=2){for(Gt=0,Cn=Fe.la>>4+Ln,Pi=_n.la>>4+Ln,Dn=0;2>Dn;++Dn){for(Ei=1&Pi,ci=0;2>ci;++ci)zr=Ei+(1&Cn),Cn=Cn>>1|(Ei=0<(zr=Op(lt,tt[2],zr,nt.Qc,0,Ie,vn)))<<3,Gt=Gt<<2|(3<zr?3:1<zr?2:Ie[vn+0]!=0),vn+=16;Cn>>=2,Pi=Pi>>1|Ei<<5}cn|=Gt<<4*Ln,li|=Cn<<4<<Ln,Fr|=(240&Pi)<<Ln}Fe.la=li,_n.la=Fr,jt.Hc=gn,jt.Gc=cn,jt.ia=43690&cn?0:nt.ia,tt=!(gn|cn)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Ae.$b][Ae.Za],ge.wa[ge.Y+ge.ja].La|=!tt),Le.Ka)return jr(ye,7,"Premature end-of-file encountered.")}if(pp(ye),ge=Re,Le=1,Ae=(me=ye).D,Fe=0<me.L&&me.M>=me.zb&&me.M<=me.Va,me.Aa==0)e:{if(Ae.M=me.M,Ae.uc=Fe,Ap(me,Ae),Le=1,Ae=(Gt=me.D).Nb,Fe=(cn=Mx[me.L])*me.R,lt=cn/2*me.B,Dn=16*Ae*me.R,ci=8*Ae*me.B,tt=me.sa,jt=me.ta-Fe+Dn,nt=me.qa,Ie=me.ra-lt+ci,vn=me.Ha,_n=me.Ia-lt+ci,Pi=(Cn=Gt.M)==0,gn=Cn>=me.Va-1,me.Aa==2&&Ap(me,Gt),Gt.uc)for(Ei=(zr=me).D.M,t(zr.D.uc),Gt=zr.yb;Gt<zr.Hb;++Gt){Fr=Gt,li=Ei;var es=(us=(fr=zr).D).Nb;Ln=fr.R;var us=us.wa[us.Y+Fr],Ws=fr.sa,la=fr.ta+16*es*Ln+16*Fr,vo=us.dd,ts=us.tc;if(ts!=0)if(t(3<=ts),fr.L==1)0<Fr&&ec(Ws,la,Ln,ts+4),us.La&&sa(Ws,la,Ln,ts),0<li&&Lu(Ws,la,Ln,ts+4),us.La&&Dp(Ws,la,Ln,ts);else{var dl=fr.B,Iu=fr.qa,mh=fr.ra+8*es*dl+8*Fr,rc=fr.Ha,fr=fr.Ia+8*es*dl+8*Fr;es=us.ld,0<Fr&&(jx(Ws,la,Ln,ts+4,vo,es),Eu(Iu,mh,rc,fr,dl,ts+4,vo,es)),us.La&&(Zl(Ws,la,Ln,ts,vo,es),fh(Iu,mh,rc,fr,dl,ts,vo,es)),0<li&&(hh(Ws,la,Ln,ts+4,vo,es),Ip(Iu,mh,rc,fr,dl,ts+4,vo,es)),us.La&&(Tu(Ws,la,Ln,ts,vo,es),Mu(Iu,mh,rc,fr,dl,ts,vo,es))}}if(me.ia&&alert("todo:DitherRow"),ge.put!=null){if(Gt=16*Cn,Cn=16*(Cn+1),Pi?(ge.y=me.sa,ge.O=me.ta+Dn,ge.f=me.qa,ge.N=me.ra+ci,ge.ea=me.Ha,ge.W=me.Ia+ci):(Gt-=cn,ge.y=tt,ge.O=jt,ge.f=nt,ge.N=Ie,ge.ea=vn,ge.W=_n),gn||(Cn-=cn),Cn>ge.o&&(Cn=ge.o),ge.F=null,ge.J=null,me.Fa!=null&&0<me.Fa.length&&Gt<Cn&&(ge.J=_p(me,ge,Gt,Cn-Gt),ge.F=me.mb,ge.F==null&&ge.F.length==0)){Le=jr(me,3,"Could not decode alpha data.");break e}Gt<ge.j&&(cn=ge.j-Gt,Gt=ge.j,t(!(1&cn)),ge.O+=me.R*cn,ge.N+=me.B*(cn>>1),ge.W+=me.B*(cn>>1),ge.F!=null&&(ge.J+=ge.width*cn)),Gt<Cn&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Gt-ge.j,ge.U=ge.va-ge.v,ge.T=Cn-Gt,Le=ge.put(ge))}Ae+1!=me.Ic||gn||(r(me.sa,me.ta-Fe,tt,jt+16*me.R,Fe),r(me.qa,me.ra-lt,nt,Ie+8*me.B,lt),r(me.Ha,me.Ia-lt,vn,_n+8*me.B,lt))}if(!Le)return jr(ye,6,"Output aborted.")}return 1}(m,j)),j.bc!=null&&j.bc(j),k&=1}return k?(m.cb=0,k):0}function Ea(m,j,k,A,V){V=m[j+k+32*A]+(V>>3),m[j+k+32*A]=-256&V?0>V?0:255:V}function Xd(m,j,k,A,V,Y){Ea(m,j,0,k,A+V),Ea(m,j,1,k,A+Y),Ea(m,j,2,k,A-Y),Ea(m,j,3,k,A-V)}function ii(m){return(20091*m>>16)+m}function mp(m,j,k,A){var V,Y=0,K=i(16);for(V=0;4>V;++V){var Q=m[j+0]+m[j+8],X=m[j+0]-m[j+8],ee=(35468*m[j+4]>>16)-ii(m[j+12]),fe=ii(m[j+4])+(35468*m[j+12]>>16);K[Y+0]=Q+fe,K[Y+1]=X+ee,K[Y+2]=X-ee,K[Y+3]=Q-fe,Y+=4,j++}for(V=Y=0;4>V;++V)Q=(m=K[Y+0]+4)+K[Y+8],X=m-K[Y+8],ee=(35468*K[Y+4]>>16)-ii(K[Y+12]),Ea(k,A,0,0,Q+(fe=ii(K[Y+4])+(35468*K[Y+12]>>16))),Ea(k,A,1,0,X+ee),Ea(k,A,2,0,X-ee),Ea(k,A,3,0,Q-fe),Y++,A+=32}function ix(m,j,k,A){var V=m[j+0]+4,Y=35468*m[j+4]>>16,K=ii(m[j+4]),Q=35468*m[j+1]>>16;Xd(k,A,0,V+K,m=ii(m[j+1]),Q),Xd(k,A,1,V+Y,m,Q),Xd(k,A,2,V-Y,m,Q),Xd(k,A,3,V-K,m,Q)}function l2(m,j,k,A,V){mp(m,j,k,A),V&&mp(m,j+16,k,A+4)}function ax(m,j,k,A){ll(m,j+0,k,A,1),ll(m,j+32,k,A+128,1)}function c2(m,j,k,A){var V;for(m=m[j+0]+4,V=0;4>V;++V)for(j=0;4>j;++j)Ea(k,A,j,V,m)}function ox(m,j,k,A){m[j+0]&&qs(m,j+0,k,A),m[j+16]&&qs(m,j+16,k,A+4),m[j+32]&&qs(m,j+32,k,A+128),m[j+48]&&qs(m,j+48,k,A+128+4)}function u2(m,j,k,A){var V,Y=i(16);for(V=0;4>V;++V){var K=m[j+0+V]+m[j+12+V],Q=m[j+4+V]+m[j+8+V],X=m[j+4+V]-m[j+8+V],ee=m[j+0+V]-m[j+12+V];Y[0+V]=K+Q,Y[8+V]=K-Q,Y[4+V]=ee+X,Y[12+V]=ee-X}for(V=0;4>V;++V)K=(m=Y[0+4*V]+3)+Y[3+4*V],Q=Y[1+4*V]+Y[2+4*V],X=Y[1+4*V]-Y[2+4*V],ee=m-Y[3+4*V],k[A+0]=K+Q>>3,k[A+16]=ee+X>>3,k[A+32]=K-Q>>3,k[A+48]=ee-X>>3,A+=64}function gp(m,j,k){var A,V=j-32,Y=Ai,K=255-m[V-1];for(A=0;A<k;++A){var Q,X=Y,ee=K+m[j-1];for(Q=0;Q<k;++Q)m[j+Q]=X[ee+m[V+Q]];j+=32}}function d2(m,j){gp(m,j,4)}function h2(m,j){gp(m,j,8)}function f2(m,j){gp(m,j,16)}function sl(m,j){var k;for(k=0;16>k;++k)r(m,j+32*k,m,j-32,16)}function Jd(m,j){var k;for(k=16;0<k;--k)s(m,j,m[j-1],16),j+=32}function Zd(m,j,k){var A;for(A=0;16>A;++A)s(j,k+32*A,m,16)}function lx(m,j){var k,A=16;for(k=0;16>k;++k)A+=m[j-1+32*k]+m[j+k-32];Zd(A>>5,m,j)}function bs(m,j){var k,A=8;for(k=0;16>k;++k)A+=m[j-1+32*k];Zd(A>>4,m,j)}function p2(m,j){var k,A=8;for(k=0;16>k;++k)A+=m[j+k-32];Zd(A>>4,m,j)}function cx(m,j){Zd(128,m,j)}function Lt(m,j,k){return m+2*j+k+2>>2}function m2(m,j){var k,A=j-32;for(A=new Uint8Array([Lt(m[A-1],m[A+0],m[A+1]),Lt(m[A+0],m[A+1],m[A+2]),Lt(m[A+1],m[A+2],m[A+3]),Lt(m[A+2],m[A+3],m[A+4])]),k=0;4>k;++k)r(m,j+32*k,A,0,A.length)}function g2(m,j){var k=m[j-1],A=m[j-1+32],V=m[j-1+64],Y=m[j-1+96];Pe(m,j+0,16843009*Lt(m[j-1-32],k,A)),Pe(m,j+32,16843009*Lt(k,A,V)),Pe(m,j+64,16843009*Lt(A,V,Y)),Pe(m,j+96,16843009*Lt(V,Y,Y))}function go(m,j){var k,A=4;for(k=0;4>k;++k)A+=m[j+k-32]+m[j-1+32*k];for(A>>=3,k=0;4>k;++k)s(m,j+32*k,A,4)}function ux(m,j){var k=m[j-1+0],A=m[j-1+32],V=m[j-1+64],Y=m[j-1-32],K=m[j+0-32],Q=m[j+1-32],X=m[j+2-32],ee=m[j+3-32];m[j+0+96]=Lt(A,V,m[j-1+96]),m[j+1+96]=m[j+0+64]=Lt(k,A,V),m[j+2+96]=m[j+1+64]=m[j+0+32]=Lt(Y,k,A),m[j+3+96]=m[j+2+64]=m[j+1+32]=m[j+0+0]=Lt(K,Y,k),m[j+3+64]=m[j+2+32]=m[j+1+0]=Lt(Q,K,Y),m[j+3+32]=m[j+2+0]=Lt(X,Q,K),m[j+3+0]=Lt(ee,X,Q)}function dx(m,j){var k=m[j+1-32],A=m[j+2-32],V=m[j+3-32],Y=m[j+4-32],K=m[j+5-32],Q=m[j+6-32],X=m[j+7-32];m[j+0+0]=Lt(m[j+0-32],k,A),m[j+1+0]=m[j+0+32]=Lt(k,A,V),m[j+2+0]=m[j+1+32]=m[j+0+64]=Lt(A,V,Y),m[j+3+0]=m[j+2+32]=m[j+1+64]=m[j+0+96]=Lt(V,Y,K),m[j+3+32]=m[j+2+64]=m[j+1+96]=Lt(Y,K,Q),m[j+3+64]=m[j+2+96]=Lt(K,Q,X),m[j+3+96]=Lt(Q,X,X)}function eh(m,j){var k=m[j-1+0],A=m[j-1+32],V=m[j-1+64],Y=m[j-1-32],K=m[j+0-32],Q=m[j+1-32],X=m[j+2-32],ee=m[j+3-32];m[j+0+0]=m[j+1+64]=Y+K+1>>1,m[j+1+0]=m[j+2+64]=K+Q+1>>1,m[j+2+0]=m[j+3+64]=Q+X+1>>1,m[j+3+0]=X+ee+1>>1,m[j+0+96]=Lt(V,A,k),m[j+0+64]=Lt(A,k,Y),m[j+0+32]=m[j+1+96]=Lt(k,Y,K),m[j+1+32]=m[j+2+96]=Lt(Y,K,Q),m[j+2+32]=m[j+3+96]=Lt(K,Q,X),m[j+3+32]=Lt(Q,X,ee)}function xp(m,j){var k=m[j+0-32],A=m[j+1-32],V=m[j+2-32],Y=m[j+3-32],K=m[j+4-32],Q=m[j+5-32],X=m[j+6-32],ee=m[j+7-32];m[j+0+0]=k+A+1>>1,m[j+1+0]=m[j+0+64]=A+V+1>>1,m[j+2+0]=m[j+1+64]=V+Y+1>>1,m[j+3+0]=m[j+2+64]=Y+K+1>>1,m[j+0+32]=Lt(k,A,V),m[j+1+32]=m[j+0+96]=Lt(A,V,Y),m[j+2+32]=m[j+1+96]=Lt(V,Y,K),m[j+3+32]=m[j+2+96]=Lt(Y,K,Q),m[j+3+64]=Lt(K,Q,X),m[j+3+96]=Lt(Q,X,ee)}function x2(m,j){var k=m[j-1+0],A=m[j-1+32],V=m[j-1+64],Y=m[j-1+96];m[j+0+0]=k+A+1>>1,m[j+2+0]=m[j+0+32]=A+V+1>>1,m[j+2+32]=m[j+0+64]=V+Y+1>>1,m[j+1+0]=Lt(k,A,V),m[j+3+0]=m[j+1+32]=Lt(A,V,Y),m[j+3+32]=m[j+1+64]=Lt(V,Y,Y),m[j+3+64]=m[j+2+64]=m[j+0+96]=m[j+1+96]=m[j+2+96]=m[j+3+96]=Y}function y2(m,j){var k=m[j-1+0],A=m[j-1+32],V=m[j-1+64],Y=m[j-1+96],K=m[j-1-32],Q=m[j+0-32],X=m[j+1-32],ee=m[j+2-32];m[j+0+0]=m[j+2+32]=k+K+1>>1,m[j+0+32]=m[j+2+64]=A+k+1>>1,m[j+0+64]=m[j+2+96]=V+A+1>>1,m[j+0+96]=Y+V+1>>1,m[j+3+0]=Lt(Q,X,ee),m[j+2+0]=Lt(K,Q,X),m[j+1+0]=m[j+3+32]=Lt(k,K,Q),m[j+1+32]=m[j+3+64]=Lt(A,k,K),m[j+1+64]=m[j+3+96]=Lt(V,A,k),m[j+1+96]=Lt(Y,V,A)}function v2(m,j){var k;for(k=0;8>k;++k)r(m,j+32*k,m,j-32,8)}function yp(m,j){var k;for(k=0;8>k;++k)s(m,j,m[j-1],8),j+=32}function ku(m,j,k){var A;for(A=0;8>A;++A)s(j,k+32*A,m,8)}function Gl(m,j){var k,A=8;for(k=0;8>k;++k)A+=m[j+k-32]+m[j-1+32*k];ku(A>>4,m,j)}function b2(m,j){var k,A=4;for(k=0;8>k;++k)A+=m[j+k-32];ku(A>>3,m,j)}function _u(m,j){var k,A=4;for(k=0;8>k;++k)A+=m[j-1+32*k];ku(A>>3,m,j)}function vp(m,j){ku(128,m,j)}function th(m,j,k){var A=m[j-k],V=m[j+0],Y=3*(V-A)+_2[1020+m[j-2*k]-m[j+k]],K=Sx[112+(Y+4>>3)];m[j-k]=Ai[255+A+Sx[112+(Y+3>>3)]],m[j+0]=Ai[255+V-K]}function hx(m,j,k,A){var V=m[j+0],Y=m[j+k];return aa[255+m[j-2*k]-m[j-k]]>A||aa[255+Y-V]>A}function fx(m,j,k,A){return 4*aa[255+m[j-k]-m[j+0]]+aa[255+m[j-2*k]-m[j+k]]<=A}function px(m,j,k,A,V){var Y=m[j-3*k],K=m[j-2*k],Q=m[j-k],X=m[j+0],ee=m[j+k],fe=m[j+2*k],Ne=m[j+3*k];return 4*aa[255+Q-X]+aa[255+K-ee]>A?0:aa[255+m[j-4*k]-Y]<=V&&aa[255+Y-K]<=V&&aa[255+K-Q]<=V&&aa[255+Ne-fe]<=V&&aa[255+fe-ee]<=V&&aa[255+ee-X]<=V}function mx(m,j,k,A){var V=2*A+1;for(A=0;16>A;++A)fx(m,j+A,k,V)&&th(m,j+A,k)}function xo(m,j,k,A){var V=2*A+1;for(A=0;16>A;++A)fx(m,j+A*k,1,V)&&th(m,j+A*k,1)}function il(m,j,k,A){var V;for(V=3;0<V;--V)mx(m,j+=4*k,k,A)}function w2(m,j,k,A){var V;for(V=3;0<V;--V)xo(m,j+=4,k,A)}function Kl(m,j,k,A,V,Y,K,Q){for(Y=2*Y+1;0<V--;){if(px(m,j,k,Y,K))if(hx(m,j,k,Q))th(m,j,k);else{var X=m,ee=j,fe=k,Ne=X[ee-2*fe],Se=X[ee-fe],ye=X[ee+0],Re=X[ee+fe],Ae=X[ee+2*fe],me=27*(Le=_2[1020+3*(ye-Se)+_2[1020+Ne-Re]])+63>>7,ge=18*Le+63>>7,Le=9*Le+63>>7;X[ee-3*fe]=Ai[255+X[ee-3*fe]+Le],X[ee-2*fe]=Ai[255+Ne+ge],X[ee-fe]=Ai[255+Se+me],X[ee+0]=Ai[255+ye-me],X[ee+fe]=Ai[255+Re-ge],X[ee+2*fe]=Ai[255+Ae-Le]}j+=A}}function Ta(m,j,k,A,V,Y,K,Q){for(Y=2*Y+1;0<V--;){if(px(m,j,k,Y,K))if(hx(m,j,k,Q))th(m,j,k);else{var X=m,ee=j,fe=k,Ne=X[ee-fe],Se=X[ee+0],ye=X[ee+fe],Re=Sx[112+((Ae=3*(Se-Ne))+4>>3)],Ae=Sx[112+(Ae+3>>3)],me=Re+1>>1;X[ee-2*fe]=Ai[255+X[ee-2*fe]+me],X[ee-fe]=Ai[255+Ne+Ae],X[ee+0]=Ai[255+Se-Re],X[ee+fe]=Ai[255+ye-me]}j+=A}}function bp(m,j,k,A,V,Y){Kl(m,j,k,1,16,A,V,Y)}function Cu(m,j,k,A,V,Y){Kl(m,j,1,k,16,A,V,Y)}function j2(m,j,k,A,V,Y){var K;for(K=3;0<K;--K)Ta(m,j+=4*k,k,1,16,A,V,Y)}function nh(m,j,k,A,V,Y){var K;for(K=3;0<K;--K)Ta(m,j+=4,1,k,16,A,V,Y)}function N2(m,j,k,A,V,Y,K,Q){Kl(m,j,V,1,8,Y,K,Q),Kl(k,A,V,1,8,Y,K,Q)}function wp(m,j,k,A,V,Y,K,Q){Kl(m,j,1,V,8,Y,K,Q),Kl(k,A,1,V,8,Y,K,Q)}function jp(m,j,k,A,V,Y,K,Q){Ta(m,j+4*V,V,1,8,Y,K,Q),Ta(k,A+4*V,V,1,8,Y,K,Q)}function gx(m,j,k,A,V,Y,K,Q){Ta(m,j+4,1,V,8,Y,K,Q),Ta(k,A+4,1,V,8,Y,K,Q)}function rh(){this.ba=new Dr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Np(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Sp(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xx(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new P}function S2(){this.xb=this.a=0,this.l=new Qd,this.ca=new Dr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xx,this.ab=0,this.gc=a(4,Sp),this.Oc=0}function sh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Au(m,j,k,A,V,Y,K){for(m=m==null?0:m[j+0],j=0;j<K;++j)V[Y+j]=m+k[A+j]&255,m=V[Y+j]}function kp(m,j,k,A,V,Y,K){var Q;if(m==null)Au(null,null,k,A,V,Y,K);else for(Q=0;Q<K;++Q)V[Y+Q]=m[j+Q]+k[A+Q]&255}function Ql(m,j,k,A,V,Y,K){if(m==null)Au(null,null,k,A,V,Y,K);else{var Q,X=m[j+0],ee=X,fe=X;for(Q=0;Q<K;++Q)ee=fe+(X=m[j+Q])-ee,fe=k[A+Q]+(-256&ee?0>ee?0:255:ee)&255,ee=X,V[Y+Q]=fe}}function _p(m,j,k,A){var V=j.width,Y=j.o;if(t(m!=null&&j!=null),0>k||0>=A||k+A>Y)return null;if(!m.Cc){if(m.ga==null){var K;if(m.ga=new sh,(K=m.ga==null)||(K=j.width*j.o,t(m.Gb.length==0),m.Gb=i(K),m.Uc=0,m.Gb==null?K=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,K=1),K=!K),!K){K=m.ga;var Q=m.Fa,X=m.P,ee=m.qc,fe=m.mb,Ne=m.nb,Se=X+1,ye=ee-1,Re=K.l;if(t(Q!=null&&fe!=null&&j!=null),nc[0]=null,nc[1]=Au,nc[2]=kp,nc[3]=Ql,K.ca=fe,K.tb=Ne,K.c=j.width,K.i=j.height,t(0<K.c&&0<K.i),1>=ee)j=0;else if(K.$a=Q[X+0]>>0&3,K.Z=Q[X+0]>>2&3,K.Lc=Q[X+0]>>4&3,X=Q[X+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||X)j=0;else if(Re.put=uo,Re.ac=ls,Re.bc=ho,Re.ma=K,Re.width=j.width,Re.height=j.height,Re.Da=j.Da,Re.v=j.v,Re.va=j.va,Re.j=j.j,Re.o=j.o,K.$a)e:{t(K.$a==1),j=ta();t:for(;;){if(j==null){j=0;break e}if(t(K!=null),K.mc=j,j.c=K.c,j.i=K.i,j.l=K.l,j.l.ma=K,j.l.width=K.c,j.l.height=K.i,j.a=0,R(j.m,Q,Se,ye),!mo(K.c,K.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&rl(j.s)?(K.ic=1,Q=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(Q),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(K.ic=0,j=Su(j,K.c)),!j))break t;j=1;break e}K.mc=null,j=0}else j=ye>=K.c*K.i;K=!j}if(K)return null;m.ga.Lc!=1?m.Ga=0:A=Y-k}t(m.ga!=null),t(k+A<=Y);e:{if(j=(Q=m.ga).c,Y=Q.l.o,Q.$a==0){if(Se=m.rc,ye=m.Vc,Re=m.Fa,X=m.P+1+k*j,ee=m.mb,fe=m.nb+k*j,t(X<=m.P+m.qc),Q.Z!=0)for(t(nc[Q.Z]!=null),K=0;K<A;++K)nc[Q.Z](Se,ye,Re,X,ee,fe,j),Se=ee,ye=fe,fe+=j,X+=j;else for(K=0;K<A;++K)r(ee,fe,Re,X,j),Se=ee,ye=fe,fe+=j,X+=j;m.rc=Se,m.Vc=ye}else{if(t(Q.mc!=null),j=k+A,t((K=Q.mc)!=null),t(j<=K.i),K.C>=j)j=1;else if(Q.ic||je(),Q.ic){Q=K.V,Se=K.Ba,ye=K.c;var Ae=K.i,me=(Re=1,X=K.$/ye,ee=K.$%ye,fe=K.m,Ne=K.s,K.$),ge=ye*Ae,Le=ye*j,Fe=Ne.wc,Ie=me<Le?Rr(Ne,ee,X):null;t(me<=ge),t(j<=Ae),t(rl(Ne));t:for(;;){for(;!fe.h&&me<Le;){if(ee&Fe||(Ie=Rr(Ne,ee,X)),t(Ie!=null),re(fe),256>(Ae=si(Ie.G[0],Ie.H[0],fe)))Q[Se+me]=Ae,++me,++ee>=ye&&(ee=0,++X<=j&&!(X%16)&&Aa(K,X));else{if(!(280>Ae)){Re=0;break t}Ae=_a(Ae-256,fe);var lt,tt=si(Ie.G[4],Ie.H[4],fe);if(re(fe),!(me>=(tt=fo(ye,tt=_a(tt,fe)))&&ge-me>=Ae)){Re=0;break t}for(lt=0;lt<Ae;++lt)Q[Se+me+lt]=Q[Se+me+lt-tt];for(me+=Ae,ee+=Ae;ee>=ye;)ee-=ye,++X<=j&&!(X%16)&&Aa(K,X);me<Le&&ee&Fe&&(Ie=Rr(Ne,ee,X))}t(fe.h==J(fe))}Aa(K,X>j?j:X);break t}!Re||fe.h&&me<ge?(Re=0,K.a=fe.h?5:3):K.$=me,j=Re}else j=Pa(K,K.V,K.Ba,K.c,K.i,j,Wd);if(!j){A=0;break e}}k+A>=Y&&(m.Cc=1),A=1}if(!A)return null;if(m.Cc&&((A=m.ga)!=null&&(A.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+k*V}function S(m,j,k,A,V,Y){for(;0<V--;){var K,Q=m,X=j+(k?1:0),ee=m,fe=j+(k?0:3);for(K=0;K<A;++K){var Ne=ee[fe+4*K];Ne!=255&&(Ne*=32897,Q[X+4*K+0]=Q[X+4*K+0]*Ne>>23,Q[X+4*K+1]=Q[X+4*K+1]*Ne>>23,Q[X+4*K+2]=Q[X+4*K+2]*Ne>>23)}j+=Y}}function q(m,j,k,A,V){for(;0<A--;){var Y;for(Y=0;Y<k;++Y){var K=m[j+2*Y+0],Q=15&(ee=m[j+2*Y+1]),X=4369*Q,ee=(240&ee|ee>>4)*X>>16;m[j+2*Y+0]=(240&K|K>>4)*X>>16&240|(15&K|K<<4)*X>>16>>4&15,m[j+2*Y+1]=240&ee|Q}j+=V}}function te(m,j,k,A,V,Y,K,Q){var X,ee,fe=255;for(ee=0;ee<V;++ee){for(X=0;X<A;++X){var Ne=m[j+X];Y[K+4*X]=Ne,fe&=Ne}j+=k,K+=Q}return fe!=255}function ue(m,j,k,A,V){var Y;for(Y=0;Y<V;++Y)k[A+Y]=m[j+Y]>>8}function je(){ia=S,zn=q,Bn=te,Sr=ue}function Ee(m,j,k){T[m]=function(A,V,Y,K,Q,X,ee,fe,Ne,Se,ye,Re,Ae,me,ge,Le,Fe){var Ie,lt=Fe-1>>1,tt=Q[X+0]|ee[fe+0]<<16,jt=Ne[Se+0]|ye[Re+0]<<16;t(A!=null);var nt=3*tt+jt+131074>>2;for(j(A[V+0],255&nt,nt>>16,Ae,me),Y!=null&&(nt=3*jt+tt+131074>>2,j(Y[K+0],255&nt,nt>>16,ge,Le)),Ie=1;Ie<=lt;++Ie){var vn=Q[X+Ie]|ee[fe+Ie]<<16,_n=Ne[Se+Ie]|ye[Re+Ie]<<16,gn=tt+vn+jt+_n+524296,cn=gn+2*(vn+jt)>>3;nt=cn+tt>>1,tt=(gn=gn+2*(tt+_n)>>3)+vn>>1,j(A[V+2*Ie-1],255&nt,nt>>16,Ae,me+(2*Ie-1)*k),j(A[V+2*Ie-0],255&tt,tt>>16,Ae,me+(2*Ie-0)*k),Y!=null&&(nt=gn+jt>>1,tt=cn+_n>>1,j(Y[K+2*Ie-1],255&nt,nt>>16,ge,Le+(2*Ie-1)*k),j(Y[K+2*Ie+0],255&tt,tt>>16,ge,Le+(2*Ie+0)*k)),tt=vn,jt=_n}1&Fe||(nt=3*tt+jt+131074>>2,j(A[V+Fe-1],255&nt,nt>>16,Ae,me+(Fe-1)*k),Y!=null&&(nt=3*jt+tt+131074>>2,j(Y[K+Fe-1],255&nt,nt>>16,ge,Le+(Fe-1)*k)))}}function $e(){oa[kx]=aW,oa[_x]=u_,oa[i_]=oW,oa[Cx]=d_,oa[Ax]=h_,oa[C2]=f_,oa[a_]=lW,oa[A2]=u_,oa[P2]=d_,oa[Px]=h_,oa[E2]=f_}function at(m){return m&~cW?0>m?0:255:m>>p_}function vt(m,j){return at((19077*m>>8)+(26149*j>>8)-14234)}function qt(m,j,k){return at((19077*m>>8)-(6419*j>>8)-(13320*k>>8)+8708)}function Ft(m,j){return at((19077*m>>8)+(33050*j>>8)-17685)}function hn(m,j,k,A,V){A[V+0]=vt(m,k),A[V+1]=qt(m,j,k),A[V+2]=Ft(m,j)}function Jn(m,j,k,A,V){A[V+0]=Ft(m,j),A[V+1]=qt(m,j,k),A[V+2]=vt(m,k)}function hr(m,j,k,A,V){var Y=qt(m,j,k);j=Y<<3&224|Ft(m,j)>>3,A[V+0]=248&vt(m,k)|Y>>5,A[V+1]=j}function Or(m,j,k,A,V){var Y=240&Ft(m,j)|15;A[V+0]=240&vt(m,k)|qt(m,j,k)>>4,A[V+1]=Y}function ws(m,j,k,A,V){A[V+0]=255,hn(m,j,k,A,V+1)}function Zr(m,j,k,A,V){Jn(m,j,k,A,V),A[V+3]=255}function Ma(m,j,k,A,V){hn(m,j,k,A,V),A[V+3]=255}function Ci(m,j){return 0>m?0:m>j?j:m}function yo(m,j,k){T[m]=function(A,V,Y,K,Q,X,ee,fe,Ne){for(var Se=fe+(-2&Ne)*k;fe!=Se;)j(A[V+0],Y[K+0],Q[X+0],ee,fe),j(A[V+1],Y[K+0],Q[X+0],ee,fe+k),V+=2,++K,++X,fe+=2*k;1&Ne&&j(A[V+0],Y[K+0],Q[X+0],ee,fe)}}function yx(m,j,k){return k==0?m==0?j==0?6:5:j==0?4:0:k}function Cp(m,j,k,A,V){switch(m>>>30){case 3:ll(j,k,A,V,0);break;case 2:Nr(j,k,A,V);break;case 1:qs(j,k,A,V)}}function Ap(m,j){var k,A,V=j.M,Y=j.Nb,K=m.oc,Q=m.pc+40,X=m.oc,ee=m.pc+584,fe=m.oc,Ne=m.pc+600;for(k=0;16>k;++k)K[Q+32*k-1]=129;for(k=0;8>k;++k)X[ee+32*k-1]=129,fe[Ne+32*k-1]=129;for(0<V?K[Q-1-32]=X[ee-1-32]=fe[Ne-1-32]=129:(s(K,Q-32-1,127,21),s(X,ee-32-1,127,9),s(fe,Ne-32-1,127,9)),A=0;A<m.za;++A){var Se=j.ya[j.aa+A];if(0<A){for(k=-1;16>k;++k)r(K,Q+32*k-4,K,Q+32*k+12,4);for(k=-1;8>k;++k)r(X,ee+32*k-4,X,ee+32*k+4,4),r(fe,Ne+32*k-4,fe,Ne+32*k+4,4)}var ye=m.Gd,Re=m.Hd+A,Ae=Se.ad,me=Se.Hc;if(0<V&&(r(K,Q-32,ye[Re].y,0,16),r(X,ee-32,ye[Re].f,0,8),r(fe,Ne-32,ye[Re].ea,0,8)),Se.Za){var ge=K,Le=Q-32+16;for(0<V&&(A>=m.za-1?s(ge,Le,ye[Re].y[15],4):r(ge,Le,ye[Re+1].y,0,4)),k=0;4>k;k++)ge[Le+128+k]=ge[Le+256+k]=ge[Le+384+k]=ge[Le+0+k];for(k=0;16>k;++k,me<<=2)ge=K,Le=Q+g_[k],La[Se.Ob[k]](ge,Le),Cp(me,Ae,16*+k,ge,Le)}else if(ge=yx(A,V,Se.Ob[0]),tc[ge](K,Q),me!=0)for(k=0;16>k;++k,me<<=2)Cp(me,Ae,16*+k,K,Q+g_[k]);for(k=Se.Gc,ge=yx(A,V,Se.Dd),ul[ge](X,ee),ul[ge](fe,Ne),me=Ae,ge=X,Le=ee,255&(Se=k>>0)&&(170&Se?Lp(me,256,ge,Le):ra(me,256,ge,Le)),Se=fe,me=Ne,255&(k>>=8)&&(170&k?Lp(Ae,320,Se,me):ra(Ae,320,Se,me)),V<m.Ub-1&&(r(ye[Re].y,0,K,Q+480,16),r(ye[Re].f,0,X,ee+224,8),r(ye[Re].ea,0,fe,Ne+224,8)),k=8*Y*m.B,ye=m.sa,Re=m.ta+16*A+16*Y*m.R,Ae=m.qa,Se=m.ra+8*A+k,me=m.Ha,ge=m.Ia+8*A+k,k=0;16>k;++k)r(ye,Re+k*m.R,K,Q+32*k,16);for(k=0;8>k;++k)r(Ae,Se+k*m.B,X,ee+32*k,8),r(me,ge+k*m.B,fe,Ne+32*k,8)}}function ih(m,j,k,A,V,Y,K,Q,X){var ee=[0],fe=[0],Ne=0,Se=X!=null?X.kd:0,ye=X??new Np;if(m==null||12>k)return 7;ye.data=m,ye.w=j,ye.ha=k,j=[j],k=[k],ye.gb=[ye.gb];e:{var Re=j,Ae=k,me=ye.gb;if(t(m!=null),t(Ae!=null),t(me!=null),me[0]=0,12<=Ae[0]&&!n(m,Re[0],"RIFF")){if(n(m,Re[0]+8,"WEBP")){me=3;break e}var ge=Ue(m,Re[0]+4);if(12>ge||4294967286<ge){me=3;break e}if(Se&&ge>Ae[0]-8){me=7;break e}me[0]=ge,Re[0]+=12,Ae[0]-=12}me=0}if(me!=0)return me;for(ge=0<ye.gb[0],k=k[0];;){e:{var Le=m;Ae=j,me=k;var Fe=ee,Ie=fe,lt=Re=[0];if((nt=Ne=[Ne])[0]=0,8>me[0])me=7;else{if(!n(Le,Ae[0],"VP8X")){if(Ue(Le,Ae[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var tt=Ue(Le,Ae[0]+8),jt=1+De(Le,Ae[0]+12);if(2147483648<=jt*(Le=1+De(Le,Ae[0]+15))){me=3;break e}lt!=null&&(lt[0]=tt),Fe!=null&&(Fe[0]=jt),Ie!=null&&(Ie[0]=Le),Ae[0]+=18,me[0]-=18,nt[0]=1}me=0}}if(Ne=Ne[0],Re=Re[0],me!=0)return me;if(Ae=!!(2&Re),!ge&&Ne)return 3;if(Y!=null&&(Y[0]=!!(16&Re)),K!=null&&(K[0]=Ae),Q!=null&&(Q[0]=0),K=ee[0],Re=fe[0],Ne&&Ae&&X==null){me=0;break}if(4>k){me=7;break}if(ge&&Ne||!ge&&!Ne&&!n(m,j[0],"ALPH")){k=[k],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{tt=m,me=j,ge=k;var nt=ye.gb;Fe=ye.na,Ie=ye.P,lt=ye.Sa,jt=22,t(tt!=null),t(ge!=null),Le=me[0];var vn=ge[0];for(t(Fe!=null),t(lt!=null),Fe[0]=null,Ie[0]=null,lt[0]=0;;){if(me[0]=Le,ge[0]=vn,8>vn){me=7;break e}var _n=Ue(tt,Le+4);if(4294967286<_n){me=3;break e}var gn=8+_n+1&-2;if(jt+=gn,0<nt&&jt>nt){me=3;break e}if(!n(tt,Le,"VP8 ")||!n(tt,Le,"VP8L")){me=0;break e}if(vn[0]<gn){me=7;break e}n(tt,Le,"ALPH")||(Fe[0]=tt,Ie[0]=Le+8,lt[0]=_n),Le+=gn,vn-=gn}}if(k=k[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],me!=0)break}k=[k],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(nt=m,me=j,ge=k,Fe=ye.gb[0],Ie=ye.Ja,lt=ye.xa,tt=me[0],Le=!n(nt,tt,"VP8 "),jt=!n(nt,tt,"VP8L"),t(nt!=null),t(ge!=null),t(Ie!=null),t(lt!=null),8>ge[0])me=7;else{if(Le||jt){if(nt=Ue(nt,tt+4),12<=Fe&&nt>Fe-12){me=3;break e}if(Se&&nt>ge[0]-8){me=7;break e}Ie[0]=nt,me[0]+=8,ge[0]-=8,lt[0]=jt}else lt[0]=5<=ge[0]&&nt[tt+0]==47&&!(nt[tt+4]>>5),Ie[0]=ge[0];me=0}if(k=k[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],j=j[0],me!=0)break;if(4294967286<ye.Ja)return 3;if(Q==null||Ae||(Q[0]=ye.xa?2:1),K=[K],Re=[Re],ye.xa){if(5>k){me=7;break}Q=K,Se=Re,Ae=Y,m==null||5>k?m=0:5<=k&&m[j+0]==47&&!(m[j+4]>>5)?(ge=[0],nt=[0],Fe=[0],R(Ie=new z,m,j,k),Ct(Ie,ge,nt,Fe)?(Q!=null&&(Q[0]=ge[0]),Se!=null&&(Se[0]=nt[0]),Ae!=null&&(Ae[0]=Fe[0]),m=1):m=0):m=0}else{if(10>k){me=7;break}Q=Re,m==null||10>k||!nx(m,j+3,k-3)?m=0:(Se=m[j+0]|m[j+1]<<8|m[j+2]<<16,Ae=16383&(m[j+7]<<8|m[j+6]),m=16383&(m[j+9]<<8|m[j+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=ye.Ja||!Ae||!m?m=0:(K&&(K[0]=Ae),Q&&(Q[0]=m),m=1))}if(!m||(K=K[0],Re=Re[0],Ne&&(ee[0]!=K||fe[0]!=Re)))return 3;X!=null&&(X[0]=ye,X.offset=j-X.w,t(4294967286>j-X.w),t(X.offset==X.ha-k));break}return me==0||me==7&&Ne&&X==null?(Y!=null&&(Y[0]|=ye.na!=null&&0<ye.na.length),A!=null&&(A[0]=K),V!=null&&(V[0]=Re),0):me}function Pp(m,j,k){var A=j.width,V=j.height,Y=0,K=0,Q=A,X=V;if(j.Da=m!=null&&0<m.Da,j.Da&&(Q=m.cd,X=m.bd,Y=m.v,K=m.j,11>k||(Y&=-2,K&=-2),0>Y||0>K||0>=Q||0>=X||Y+Q>A||K+X>V))return 0;if(j.v=Y,j.j=K,j.va=Y+Q,j.o=K+X,j.U=Q,j.T=X,j.da=m!=null&&0<m.da,j.da){if(!gt(Q,X,k=[m.ib],Y=[m.hb]))return 0;j.ib=k[0],j.hb=Y[0]}return j.ob=m!=null&&m.ob,j.Kb=m==null||!m.Sd,j.da&&(j.ob=j.ib<3*A/4&&j.hb<3*V/4,j.Kb=0),1}function Ep(m){if(m==null)return 2;if(11>m.S){var j=m.f.RGBA;j.fb+=(m.height-1)*j.A,j.A=-j.A}else j=m.f.kb,m=m.height,j.O+=(m-1)*j.fa,j.fa=-j.fa,j.N+=(m-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(m-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(m-1)*j.lb,j.lb=-j.lb);return 0}function ah(m,j,k,A){if(A==null||0>=m||0>=j)return 2;if(k!=null){if(k.Da){var V=k.cd,Y=k.bd,K=-2&k.v,Q=-2&k.j;if(0>K||0>Q||0>=V||0>=Y||K+V>m||Q+Y>j)return 2;m=V,j=Y}if(k.da){if(!gt(m,j,V=[k.ib],Y=[k.hb]))return 2;m=V[0],j=Y[0]}}A.width=m,A.height=j;e:{var X=A.width,ee=A.height;if(m=A.S,0>=X||0>=ee||!(m>=kx&&13>m))m=2;else{if(0>=A.Rd&&A.sd==null){K=Y=V=j=0;var fe=(Q=X*x_[m])*ee;if(11>m||(Y=(ee+1)/2*(j=(X+1)/2),m==12&&(K=(V=X)*ee)),(ee=i(fe+2*Y+K))==null){m=1;break e}A.sd=ee,11>m?((X=A.f.RGBA).eb=ee,X.fb=0,X.A=Q,X.size=fe):((X=A.f.kb).y=ee,X.O=0,X.fa=Q,X.Fd=fe,X.f=ee,X.N=0+fe,X.Ab=j,X.Cd=Y,X.ea=ee,X.W=0+fe+Y,X.Db=j,X.Ed=Y,m==12&&(X.F=ee,X.J=0+fe+2*Y),X.Tc=K,X.lb=V)}if(j=1,V=A.S,Y=A.width,K=A.height,V>=kx&&13>V)if(11>V)m=A.f.RGBA,j&=(Q=Math.abs(m.A))*(K-1)+Y<=m.size,j&=Q>=Y*x_[V],j&=m.eb!=null;else{m=A.f.kb,Q=(Y+1)/2,fe=(K+1)/2,X=Math.abs(m.fa),ee=Math.abs(m.Ab);var Ne=Math.abs(m.Db),Se=Math.abs(m.lb),ye=Se*(K-1)+Y;j&=X*(K-1)+Y<=m.Fd,j&=ee*(fe-1)+Q<=m.Cd,j=(j&=Ne*(fe-1)+Q<=m.Ed)&X>=Y&ee>=Q&Ne>=Q,j&=m.y!=null,j&=m.f!=null,j&=m.ea!=null,V==12&&(j&=Se>=Y,j&=ye<=m.Tc,j&=m.F!=null)}else j=0;m=j?0:2}}return m!=0||k!=null&&k.fd&&(m=Ep(A)),m}var cs=64,oh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],lh=24,ch=32,Tp=8,ai=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(m){return m},T.Predictor2=function(m,j,k){return j[k+0]},T.Predictor3=function(m,j,k){return j[k+1]},T.Predictor4=function(m,j,k){return j[k-1]},T.Predictor5=function(m,j,k){return Z(Z(m,j[k+1]),j[k+0])},T.Predictor6=function(m,j,k){return Z(m,j[k-1])},T.Predictor7=function(m,j,k){return Z(m,j[k+0])},T.Predictor8=function(m,j,k){return Z(j[k-1],j[k+0])},T.Predictor9=function(m,j,k){return Z(j[k+0],j[k+1])},T.Predictor10=function(m,j,k){return Z(Z(m,j[k-1]),Z(j[k+0],j[k+1]))},T.Predictor11=function(m,j,k){var A=j[k+0];return 0>=Te(A>>24&255,m>>24&255,(j=j[k-1])>>24&255)+Te(A>>16&255,m>>16&255,j>>16&255)+Te(A>>8&255,m>>8&255,j>>8&255)+Te(255&A,255&m,255&j)?A:m},T.Predictor12=function(m,j,k){var A=j[k+0];return(de((m>>24&255)+(A>>24&255)-((j=j[k-1])>>24&255))<<24|de((m>>16&255)+(A>>16&255)-(j>>16&255))<<16|de((m>>8&255)+(A>>8&255)-(j>>8&255))<<8|de((255&m)+(255&A)-(255&j)))>>>0},T.Predictor13=function(m,j,k){var A=j[k-1];return(we((m=Z(m,j[k+0]))>>24&255,A>>24&255)<<24|we(m>>16&255,A>>16&255)<<16|we(m>>8&255,A>>8&255)<<8|we(m>>0&255,A>>0&255))>>>0};var k2=T.PredictorAdd0;T.PredictorAdd1=ie,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var Mp=T.PredictorAdd2;Ke("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var vx,na=T.ColorIndexInverseTransform,uh=T.MapARGB,bx=T.VP8LColorIndexInverseTransformAlpha,wx=T.MapAlpha,Xl=T.VP8LPredictorsAdd=[];Xl.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Pu,oi,Vs,Jl,al,ol,dh,ll,Nr,Lp,qs,ra,hh,jx,Ip,Eu,Tu,Zl,Mu,fh,Lu,ec,Dp,sa,ia,zn,Bn,Sr,qr=i(511),cl=i(2041),Rp=i(225),ph=i(767),Nx=0,_2=cl,Sx=Rp,Ai=ph,aa=qr,kx=0,_x=1,i_=2,Cx=3,Ax=4,C2=5,a_=6,A2=7,P2=8,Px=9,E2=10,Hq=[2,3,7],Yq=[3,3,11],o_=[280,256,256,256,40],Gq=[0,1,1,1,0],Kq=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qq=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Xq=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jq=8,T2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],M2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Op=null,Zq=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],eW=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],l_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tW=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nW=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rW=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],sW=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],tc=[],La=[],ul=[],iW=1,c_=2,nc=[],oa=[];Ee("UpsampleRgbLinePair",hn,3),Ee("UpsampleBgrLinePair",Jn,3),Ee("UpsampleRgbaLinePair",Ma,4),Ee("UpsampleBgraLinePair",Zr,4),Ee("UpsampleArgbLinePair",ws,4),Ee("UpsampleRgba4444LinePair",Or,2),Ee("UpsampleRgb565LinePair",hr,2);var aW=T.UpsampleRgbLinePair,oW=T.UpsampleBgrLinePair,u_=T.UpsampleRgbaLinePair,d_=T.UpsampleBgraLinePair,h_=T.UpsampleArgbLinePair,f_=T.UpsampleRgba4444LinePair,lW=T.UpsampleRgb565LinePair,Ex=16,Tx=1<<Ex-1,Fp=-227,L2=482,p_=6,cW=(256<<p_)-1,m_=0,uW=i(256),dW=i(256),hW=i(256),fW=i(256),pW=i(L2-Fp),mW=i(L2-Fp);yo("YuvToRgbRow",hn,3),yo("YuvToBgrRow",Jn,3),yo("YuvToRgbaRow",Ma,4),yo("YuvToBgraRow",Zr,4),yo("YuvToArgbRow",ws,4),yo("YuvToRgba4444Row",Or,2),yo("YuvToRgb565Row",hr,2);var g_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Mx=[0,2,8],gW=[8,7,6,4,4,2,2,2,1,1,1,1],xW=1;this.WebPDecodeRGBA=function(m,j,k,A,V){var Y=_x,K=new rh,Q=new Dr;K.ba=Q,Q.S=Y,Q.width=[Q.width],Q.height=[Q.height];var X=Q.width,ee=Q.height,fe=new nl;if(fe==null||m==null)var Ne=2;else t(fe!=null),Ne=ih(m,j,k,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Ne!=0?X=0:(X!=null&&(X[0]=fe.width[0]),ee!=null&&(ee[0]=fe.height[0]),X=1),X){Q.width=Q.width[0],Q.height=Q.height[0],A!=null&&(A[0]=Q.width),V!=null&&(V[0]=Q.height);e:{if(A=new Qd,(V=new Np).data=m,V.w=j,V.ha=k,V.kd=1,j=[0],t(V!=null),((m=ih(V.data,V.w,V.ha,null,null,null,j,null,V))==0||m==7)&&j[0]&&(m=4),(j=m)==0){if(t(K!=null),A.data=V.data,A.w=V.w+V.offset,A.ha=V.ha-V.offset,A.put=uo,A.ac=ls,A.bc=ho,A.ma=K,V.xa){if((m=ta())==null){K=1;break e}if(function(Se,ye){var Re=[0],Ae=[0],me=[0];t:for(;;){if(Se==null)return 0;if(ye==null)return Se.a=2,0;if(Se.l=ye,Se.a=0,R(Se.m,ye.data,ye.w,ye.ha),!Ct(Se.m,Re,Ae,me)){Se.a=3;break t}if(Se.xb=c_,ye.width=Re[0],ye.height=Ae[0],!mo(Re[0],Ae[0],1,Se,null))break t;return 1}return t(Se.a!=0),0}(m,A)){if(A=(j=ah(A.width,A.height,K.Oa,K.ba))==0){t:{A=m;n:for(;;){if(A==null){A=0;break t}if(t(A.s.yc!=null),t(A.s.Ya!=null),t(0<A.s.Wb),t((k=A.l)!=null),t((V=k.ma)!=null),A.xb!=0){if(A.ca=V.ba,A.tb=V.tb,t(A.ca!=null),!Pp(V.Oa,k,Cx)){A.a=2;break n}if(!Su(A,k.width)||k.da)break n;if((k.da||Ze(A.ca.S))&&je(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&je()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!ct(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!Pa(A,A.V,A.Ba,A.c,A.i,k.o,qd))break n;V.Dc=A.Ma,A=1;break t}t(A.a!=0),A=0}A=!A}A&&(j=m.a)}else j=m.a}else{if((m=new a2)==null){K=1;break e}if(m.Fa=V.na,m.P=V.P,m.qc=V.Sa,rx(m,A)){if((j=ah(A.width,A.height,K.Oa,K.ba))==0){if(m.Aa=0,k=K.Oa,t((V=m)!=null),k!=null){if(0<(X=0>(X=k.Md)?0:100<X?255:255*X/100)){for(ee=fe=0;4>ee;++ee)12>(Ne=V.pb[ee]).lc&&(Ne.ia=X*gW[0>Ne.lc?0:Ne.lc]>>3),fe|=Ne.ia;fe&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=k.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}o2(m,A)||(j=m.a)}}else j=m.a}j==0&&K.Oa!=null&&K.Oa.fd&&(j=Ep(K.ba))}K=j}Y=K!=0?null:11>Y?Q.f.RGBA.eb:Q.f.kb.y}else Y=null;return Y};var x_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,$){for(var B="",L=0;L<4;L++)B+=String.fromCharCode(T[$++]);return B}function d(T,$){return(T[$+0]<<0|T[$+1]<<8|T[$+2]<<16)>>>0}function h(T,$){return(T[$+0]<<0|T[$+1]<<8|T[$+2]<<16|T[$+3]<<24)>>>0}new c;var f=[0],p=[0],g=[],x=new c,b=e,v=function(T,$){var B={},L=0,P=!1,D=0,F=0;if(B.frames=[],!function(I,J,se,re){for(var oe=0;oe<re;oe++)if(I[J+oe]!=se.charCodeAt(oe))return!0;return!1}(T,$,"RIFF",4)){for(h(T,$+=4),$+=8;$<T.length;){var U=u(T,$),W=h(T,$+=4);$+=4;var H=W+(1&W);switch(U){case"VP8 ":case"VP8L":B.frames[L]===void 0&&(B.frames[L]={}),(M=B.frames[L]).src_off=P?F:$-8,M.src_size=D+W+8,L++,P&&(P=!1,D=0,F=0);break;case"VP8X":(M=B.header={}).feature_flags=T[$];var R=$+4;M.canvas_width=1+d(T,R),R+=3,M.canvas_height=1+d(T,R),R+=3;break;case"ALPH":P=!0,D=H+8,F=$-8;break;case"ANIM":(M=B.header).bgcolor=h(T,$),R=$+4,M.loop_count=(ae=T)[(z=R)+0]<<0|ae[z+1]<<8,R+=2;break;case"ANMF":var G,M;(M=B.frames[L]={}).offset_x=2*d(T,$),$+=3,M.offset_y=2*d(T,$),$+=3,M.width=1+d(T,$),$+=3,M.height=1+d(T,$),$+=3,M.duration=d(T,$),$+=3,G=T[$++],M.dispose=1&G,M.blend=G>>1&1}U!="ANMF"&&($+=H)}var ae,z;return B}}(b,0);v.response=b,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,w=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],p=[y.canvas_width];for(var _=0;_<w.length&&w[_].blend!=0;_++);}var C=w[0],E=x.WebPDecodeRGBA(b,C.src_off,C.src_size,p,f);C.rgba=E,C.imgwidth=p[0],C.imgheight=f[0];for(var O=0;O<p[0]*f[0]*4;O++)g[O]=E[O];return this.width=p,this.height=f,this.data=g,this}(function(e){var t=function(){return typeof KN=="function"},n=function(f,p,g,x){var b=4,v=a;switch(x){case e.image_compression.FAST:b=1,v=i;break;case e.image_compression.MEDIUM:b=6,v=l;break;case e.image_compression.SLOW:b=9,v=c}f=r(f,p,g,v);var y=KN(f,{level:b});return e.__addimage__.arrayBufferToBinaryString(y)},r=function(f,p,g,x){for(var b,v,y,w=f.length/p,_=new Uint8Array(f.length+w),C=d(),E=0;E<w;E+=1){if(y=E*p,b=f.subarray(y,y+p),x)_.set(x(b,g,v),y+E);else{for(var O,T=C.length,$=[];O<T;O+=1)$[O]=C[O](b,g,v);var B=h($.concat());_.set($[B],y+E)}v=b}return _},s=function(f){var p=Array.apply([],f);return p.unshift(0),p},i=function(f,p){var g,x=[],b=f.length;x[0]=1;for(var v=0;v<b;v+=1)g=f[v-p]||0,x[v+1]=f[v]-g+256&255;return x},a=function(f,p,g){var x,b=[],v=f.length;b[0]=2;for(var y=0;y<v;y+=1)x=g&&g[y]||0,b[y+1]=f[y]-x+256&255;return b},l=function(f,p,g){var x,b,v=[],y=f.length;v[0]=3;for(var w=0;w<y;w+=1)x=f[w-p]||0,b=g&&g[w]||0,v[w+1]=f[w]+256-(x+b>>>1)&255;return v},c=function(f,p,g){var x,b,v,y,w=[],_=f.length;w[0]=4;for(var C=0;C<_;C+=1)x=f[C-p]||0,b=g&&g[C]||0,v=g&&g[C-p]||0,y=u(x,b,v),w[C+1]=f[C]-y+256&255;return w},u=function(f,p,g){if(f===p&&p===g)return f;var x=Math.abs(p-g),b=Math.abs(f-g),v=Math.abs(f+p-g-g);return x<=b&&x<=v?f:b<=v?p:g},d=function(){return[s,i,a,l,c]},h=function(f){var p=f.map(function(g){return g.reduce(function(x,b){return x+Math.abs(b)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(f,p,g,x){var b,v,y,w,_,C,E,O,T,$,B,L,P,D,F,U=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(y=new mbe(f)).imgData,v=y.bits,b=y.colorSpace,_=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){T=(O=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,B=new Uint8Array(T*y.colors),$=new Uint8Array(T);var H,R=y.pixelBitlength-y.bits;for(D=0,F=0;D<T;D++){for(P=O[D],H=0;H<R;)B[F++]=P>>>H&255,H+=y.bits;$[D]=P>>>H&255}}if(y.bits===16){T=(O=new Uint32Array(y.decodePixels().buffer)).length,B=new Uint8Array(T*(32/y.pixelBitlength)*y.colors),$=new Uint8Array(T*(32/y.pixelBitlength)),L=y.colors>1,D=0,F=0;for(var G=0;D<T;)P=O[D++],B[F++]=P>>>0&255,L&&(B[F++]=P>>>16&255,P=O[D++],B[F++]=P>>>0&255),$[G++]=P>>>16&255;v=8}x!==e.image_compression.NONE&&t()?(f=n(B,y.width*y.colors,y.colors,x),E=n($,y.width,1,x)):(f=B,E=$,U=void 0)}if(y.colorType===3&&(b=this.color_spaces.INDEXED,C=y.palette,y.transparency.indexed)){var M=y.transparency.indexed,ae=0;for(D=0,T=M.length;D<T;++D)ae+=M[D];if((ae/=255)===T-1&&M.indexOf(0)!==-1)w=[M.indexOf(0)];else if(ae!==T){for(O=y.decodePixels(),$=new Uint8Array(O.length),D=0,T=O.length;D<T;D++)$[D]=M[O[D]];E=n($,y.width,1)}}var z=function(I){var J;switch(I){case e.image_compression.FAST:J=11;break;case e.image_compression.MEDIUM:J=13;break;case e.image_compression.SLOW:J=14;break;default:J=12}return J}(x);return U===this.decode.FLATE_DECODE&&(W="/Predictor "+z+" "),W+="/Colors "+_+" /BitsPerComponent "+v+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(E&&this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),{alias:g,data:f,index:p,filter:U,decodeParameters:W,transparency:w,palette:C,sMask:E,predictor:z,width:y.width,height:y.height,bitsPerComponent:v,colorSpace:b}}}})(wt.API),function(e){e.processGIF89A=function(t,n,r,s){var i=new gbe(t),a=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:l},d=new T5(100).encode(u,100);return e.processJPEG.call(this,d,n,r,s)},e.processGIF87A=e.processGIF89A}(wt.API),Oa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Oa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Rn.log("bit decode error:"+n)}},Oa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Oa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Oa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Oa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=r*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=u}this.pos+=e}},Oa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&n)/n*255|0,u=(a>>11)/t*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Oa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Oa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=r,this.data[l+3]=a}},Oa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var i=new Oa(t,!1),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new T5(100).encode(c,100);return e.processJPEG.call(this,u,n,r,s)}}(wt.API),aE.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var i=new aE(t),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new T5(100).encode(c,100);return e.processJPEG.call(this,u,n,r,s)}}(wt.API),wt.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=r[u],h=r[u+1],f=r[u+2],p=r[u+3];i[l++]=d,i[l++]=h,i[l++]=f,a[c++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},wt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ph=wt.API,zy=Ph.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,f=0,p=e.length,g=0,x=l[0]||c,b=[];for(n=0;n<p;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?b.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(f=h&&En(u[r])==="object"&&!isNaN(parseInt(u[r][g],10))?u[r][g]/d:0,b.push((l[r]||x)/c+f)),g=r;return b},nE=Ph.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Ph.processArabic&&(e=Ph.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:zy.apply(this,arguments).reduce(function(i,a){return i+a},0)},rE=function(e,t,n,r){for(var s=[],i=0,a=e.length,l=0;i!==a&&l+t[i]<n;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==a;)l+t[i]>r&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},sE=function(e,t,n){n||(n={});var r,s,i,a,l,c,u,d=[],h=[d],f=n.textIndent||0,p=0,g=0,x=e.split(" "),b=zy.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var v=Array(c).join(" "),y=[];x.map(function(_){(_=_.split(/\s*\n/)).length>1?y=y.concat(_.map(function(C,E){return(E&&C.length?`
`:"")+C})):y.push(_[0])}),x=y,c=nE.apply(this,[v,n])}for(i=0,a=x.length;i<a;i++){var w=0;if(r=x[i],c&&r[0]==`
`&&(r=r.substr(1),w=1),f+p+(g=(s=zy.apply(this,[r,n])).reduce(function(_,C){return _+C},0))>t||w){if(g>t){for(l=rE.apply(this,[r,s,t-(f+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);g=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(_,C){return _+C},0)}else d=[r];h.push(d),f=g+c,p=b}else d.push(r),f+=p+g,p=b}return u=c?function(_,C){return(C?v:"")+_.join(" ")}:function(_){return _.join(" ")},h.map(u)},Ph.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=r.length;l<c;l++)u=u.concat(sE.apply(this,[r[l],a,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var i=function(h){return"0x"+parseInt(h,10).toString(16)},a=e.__fontmetrics__.compress=function(h){var f,p,g,x,b=["{"];for(var v in h){if(f=h[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=i(v).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof f=="number")f<0?(g=i(f).slice(3),x="-"):(g=i(f).slice(2),x=""),g=x+g.slice(0,-1)+r[g.slice(-1)];else{if(En(f)!=="object")throw new Error("Don't know what to do with value type "+En(f)+".");g=a(f)}b.push(p+g)}return b.push("}"),b.join("")},l=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,g,x,b={},v=1,y=b,w=[],_="",C="",E=h.length-1,O=1;O<E;O+=1)(x=h[O])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(w.push([y,g]),y={},g=void 0):x=="}"?((p=w.pop())[0][p[1]]=y,g=void 0,y=p[0]):x=="-"?v=-1:g===void 0?n.hasOwnProperty(x)?(_+=n[x],g=parseInt(_,16)*v,v=1,_=""):_+=x:n.hasOwnProperty(x)?(C+=n[x],y[g]=parseInt(C,16)*v,v=1,g=void 0,C=""):C+=x;return b},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var f=h.font,p=d.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(wt.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(eg(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,r)}}])}(wt),function(e){function t(){return(At.canvg?Promise.resolve(At.canvg):Tg(()=>import("./index.es-25yyIoK7.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}wt.API.addSvgAsImage=function(n,r,s,i,a,l,c,u){if(isNaN(r)||isNaN(s))throw Rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=a;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(h,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),r,s,i,a,c,u)})}}(),wt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},wt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],u=0,d=0,h=0;function f(g,x){var b,v=!1;for(b=0;b<g.length;b+=1)g[b]===x&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(h=0;h<p;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if(En(e)==="object"){for(s in e)if(i=e[s],f(l,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&f(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(u=0;u<i.length;u+=1)if(r=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(r=!1);r===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,x=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?x.push("/"+g+" /"+n[g].value):x.push("/"+g+" "+n[g].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+a.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(wt.API),function(e){var t=e.API,n=t.pdfEscape16=function(i,a){for(var l,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,f=i.length;h<f;++h){if(l=a.metadata.characterToGlyph(i.charCodeAt(h)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},r=function(i){var a,l,c,u,d,h,f;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(l=Object.keys(i).sort(function(p,g){return p-g})).length;h<f;h++)a=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",g=0;g<f.length;g++)p+=String.fromCharCode(f[g]);var x=u();d({data:p,addLength1:!0,objectId:x}),c("endobj");var b=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var v=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Lh(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Lh(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+Lh(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var g=u();d({data:f,addLength1:!0,objectId:g}),c("endobj");var x=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var b=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Lh(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Lh(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",c=i.x,u=i.y,d=i.options||{},h=i.mutex||{},f=h.pdfEscape,p=h.activeFontKey,g=h.fonts,x=p,b="",v=0,y="",w=g[x].encoding;if(g[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(y=l,x=p,Array.isArray(l)&&(y=l[0]),v=0;v<y.length;v+=1)g[x].metadata.hasOwnProperty("cmap")&&(a=g[x].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),a||y[v].charCodeAt(0)<256&&g[x].metadata.hasOwnProperty("Unicode")?b+=y[v]:b+="";var _="";return parseInt(x.slice(1))<14||w==="WinAnsiEncoding"?_=f(b,x).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(_=n(b,g[x])),h.isHex=!0,{text:_,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(i){var a=i.text||"",l=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?l.push([s(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):l.push(s(Object.assign({},c,{text:a[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:a})).text}])}(wt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(wt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,i,a,l,c,u,d,h=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var _=function(L){var P=L.charCodeAt(),D=P>>8,F=x[D];return F!==void 0?h[256*F+(255&P)]:D===252||D===253?"AL":v.test(D)?"L":D===8?"R":"N"},C=function(L){for(var P,D=0;D<L.length;D++){if((P=_(L.charAt(D)))==="L")return!1;if(P==="R")return!0}return!1},E=function(L,P,D,F){var U,W,H,R,G=P[F];switch(G){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(G="AN");break;case"AL":y=!0,G="R";break;case"WS":G="N";break;case"CS":F<1||F+1>=P.length||(U=D[F-1])!=="EN"&&U!=="AN"||(W=P[F+1])!=="EN"&&W!=="AN"?G="N":y&&(W="AN"),G=W===U?W:"N";break;case"ES":G=(U=F>0?D[F-1]:"B")==="EN"&&F+1<P.length&&P[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&D[F-1]==="EN"){G="EN";break}if(y){G="N";break}for(H=F+1,R=P.length;H<R&&P[H]==="ET";)H++;G=H<R&&P[H]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(R=P.length,H=F+1;H<R&&P[H]==="NSM";)H++;if(H<R){var M=L[F],ae=M>=1425&&M<=2303||M===64286;if(U=P[H],ae&&(U==="R"||U==="AL")){G="R";break}}}G=F<1||(U=P[F-1])==="B"?"N":D[F-1];break;case"B":y=!1,s=!0,G=w;break;case"S":i=!0,G="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":G="N"}return G},O=function(L,P,D){var F=L.split("");return D&&T(F,D,{hiLevel:w}),F.reverse(),P&&P.reverse(),F.join("")},T=function(L,P,D){var F,U,W,H,R,G=-1,M=L.length,ae=0,z=[],I=w?p:f,J=[];for(y=!1,s=!1,i=!1,U=0;U<M;U++)J[U]=_(L[U]);for(W=0;W<M;W++){if(R=ae,z[W]=E(L,J,z,W),F=240&(ae=I[R][g[z[W]]]),ae&=15,P[W]=H=I[ae][5],F>0)if(F===16){for(U=G;U<W;U++)P[U]=1;G=-1}else G=-1;if(I[ae][6])G===-1&&(G=W);else if(G>-1){for(U=G;U<W;U++)P[U]=H;G=-1}J[W]==="B"&&(P[W]=0),D.hiLevel|=H}i&&function(se,re,oe){for(var ce=0;ce<oe;ce++)if(se[ce]==="S"){re[ce]=w;for(var xe=ce-1;xe>=0&&se[xe]==="WS";xe--)re[xe]=w}}(J,P,M)},$=function(L,P,D,F,U){if(!(U.hiLevel<L)){if(L===1&&w===1&&!s)return P.reverse(),void(D&&D.reverse());for(var W,H,R,G,M=P.length,ae=0;ae<M;){if(F[ae]>=L){for(R=ae+1;R<M&&F[R]>=L;)R++;for(G=ae,H=R-1;G<H;G++,H--)W=P[G],P[G]=P[H],P[H]=W,D&&(W=D[G],D[G]=D[H],D[H]=W);ae=R}ae++}}},B=function(L,P,D){var F=L.split(""),U={hiLevel:w};return D||(D=[]),T(F,D,U),function(W,H,R){if(R.hiLevel!==0&&d)for(var G,M=0;M<W.length;M++)H[M]===1&&(G=b.indexOf(W[M]))>=0&&(W[M]=b[G+1])}(F,D,U),$(2,F,P,D,U),$(1,F,P,D,U),F.join("")};return this.__bidiEngine__.doBidiReorder=function(L,P,D){if(function(U,W){if(W)for(var H=0;H<U.length;H++)W[H]=H;l===void 0&&(l=C(U)),u===void 0&&(u=C(U))}(L,P),a||!c||u)if(a&&c&&l^u)w=l?1:0,L=O(L,P,D);else if(!a&&c&&u)w=l?1:0,L=B(L,P,D),L=O(L,P);else if(!a||l||c||u){if(a&&!c&&l^u)L=O(L,P),l?(w=0,L=B(L,P,D)):(w=1,L=B(L,P,D),L=O(L,P));else if(a&&l&&!c&&u)w=1,L=B(L,P,D),L=O(L,P);else if(!a&&!c&&l^u){var F=d;l?(w=1,L=B(L,P,D),w=0,d=!1,L=B(L,P,D),d=F):(w=0,L=B(L,P,D),L=O(L,P),w=1,d=!1,L=B(L,P,D),d=F,L=O(L,P))}}else w=0,L=B(L,P,D);else w=l?1:0,L=B(L,P,D);return L},this.__bidiEngine__.setOptions=function(L){L&&(a=L.isInputVisual,c=L.isOutputVisual,l=L.isInputRtl,u=L.isOutputRtl,d=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([n.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([n.doBidiReorder(s[l])]);r.text=a}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(wt),wt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new fu(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Tbe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new xbe(this.contents),this.head=new vbe(this),this.name=new Sbe(this),this.cmap=new Eq(this),this.toUnicode={},this.hhea=new bbe(this),this.maxp=new kbe(this),this.hmtx=new _be(this),this.post=new jbe(this),this.os2=new wbe(this),this.loca=new Ebe(this),this.glyf=new Cbe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,u;for(u=[],a=0,l=(c=this.bbox).length;a<l;a++)t=c[a],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,i,a,l;for(a=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return a*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var co,fu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,i,a,l,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*a+256*l+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,i;for(i=[],r=0,s=t.length;r<s;r++)n=t[r],i.push(this.writeByte(n));return i},e}(),xbe=function(){var e;function t(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,i,a,l,c,u,d,h,f,p,g,x;for(x in p=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),a=Math.floor(h/c),d=16*p-h,(s=new fu).writeInt(this.scalarType),s.writeShort(p),s.writeShort(h),s.writeShort(a),s.writeShort(d),i=16*p,u=s.pos+i,l=null,g=[],n)for(f=n[x],s.writeString(x),s.writeInt(e(f)),s.writeInt(u),s.writeInt(f.length),g=g.concat(f),x==="head"&&(l=u),u+=f.length;u%4;)g.push(0),u++;return s.write(g),r=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(r),s.data},e=function(n){var r,s,i,a;for(n=Tq.call(n);n.length%4;)n.push(0);for(i=new fu(n),s=0,r=0,a=n.length;r<a;r=r+=4)s+=i.readUInt32();return 4294967295&s},t}(),ybe={}.hasOwnProperty,tl=function(e,t){for(var n in t)ybe.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};co=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var vbe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,co),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new fu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),oE=function(){function e(t,n){var r,s,i,a,l,c,u,d,h,f,p,g,x,b,v,y,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),f=p/2,t.pos+=6,i=function(){var _,C;for(C=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)C.push(t.readUInt16());return C}(),t.pos+=2,x=function(){var _,C;for(C=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)C.push(t.readUInt16());return C}(),u=function(){var _,C;for(C=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)C.push(t.readUInt16());return C}(),d=function(){var _,C;for(C=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)C.push(t.readUInt16());return C}(),s=(this.length-t.pos+this.offset)/2,l=function(){var _,C;for(C=[],c=_=0;0<=s?_<s:_>s;c=0<=s?++_:--_)C.push(t.readUInt16());return C}(),c=v=0,w=i.length;v<w;c=++v)for(b=i[c],r=y=g=x[c];g<=b?y<=b:y>=b;r=g<=b?++y:--y)d[c]===0?a=r+u[c]:(a=l[d[c]/2+(r-g)-(f-c)]||0)!==0&&(a+=u[c]),this.codeMap[r]=65535&a}t.pos=h}return e.encode=function(t,n){var r,s,i,a,l,c,u,d,h,f,p,g,x,b,v,y,w,_,C,E,O,T,$,B,L,P,D,F,U,W,H,R,G,M,ae,z,I,J,se,re,oe,ce,xe,Pe,Ce,De;switch(F=new fu,a=Object.keys(t).sort(function(Ue,ct){return Ue-ct}),n){case"macroman":for(x=0,b=function(){var Ue=[];for(g=0;g<256;++g)Ue.push(0);return Ue}(),y={0:0},i={},U=0,G=a.length;U<G;U++)y[xe=t[s=a[U]]]==null&&(y[xe]=++x),i[s]={old:t[s],new:y[t[s]]},b[s]=y[t[s]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(b),{charMap:i,subtable:F.data,maxGlyphID:x+1};case"unicode":for(P=[],h=[],w=0,y={},r={},v=u=null,W=0,M=a.length;W<M;W++)y[C=t[s=a[W]]]==null&&(y[C]=++w),r[s]={old:C,new:y[C]},l=y[C]-s,v!=null&&l===u||(v&&h.push(v),P.push(s),u=l),v=s;for(v&&h.push(v),h.push(65535),P.push(65535),B=2*($=P.length),T=2*Math.pow(Math.log($)/Math.LN2,2),f=Math.log(T/2)/Math.LN2,O=2*$-T,c=[],E=[],p=[],g=H=0,ae=P.length;H<ae;g=++H){if(L=P[g],d=h[g],L===65535){c.push(0),E.push(0);break}if(L-(D=r[L].new)>=32768)for(c.push(0),E.push(2*(p.length+$-g)),s=R=L;L<=d?R<=d:R>=d;s=L<=d?++R:--R)p.push(r[s].new);else c.push(D-L),E.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*$+2*p.length),F.writeUInt16(0),F.writeUInt16(B),F.writeUInt16(T),F.writeUInt16(f),F.writeUInt16(O),oe=0,z=h.length;oe<z;oe++)s=h[oe],F.writeUInt16(s);for(F.writeUInt16(0),ce=0,I=P.length;ce<I;ce++)s=P[ce],F.writeUInt16(s);for(Pe=0,J=c.length;Pe<J;Pe++)l=c[Pe],F.writeUInt16(l);for(Ce=0,se=E.length;Ce<se;Ce++)_=E[Ce],F.writeUInt16(_);for(De=0,re=p.length;De<re;De++)x=p[De],F.writeUInt16(x);return{charMap:r,subtable:F.data,maxGlyphID:w+1}}},e}(),Eq=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,co),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r=new oE(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,i;return r==null&&(r="macroman"),s=oE.encode(n,r),(i=new fu).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),bbe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,co),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),wbe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,co),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),jbe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,co),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(s=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)r=n.readByte(),i.push(this.names.push(n.readString(r)));return i;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)u.push(n.readUInt32());return u}).call(this)}},t}(),Nbe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Sbe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,co),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,i,a,l,c,u,d,h,f,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),s=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(u={},a=h=0,f=s.length;h<f;a=++h)i=s[a],n.pos=i.offset,d=n.readString(i.length),l=new Nbe(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),kbe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,co),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),_be=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,co),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,i,a,l,c,u;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],r=d=0;0<=i?d<i:d>i;r=0<=i?++d:--d)h.push(n.readInt16());return h}(),this.widths=(function(){var d,h,f,p;for(p=[],d=0,h=(f=this.metrics).length;d<h;d++)a=f[d],p.push(a.advance);return p}).call(this),s=this.widths[this.widths.length-1],u=[],r=l=0;0<=i?l<i:l>i;r=0<=i?++l:--l)u.push(this.widths.push(s));return u},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),Tq=[].slice,Cbe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,co),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,i,a,l,c,u,d,h,f;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,s=a.indexOf(n),(i=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,l=(c=new fu(r.read(i))).readShort(),d=c.readShort(),f=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[n]=l===-1?new Pbe(c,d,f,u,h):new Abe(c,l,d,f,u,h),this.cache[n]))},t.prototype.encode=function(n,r,s){var i,a,l,c,u;for(l=[],a=[],c=0,u=r.length;c<u;c++)i=n[r[c]],a.push(l.length),i&&(l=l.concat(i.encode(s)));return a.push(l.length),{table:l,offsets:a}},t}(),Abe=function(){function e(t,n,r,s,i,a){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Pbe=function(){function e(t,n,r,s,i){var a,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new fu(Tq.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Ebe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tl(t,co),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(n.readUInt32());return a}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,l=0;l<s.length;++l)if(s[l]=i,a<r.length&&r[a]==l){++a,s[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*s.length),h=0;h<s.length;++h)d[4*h+3]=255&s[h],d[4*h+2]=(65280&s[h])>>8,d[4*h+1]=(16711680&s[h])>>16,d[4*h]=(4278190080&s[h])>>24;return d},t}(),Tbe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,i,a,l,c;for(s={},a=0,l=t.length;a<l;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))r=c[i],s[i]=r;return s},e.prototype.encode=function(t,n){var r,s,i,a,l,c,u,d,h,f,p,g,x,b,v;for(s in r=Eq.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),p={0:0},v=r.charMap)p[(c=v[s]).old]=c.new;for(g in f=r.maxGlyphID,a)g in p||(p[g]=f++);return d=function(y){var w,_;for(w in _={},y)_[y[w]]=w;return _}(p),h=Object.keys(d).sort(function(y,w){return y-w}),x=function(){var y,w,_;for(_=[],y=0,w=h.length;y<w;y++)l=h[y],_.push(d[l]);return _}(),i=this.font.glyf.encode(a,x,p),u=this.font.loca.encode(i.offsets,x),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();wt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,i,a;if(Array.isArray(n))return"["+function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)r=n[l],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)a=n[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+n},t}();const Mbe=Object.freeze(Object.defineProperty({__proto__:null,AcroFormAppearance:ft,AcroFormButton:Yr,AcroFormCheckBox:rg,AcroFormChoiceField:md,AcroFormComboBox:xd,AcroFormEditBox:tg,AcroFormListBox:gd,AcroFormPasswordField:sg,AcroFormPushButton:ng,AcroFormRadioButton:yd,AcroFormTextField:eu,GState:o0,ShadingPattern:kc,TilingPattern:rd,default:wt,jsPDF:wt},Symbol.toStringTag,{value:"Module"}));async function Lbe({entry:e,childProfile:t}){const n=new wt,r=n.internal.pageSize.getWidth(),s=20,i=r-2*s;let a=30;n.setFontSize(20),n.setFont("helvetica","bold"),n.text("ParentJourney - Journal Entry",s,a),a+=20,n.setFontSize(12),n.setFont("helvetica","normal");const l=tn(new Date(e.createdAt),"MMMM dd, yyyy - h:mm a");n.text(`Date: ${l}`,s,a),a+=15,t&&(n.text(`Child: ${t.name}`,s,a),a+=15),e.title&&(n.setFont("helvetica","bold"),n.text(`Title: ${e.title}`,s,a),a+=15),e.mood&&(n.setFont("helvetica","normal"),n.text(`Mood: ${e.mood}`,s,a),a+=15),e.emotionTags&&e.emotionTags.length>0&&(n.text(`Emotions: ${e.emotionTags.join(", ")}`,s,a),a+=15),a+=10,n.setFont("helvetica","bold"),n.text("Journal Entry:",s,a),a+=10,n.setFont("helvetica","normal");const c=n.splitTextToSize(e.content,i);for(let f=0;f<c.length;f++)a>270&&(n.addPage(),a=30),n.text(c[f],s,a),a+=7;if(e.aiFeedback){a+=15,a>250&&(n.addPage(),a=30),n.setFont("helvetica","bold"),n.text("AI Reflection:",s,a),a+=10,n.setFont("helvetica","normal");const f=n.splitTextToSize(e.aiFeedback,i);for(let p=0;p<f.length;p++)a>270&&(n.addPage(),a=30),n.text(f[p],s,a),a+=7}if(e.developmentalInsight){a+=15,a>250&&(n.addPage(),a=30),n.setFont("helvetica","bold"),n.text("Developmental Insight:",s,a),a+=10,n.setFont("helvetica","normal");const f=n.splitTextToSize(e.developmentalInsight,i);for(let p=0;p<f.length;p++)a>270&&(n.addPage(),a=30),n.text(f[p],s,a),a+=7}const u=tn(new Date(e.createdAt),"yyyy-MM-dd"),d=t?`_${t.name.replace(/\s+/g,"_")}`:"",h=`Parenting_Journal_${u}${d}.pdf`;n.save(h)}async function Ibe({entries:e,childProfiles:t,title:n="Favorite Journal Entries"}){if(e.length===0)throw new Error("No entries to export");const r=new wt,s=r.internal.pageSize.getWidth(),i=20,a=s-2*i;let l=30;r.setFontSize(24),r.setFont("helvetica","bold"),r.text("ParentJourney",i,l),l+=15,r.setFontSize(18),r.text(n,i,l),l+=20,r.setFontSize(12),r.setFont("helvetica","normal");const c=tn(new Date,"MMMM dd, yyyy");r.text(`Exported on: ${c}`,i,l),l+=10,r.text(`Total Entries: ${e.length}`,i,l),l+=30,r.setFont("helvetica","bold"),r.text("Contents:",i,l),l+=15,r.setFont("helvetica","normal"),e.forEach((h,f)=>{const p=tn(new Date(h.createdAt),"MMM dd, yyyy"),g=t.find(v=>v.id===h.childProfileId),x=g?` - ${g.name}`:"",b=h.title?h.title:"Untitled Entry";l>270&&(r.addPage(),l=30),r.text(`${f+1}. ${b} (${p})${x}`,i,l),l+=8}),e.forEach((h,f)=>{r.addPage(),l=30;const p=t.find(b=>b.id===h.childProfileId);r.setFontSize(16),r.setFont("helvetica","bold"),r.text(`Entry ${f+1}`,i,l),l+=15,r.setFontSize(12),r.setFont("helvetica","normal");const g=tn(new Date(h.createdAt),"MMMM dd, yyyy - h:mm a");r.text(`Date: ${g}`,i,l),l+=15,p&&(r.text(`Child: ${p.name}`,i,l),l+=15),h.title&&(r.setFont("helvetica","bold"),r.text(`Title: ${h.title}`,i,l),l+=15),(h.mood||h.emotionTags&&h.emotionTags.length>0)&&(r.setFont("helvetica","normal"),h.mood&&(r.text(`Mood: ${h.mood}`,i,l),l+=10),h.emotionTags&&h.emotionTags.length>0&&(r.text(`Emotions: ${h.emotionTags.join(", ")}`,i,l),l+=15)),l+=10,r.setFont("helvetica","bold"),r.text("Journal Entry:",i,l),l+=10,r.setFont("helvetica","normal");const x=r.splitTextToSize(h.content,a);for(let b=0;b<x.length;b++)l>270&&(r.addPage(),l=30),r.text(x[b],i,l),l+=7;if(h.aiFeedback){l+=15,l>250&&(r.addPage(),l=30),r.setFont("helvetica","bold"),r.text("AI Reflection:",i,l),l+=10,r.setFont("helvetica","normal");const b=r.splitTextToSize(h.aiFeedback,a);for(let v=0;v<b.length;v++)l>270&&(r.addPage(),l=30),r.text(b[v],i,l),l+=7}});const d=`ParentJourney_Favorites_${tn(new Date,"yyyy-MM-dd")}.pdf`;r.save(d)}function Dbe({triggerSignUpPrompt:e}){var P;const[t,n]=N.useState([]),[r,s]=N.useState([]),[i,a]=N.useState("all"),[l,c]=N.useState(),[u,d]=N.useState(!1),{toast:h}=vs();N.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:f,isLoading:p}=Ht({queryKey:["/api/child-profiles"],queryFn:async()=>{const D=localStorage.getItem("parentjourney_token"),F={};D&&(F.Authorization=`Bearer ${D}`);const U=await fetch("/api/child-profiles",{headers:F,credentials:"include"});if(!U.ok)throw new Error("Failed to fetch profiles");return U.json()},enabled:!!localStorage.getItem("parentjourney_token"),staleTime:6e4,retry:!1}),{data:g,isLoading:x}=Ht({queryKey:["/api/journal-entries"],queryFn:async()=>{const D="/api/journal-entries?limit=100",F=localStorage.getItem("parentjourney_token"),U={};F&&(U.Authorization=`Bearer ${F}`);const W=await fetch(D,{headers:U,credentials:"include"});if(!W.ok)throw new Error("Failed to fetch entries");return W.json()},enabled:!!localStorage.getItem("parentjourney_token"),staleTime:1e4,retry:!1}),b=On({mutationFn:async({entryId:D,isFavorite:F})=>{const U=localStorage.getItem("parentjourney_token"),W={"Content-Type":"application/json"};U&&(W.Authorization=`Bearer ${U}`);const H=await fetch(`/api/journal-entries/${D}/favorite`,{method:"PATCH",headers:W,credentials:"include",body:JSON.stringify({isFavorite:F})});if(!H.ok)throw new Error("Failed to update favorite");return H.json()},onSuccess:()=>{H8.invalidateQueries({queryKey:["/api/journal-entries"]}),h({title:"Success",description:"Entry bookmark updated successfully"})},onError:()=>{h({title:"Error",description:"Failed to update bookmark",variant:"destructive"})}}),v=(g==null?void 0:g.filter(D=>{const F=t.length===0||t.includes(D.childProfileId||"")||t.includes("no-child")&&!D.childProfileId,U=r.length===0||r.includes(D.entryType||"shared_journey");let W=!0;if(l){const R=new Date(D.createdAt);l.from&&l.to&&(W=R>=l.from&&R<=l.to)}const H=i==="favorites"?D.isFavorite==="true":!0;return F&&U&&W&&H}))||[],y=(g==null?void 0:g.filter(D=>D.isFavorite==="true"))||[],w=(D,F)=>{n(F?U=>[...U,D]:U=>U.filter(W=>W!==D))},_=()=>{if(f){const D=f.map(U=>U.id);(g==null?void 0:g.some(U=>!U.childProfileId))&&D.push("no-child"),n(D)}s(["shared_journey","quick_moment"])},C=()=>{n([]),s([]),c(void 0)},E=()=>{if(!f)return;const D=f.map(U=>U.id);(g==null?void 0:g.some(U=>!U.childProfileId))&&D.push("no-child"),n(D)},O=(D,F)=>{const U=F!=="true";b.mutate({entryId:D,isFavorite:U})},T=async D=>{try{const F=f==null?void 0:f.find(U=>U.id===D.childProfileId);await Lbe({entry:D,childProfile:F}),h({title:"Success",description:"Entry exported to PDF successfully"})}catch{h({title:"Error",description:"Failed to export interaction",variant:"destructive"})}},$=async()=>{if(y.length===0){h({title:"No Favorites",description:"You don't have any favorite interactions to export",variant:"destructive"});return}try{await Ibe({entries:y,childProfiles:f||[]}),h({title:"Success",description:`Exported ${y.length} favorite interactions to PDF`})}catch{h({title:"Error",description:"Failed to export favorites",variant:"destructive"})}};function B({feedback:D}){const F=D.split(`

`).filter(U=>U.trim());return o.jsxs("div",{className:"mt-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-neutral-700",children:[o.jsx(rn,{className:"h-4 w-4 text-primary"}),"AI Parenting Coach"]}),o.jsx("div",{className:"space-y-3",children:F.map((U,W)=>{if(!U.includes(":"))return null;const[H,...R]=U.split(":"),G=R.join(":").trim();let M,ae,z;return H.includes("Encouragement")?(M=o.jsx(Kn,{className:"text-pink-600 h-3 w-3"}),ae="bg-pink-50",z="border-l-pink-400"):H.includes("Insight")?(M=o.jsx(Na,{className:"text-amber-600 h-3 w-3"}),ae="bg-amber-50",z="border-l-amber-400"):H.includes("Suggestion")?(M=o.jsx(Vi,{className:"text-blue-600 h-3 w-3"}),ae="bg-blue-50",z="border-l-blue-400"):(M=o.jsx(rn,{className:"text-neutral-600 h-3 w-3"}),ae="bg-neutral-50",z="border-l-neutral-400"),o.jsx("div",{className:`p-3 ${ae} rounded-md border-l-4 ${z}`,children:o.jsxs("div",{className:"flex items-start gap-2",children:[M,o.jsxs("div",{className:"flex-1",children:[o.jsx("h5",{className:"text-sm font-medium text-neutral-800 mb-1",children:H.replace(/\*\*/g,"").trim()}),o.jsx("p",{className:"text-sm text-neutral-700 leading-relaxed",children:G})]})]})},W)})})]})}function L({entry:D}){const[F,U]=N.useState(!1),W=D.isFavorite==="true",H=R=>R.length<=150?R:R.substring(0,150)+"...";return o.jsxs(Ye,{className:`hover-lift animate-fade-in ${W?"ring-2 ring-yellow-200 bg-yellow-50/30":""}`,children:[o.jsxs(Mt,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rs,{className:"h-4 w-4 text-neutral-500"}),o.jsx("span",{className:"text-sm text-neutral-600",children:tn(new Date(D.createdAt),"MMMM d, yyyy")}),o.jsx("span",{className:"text-xs text-neutral-400",children:tn(new Date(D.createdAt),"h:mm a")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[D.mood&&o.jsx(xt,{variant:"outline",className:"text-xs",children:D.mood}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>O(D.id,D.isFavorite||"false"),disabled:b.isPending,className:`p-1 h-8 w-8 ${W?"text-yellow-600 hover:text-yellow-700":"text-neutral-400 hover:text-yellow-600"}`,children:b.isPending?o.jsx(ck,{className:"h-4 w-4 animate-spin"}):o.jsx(Vi,{className:`h-4 w-4 ${W?"fill-current":""}`})}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>T(D),className:"p-1 h-8 w-8 text-neutral-400 hover:text-primary",children:o.jsx(Vj,{className:"h-4 w-4"})})]})]}),D.emotionTags&&D.emotionTags.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:D.emotionTags.map(R=>o.jsx(xt,{variant:"secondary",className:"text-xs bg-primary/10 text-primary border-primary/20",children:R.charAt(0).toUpperCase()+R.slice(1)},R))}),o.jsx("div",{className:"flex justify-between items-start"}),D.title&&o.jsx(Dt,{className:"text-lg text-neutral-800 mt-2",children:D.title})]}),o.jsxs(Xe,{className:"pt-0",children:[o.jsxs("div",{className:"prose prose-sm max-w-none",children:[o.jsx("p",{className:"text-neutral-700 leading-relaxed whitespace-pre-wrap",children:F?D.content:H(D.content)}),D.content.length>150&&o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>U(!F),className:"mt-2 p-0 h-auto text-sm text-primary hover:text-primary/80",children:F?"Show less":"Read more"})]}),D.photos&&D.photos.length>0&&o.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-2",children:D.photos.map((R,G)=>o.jsx("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-neutral-100",children:o.jsx("img",{src:R,alt:`Entry photo ${G+1}`,className:"w-full h-full object-cover"})},G))}),D.aiFeedback&&F&&o.jsx(B,{feedback:D.aiFeedback}),D.hasAiFeedback&&!D.aiFeedback||D.entryType==="quick_moment"&&!D.aiFeedback&&o.jsx("div",{className:"mt-4 p-3 bg-amber-50 rounded-lg border border-amber-200",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700",children:[o.jsx(N0,{className:"h-4 w-4"}),"Don't see AI feedback? It may take a moment to appear after entry is submitted."]})})]})]})}return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 to-primary/5",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsx(Nn,{href:"/",children:o.jsxs(ve,{variant:"outline",className:"hover-scale",children:[o.jsx(ja,{className:"h-4 w-4 mr-2"}),"Back to Main"]})})}),o.jsxs("div",{className:"text-center mt-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-neutral-800",children:" Interaction History"}),o.jsx("p",{className:"text-neutral-600",children:"Browse through your parenting journey interactions and AI insights"})]})]}),o.jsx(Ye,{className:"mb-6",children:o.jsx(Xe,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lk,{className:"h-5 w-5 text-primary"}),o.jsx("h2",{className:"text-lg font-semibold text-neutral-800",children:"Filter Your Interactions"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ve,{variant:"outline",size:"sm",onClick:_,className:"text-xs",children:"Select All"}),o.jsx(ve,{variant:"outline",size:"sm",onClick:C,className:"text-xs",children:"Clear All"})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:p?o.jsx(Ls,{className:"h-10 col-span-full"}):o.jsxs(o.Fragment,{children:[f&&f.length>0&&f.map((D,F)=>o.jsxs("div",{className:`flex items-center p-3 rounded-lg border transition-colors cursor-pointer ${t.includes(D.id)?"border-primary bg-primary/5":"border-neutral-200 hover:border-neutral-300"}`,onClick:()=>w(D.id,!t.includes(D.id)),children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${F===0?"bg-blue-100 text-blue-600":F===1?"bg-purple-100 text-purple-600":F===2?"bg-pink-100 text-pink-600":"bg-emerald-100 text-emerald-600"}`,children:o.jsx(gs,{className:"h-4 w-4"})}),o.jsx("div",{className:"text-sm font-medium text-neutral-800",children:D.name})]}),t.includes(D.id)&&o.jsx("div",{className:"w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]},D.id)),(g==null?void 0:g.some(D=>!D.childProfileId))&&o.jsxs("div",{className:`flex items-center p-3 rounded-lg border transition-colors cursor-pointer ${t.includes("no-child")?"border-primary bg-primary/5":"border-neutral-200 hover:border-neutral-300"}`,onClick:()=>w("no-child",!t.includes("no-child")),children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"w-8 h-8 bg-neutral-100 text-neutral-600 rounded-full flex items-center justify-center",children:o.jsx(qj,{className:"h-4 w-4"})}),o.jsx("div",{className:"text-sm font-medium text-neutral-800",children:"General Interactions"})]}),t.includes("no-child")&&o.jsx("div",{className:"w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]}),o.jsxs("div",{className:`flex items-center p-3 rounded-lg border transition-colors cursor-pointer ${r.includes("shared_journey")?"border-primary bg-primary/5":"border-neutral-200 hover:border-neutral-300"}`,onClick:()=>{r.includes("shared_journey")?s(r.filter(D=>D!=="shared_journey")):s([...r,"shared_journey"])},children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center",children:o.jsx(Sl,{className:"h-4 w-4"})}),o.jsx("div",{className:"text-sm font-medium text-neutral-800",children:"Parenting Journey"})]}),r.includes("shared_journey")&&o.jsx("div",{className:"w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]}),o.jsxs("div",{className:`flex items-center p-3 rounded-lg border transition-colors cursor-pointer ${r.includes("quick_moment")?"border-primary bg-primary/5":"border-neutral-200 hover:border-neutral-300"}`,onClick:()=>{r.includes("quick_moment")?s(r.filter(D=>D!=="quick_moment")):s([...r,"quick_moment"])},children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"w-8 h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center",children:o.jsx(AR,{className:"h-4 w-4"})}),o.jsx("div",{className:"text-sm font-medium text-neutral-800",children:"Quick Moments"})]}),r.includes("quick_moment")&&o.jsx("div",{className:"w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]}),o.jsxs(yr,{open:u,onOpenChange:d,children:[o.jsx(Vl,{asChild:!0,children:o.jsxs("div",{className:`flex items-center p-3 rounded-lg border transition-colors cursor-pointer ${l?"border-primary bg-primary/5":"border-neutral-200 hover:border-neutral-300"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center",children:o.jsx(rs,{className:"h-4 w-4"})}),o.jsx("div",{className:"text-sm font-medium text-neutral-800",children:l?"Date Range Set":"Select Date Range"})]}),l&&o.jsx("div",{className:"w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]})}),o.jsx(rr,{className:"w-auto p-0 max-w-fit",children:o.jsxs("div",{className:"p-4",children:[o.jsx(sr,{children:o.jsx(ir,{children:"Select Date Range"})}),o.jsxs("div",{className:"mt-4",children:[o.jsx(Gg,{mode:"range",selected:l,onSelect:c,numberOfMonths:window.innerWidth>=768?2:1,className:"rounded-md border"}),o.jsxs("div",{className:"flex justify-between mt-4 gap-2",children:[o.jsx(ve,{variant:"outline",onClick:()=>{c(void 0),d(!1)},className:"flex-1 sm:flex-none",children:"Clear"}),o.jsx(ve,{onClick:()=>d(!1),className:"flex-1 sm:flex-none",children:"Apply"})]})]})]})})]})]})}),(t.length>0||r.length>0||l)&&o.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[o.jsx("h4",{className:"text-xs font-medium text-neutral-600 mb-2",children:"Active Filters:"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.map(D=>{if(D==="no-child")return o.jsx(xt,{variant:"secondary",className:"text-xs",children:"General Interactions"},D);const F=f==null?void 0:f.find(U=>U.id===D);return F?o.jsx(xt,{variant:"secondary",className:"text-xs",children:F.name},D):null}),r.map(D=>o.jsx(xt,{variant:"outline",className:"text-xs",children:D==="shared_journey"?"Parenting Journey":"Quick Moments"},D)),l&&o.jsx(xt,{variant:"outline",className:"text-xs",children:l.from&&l.to?`${l.from.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${l.to.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`:"Date Range Selected"})]})]}),t.length===0&&r.length===0&&!l&&o.jsx("p",{className:"text-xs text-neutral-500 pt-2 border-t border-neutral-200",children:"All interactions shown when no filters selected"})]})})}),o.jsx(Ye,{className:"mb-6",children:o.jsxs(Xe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Sl,{className:"h-5 w-5 text-primary"}),o.jsxs("h2",{className:"text-lg font-semibold text-neutral-800",children:["Your Interactions",t.length>0&&o.jsxs("span",{className:"text-sm font-normal text-neutral-600 ml-2",children:["(",t.length===1&&t[0]!=="no-child"?((P=f==null?void 0:f.find(D=>D.id===t[0]))==null?void 0:P.name)||"Unknown":t.length===1&&t[0]==="no-child"?"General interactions":`${t.length} selected`,")"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(xt,{variant:"outline",className:"text-xs",children:[v.length," interactions"]}),y.length>0&&o.jsxs(ve,{variant:"outline",size:"sm",onClick:$,className:"text-xs",children:[o.jsx(qj,{className:"h-3 w-3 mr-1"}),"Export All Favorites"]})]})]}),o.jsx(g4,{value:i,onValueChange:a,className:"w-full",children:o.jsxs(Ob,{className:"grid w-full grid-cols-2",children:[o.jsxs(Jc,{value:"all",className:"flex items-center gap-2",children:[o.jsx(Ng,{className:"h-4 w-4"}),"All Interactions (",v.length,")"]}),o.jsxs(Jc,{value:"favorites",className:"flex items-center gap-2",children:[o.jsx(Vi,{className:"h-4 w-4"}),"Favorites (",y.length,")"]})]})})]})}),o.jsx("div",{className:"space-y-6",children:x?o.jsx("div",{className:"space-y-6",children:[1,2,3].map(D=>o.jsxs(Ye,{children:[o.jsxs(Mt,{children:[o.jsx(Ls,{className:"h-4 w-32"}),o.jsx(Ls,{className:"h-6 w-64"})]}),o.jsx(Xe,{children:o.jsx(Ls,{className:"h-20 w-full"})})]},D))}):v.length>0?o.jsx("div",{className:"space-y-6",children:v.map(D=>o.jsx(L,{entry:D},D.id))}):i==="favorites"?o.jsx(Ye,{children:o.jsxs(Xe,{className:"p-8 text-center",children:[o.jsx(Vi,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-neutral-800 mb-2",children:"No favorite interactions found"}),o.jsx("p",{className:"text-neutral-600 mb-4",children:t.length>0?"No favorite interactions for the selected children. Click the star icon on interactions to save as favorites.":"Click the star icon on interactions you want to save as favorites"}),o.jsxs(ve,{onClick:()=>a("all"),variant:"outline",children:[o.jsx(Ng,{className:"h-4 w-4 mr-2"}),"View All Interactions"]})]})}):t.length>0?o.jsx(Ye,{children:o.jsxs(Xe,{className:"p-8 text-center",children:[o.jsx(Sl,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-neutral-800 mb-2",children:"No interactions found"}),o.jsx("p",{className:"text-neutral-600 mb-4",children:"No interactions found for the selected children. Try selecting different children or create new interactions."}),o.jsxs(ve,{onClick:()=>window.history.back(),children:[o.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Create New Interaction"]})]})}):g&&g.length>0?o.jsx(Ye,{children:o.jsxs(Xe,{className:"p-8 text-center",children:[o.jsx(gs,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-neutral-800 mb-2",children:"Select children to view their interactions"}),o.jsx("p",{className:"text-neutral-600 mb-4",children:"Use the checkboxes above to select which children's interactions you want to view, or leave unselected to see all interactions."}),o.jsxs(ve,{onClick:E,variant:"outline",children:[o.jsx(gs,{className:"h-4 w-4 mr-2"}),"Show All Interactions"]})]})}):o.jsx(Ye,{children:o.jsxs(Xe,{className:"p-8 text-center",children:[o.jsx(Sl,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-neutral-800 mb-2",children:"No interactions yet"}),o.jsx("p",{className:"text-neutral-600 mb-4",children:"Start documenting your parenting journey by creating your first interaction."}),o.jsxs(ve,{onClick:()=>window.history.back(),children:[o.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Create First Interaction"]})]})})})]})})}function Rbe(){const[e,t]=N.useState(!1),[n,r]=N.useState("all"),[s,i]=N.useState({parentId:"",title:"",content:"",category:"General",isAnonymous:"false"}),[a,l]=N.useState(""),{toast:c}=vs(),u=Bs(),{data:d=[],isLoading:h}=Ht({queryKey:["/api/community/posts"],queryFn:async()=>{const y=localStorage.getItem("parentjourney_token"),w={};y&&(w.Authorization=`Bearer ${y}`);const _=await fetch("/api/community/posts",{headers:w,credentials:"include"});if(!_.ok)throw new Error("Failed to fetch posts");return _.json()},enabled:!!localStorage.getItem("parentjourney_token"),staleTime:3e4,retry:!1}),f=On({mutationFn:async y=>{const w=await fetch("/api/community/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!w.ok)throw new Error("Failed to create post");return w.json()},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/community/posts"]}),t(!1),i({parentId:"",title:"",content:"",category:"General",isAnonymous:"false"}),c({title:"Post Created!",description:"Your post has been shared with the community."})},onError:()=>{c({title:"Error",description:"Failed to create post. Please try again.",variant:"destructive"})}}),p=[{value:"all",label:"All Posts"},{value:"General",label:"General Discussion"},{value:"Advice",label:"Seeking Advice"},{value:"Milestone",label:"Milestones & Celebrations"},{value:"Support",label:"Support & Encouragement"},{value:"Tips",label:"Tips & Resources"}],g=d.filter(y=>{const w=n==="all"||y.category===n,_=a===""||y.title.toLowerCase().includes(a.toLowerCase())||y.content.toLowerCase().includes(a.toLowerCase());return w&&_}),x=()=>{s.title.trim()&&s.content.trim()&&f.mutate(s)},b=y=>new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=y=>{switch(y){case"Advice":return"bg-blue-100 text-blue-800 border-blue-200";case"Milestone":return"bg-green-100 text-green-800 border-green-200";case"Support":return"bg-purple-100 text-purple-800 border-purple-200";case"Tips":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-neutral-100 text-neutral-800 border-neutral-200"}};return o.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsx(Nn,{href:"/",children:o.jsxs(ve,{variant:"outline",className:"hover-scale",children:[o.jsx(ja,{className:"h-4 w-4 mr-2"}),"Back to Main"]})})}),o.jsxs("div",{className:"text-center mt-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-neutral-800",children:" Community"}),o.jsx("p",{className:"text-neutral-600 max-w-2xl mx-auto",children:"Connect with other parents, share experiences, seek advice, and celebrate milestones together. You're not alone in this parenting journey."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(nf,{className:"absolute left-3 top-3 h-4 w-4 text-neutral-400"}),o.jsx(Kt,{placeholder:"Search posts...",value:a,onChange:y=>l(y.target.value),className:"pl-10"})]}),o.jsxs(vr,{value:n,onValueChange:r,children:[o.jsx(ar,{className:"sm:w-48",children:o.jsx(br,{})}),o.jsx(or,{children:p.map(y=>o.jsx(pt,{value:y.value,children:y.label},y.value))})]}),o.jsxs(yr,{open:e,onOpenChange:t,children:[o.jsx(Vl,{asChild:!0,children:o.jsxs(ve,{className:"interactive-card hover-lift button-press",children:[o.jsx(Cg,{className:"h-4 w-4 mr-2"}),"New Post"]})}),o.jsxs(rr,{className:"sm:max-w-lg",children:[o.jsx(sr,{children:o.jsx(ir,{children:"Share with the Community"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Kt,{placeholder:"Post title...",value:s.title,onChange:y=>i(w=>({...w,title:y.target.value})),className:"pr-12"}),o.jsx(Yg,{onTranscription:y=>i(w=>({...w,title:w.title+" "+y})),isInline:!0})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Xr,{placeholder:"Share your thoughts, ask for advice, or celebrate a milestone...",value:s.content,onChange:y=>i(w=>({...w,content:y.target.value})),className:"min-h-[120px] pr-12"}),o.jsx(Yg,{onTranscription:y=>i(w=>({...w,content:w.content+" "+y})),isInline:!0,className:"bottom-2"})]}),o.jsxs(vr,{value:s.category,onValueChange:y=>i(w=>({...w,category:y})),children:[o.jsx(ar,{children:o.jsx(br,{})}),o.jsx(or,{children:p.filter(y=>y.value!=="all").map(y=>o.jsx(pt,{value:y.value,children:y.label},y.value))})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"anonymous",checked:s.isAnonymous==="true",onChange:y=>i(w=>({...w,isAnonymous:y.target.checked?"true":"false"})),className:"rounded"}),o.jsx("label",{htmlFor:"anonymous",className:"text-sm text-neutral-700",children:"Post anonymously"})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(ve,{variant:"outline",onClick:()=>t(!1),disabled:f.isPending,children:"Cancel"}),o.jsx(ve,{onClick:x,disabled:!s.title.trim()||!s.content.trim()||f.isPending,children:f.isPending?"Posting...":"Share Post"})]})]})]})]})]}),o.jsx("div",{className:"space-y-4",children:h?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-primary rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-neutral-600",children:"Loading community posts..."})]}):g.length===0?o.jsx(Ye,{className:"text-center py-12",children:o.jsxs(Xe,{children:[o.jsx(Sg,{className:"h-12 w-12 text-neutral-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-neutral-800 mb-2",children:"No Posts Yet"}),o.jsx("p",{className:"text-neutral-600 mb-4",children:a||n!=="all"?"No posts match your current filters.":"Be the first to start a conversation in the community!"}),(a||n!=="all")&&o.jsx(ve,{variant:"outline",onClick:()=>{l(""),r("all")},children:"Clear Filters"})]})}):g.map(y=>o.jsxs(Ye,{className:"interactive-card hover-lift animate-pop-fade",children:[o.jsx(Mt,{className:"pb-3",children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(xt,{className:v(y.category),children:y.category}),o.jsxs("span",{className:"text-xs text-neutral-500",children:[o.jsx(rs,{className:"h-3 w-3 inline mr-1"}),b(y.createdAt)]})]}),o.jsx(Dt,{className:"text-lg text-neutral-800",children:y.title})]})})}),o.jsxs(Xe,{className:"pt-0",children:[o.jsx("p",{className:"text-neutral-700 leading-relaxed mb-4",children:y.content}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-neutral-500",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{className:"flex items-center space-x-1 hover:text-red-500 transition-colors",children:[o.jsx(Kn,{className:"h-4 w-4"}),o.jsx("span",{children:Array.isArray(y.likes)?y.likes.length:0})]}),o.jsxs("button",{className:"flex items-center space-x-1 hover:text-primary transition-colors",children:[o.jsx(Sg,{className:"h-4 w-4"}),o.jsx("span",{children:"Reply"})]})]}),o.jsx("span",{className:"text-xs",children:y.isAnonymous==="true"?"Anonymous Parent":"Community Member"})]})]})]},y.id))})]})}const Obe=bt.object({months:bt.number().min(1,"Must be at least 1 month").max(24,"Maximum 24 months")}),Fbe=bt.object({note:bt.string().min(1,"Note cannot be empty").max(500,"Note too long")}),zbe=bt.object({role:bt.enum(["user","admin","support"],{required_error:"Please select a role"})}),Bbe=bt.object({subscriptionStatus:bt.enum(["free","active","cancelled","past_due"],{required_error:"Please select a status"}),subscriptionEndDate:bt.string().optional()}),$be=bt.object({name:bt.string().min(1,"Name is required"),relationship:bt.string().min(1,"Relationship is required"),age:bt.string().optional(),parentingStyle:bt.string().optional(),parentingPhilosophy:bt.string().optional(),parentingGoals:bt.string().optional(),notes:bt.string().optional()}),Ube=bt.object({username:bt.string().min(3,"Username must be at least 3 characters"),email:bt.string().email("Please enter a valid email"),name:bt.string().min(1,"Name is required"),password:bt.string().min(8,"Password must be at least 8 characters")});function Vbe(){var Rt;const{user:e}=Yo(),{toast:t}=vs();Bs();const[n,r]=N.useState(""),[s,i]=N.useState("all"),[a,l]=N.useState("all"),[c,u]=N.useState("createdAt"),[d,h]=N.useState("desc"),[f,p]=N.useState(null),[g,x]=N.useState(null),[b,v]=N.useState(!1),[y,w]=N.useState(!1),[_,C]=N.useState(!1),[E,O]=N.useState(!1),[T,$]=N.useState(!1),[B,L]=N.useState(!1),[P,D]=N.useState(!1),[F,U]=N.useState(!1),[W,H]=N.useState(null),[R,G]=N.useState(!1),M={totalUsers:2847,activeSubscriptions:1523,monthlyRevenue:22845.5,newUsersThisMonth:312,churnRate:4.2},ae=[{id:"demo-1",username:"sarah_martinez",email:"sarah.martinez@email.com",name:"Sarah Martinez",role:"user",subscriptionStatus:"active",subscriptionEndDate:"2025-12-15",freeAccessGrantedUntil:null,createdAt:"2024-08-15T14:30:00Z",lastLoginAt:"2025-08-05T09:15:00Z",totalEntries:156,adminNotes:"Premium user since launch, very engaged with daily journaling"},{id:"demo-2",username:"michael_chen",email:"m.chen@gmail.com",name:"Michael Chen",role:"user",subscriptionStatus:"free",subscriptionEndDate:null,freeAccessGrantedUntil:"2025-10-01",createdAt:"2024-11-20T16:45:00Z",lastLoginAt:"2025-08-04T18:22:00Z",totalEntries:42,adminNotes:"Granted free access during Black Friday promotion"},{id:"demo-3",username:"jessica_thompson",email:"jess.thompson@yahoo.com",name:"Jessica Thompson",role:"user",subscriptionStatus:"cancelled",subscriptionEndDate:"2025-06-30",freeAccessGrantedUntil:null,createdAt:"2024-03-10T11:20:00Z",lastLoginAt:"2025-06-28T14:10:00Z",totalEntries:89,adminNotes:"Cancelled due to pricing concerns, potential re-engagement candidate"},{id:"demo-4",username:"david_rodriguez",email:"david.rodriguez@outlook.com",name:"David Rodriguez",role:"user",subscriptionStatus:"active",subscriptionEndDate:"2025-09-22",freeAccessGrantedUntil:null,createdAt:"2024-09-22T13:15:00Z",lastLoginAt:"2025-08-05T20:45:00Z",totalEntries:203,adminNotes:"Power user, frequently shares feedback and feature requests"},{id:"demo-5",username:"emily_wilson",email:"emily.wilson@email.com",name:"Emily Wilson",role:"user",subscriptionStatus:"paused",subscriptionEndDate:"2025-08-15",freeAccessGrantedUntil:null,createdAt:"2024-07-05T09:30:00Z",lastLoginAt:"2025-07-20T16:30:00Z",totalEntries:78,adminNotes:"Temporarily paused subscription during maternity leave"},{id:"demo-6",username:"alex_johnson",email:"alex.johnson@gmail.com",name:"Alex Johnson",role:"moderator",subscriptionStatus:"active",subscriptionEndDate:"2026-01-01",freeAccessGrantedUntil:null,createdAt:"2024-01-15T10:00:00Z",lastLoginAt:"2025-08-05T22:15:00Z",totalEntries:312,adminNotes:"Community moderator, helps with user support and content moderation"},{id:"demo-7",username:"lisa_anderson",email:"lisa.anderson@hotmail.com",name:"Lisa Anderson",role:"user",subscriptionStatus:"trial",subscriptionEndDate:"2025-08-15",freeAccessGrantedUntil:null,createdAt:"2025-08-01T12:00:00Z",lastLoginAt:"2025-08-05T08:30:00Z",totalEntries:8,adminNotes:"New trial user, showing high engagement in first week"},{id:"demo-8",username:"robert_taylor",email:"r.taylor@email.com",name:"Robert Taylor",role:"user",subscriptionStatus:"expired",subscriptionEndDate:"2025-07-01",freeAccessGrantedUntil:null,createdAt:"2024-06-01T15:45:00Z",lastLoginAt:"2025-07-01T10:15:00Z",totalEntries:67,adminNotes:"Subscription expired, hasn't renewed yet but was previously active"}],z=[{id:"demo-family-1",name:"The Martinez Family",parentCount:2,childCount:3,userCount:2,createdAt:"2024-08-15T14:30:00Z"},{id:"demo-family-2",name:"The Chen Family",parentCount:1,childCount:1,userCount:1,createdAt:"2024-11-20T16:45:00Z"},{id:"demo-family-3",name:"The Thompson Family",parentCount:2,childCount:2,userCount:1,createdAt:"2024-03-10T11:20:00Z"}];if(!e||e.username!=="esanjosechicano")return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 dark:from-neutral-900 dark:to-neutral-800 flex items-center justify-center",children:o.jsxs(Ye,{className:"w-full max-w-md",children:[o.jsxs(Mt,{children:[o.jsx(Dt,{className:"text-center",children:"Access Denied"}),o.jsx(Ml,{className:"text-center",children:"You don't have permission to access the admin dashboard."})]}),o.jsx(Xe,{className:"text-center",children:o.jsx(Nn,{href:"/",children:o.jsxs(ve,{variant:"outline",children:[o.jsx(ja,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})})]})});const{data:I,isLoading:J}=Ht({queryKey:R?["demo","stats"]:["/api/admin/stats"],queryFn:R?()=>Promise.resolve(M):async({queryKey:be})=>{const Ze=be[0],In=await fetch(Ze,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"application/json"}});if(!In.ok)throw new Error(`HTTP error! status: ${In.status}`);return In.json()},refetchInterval:R?!1:3e4,enabled:!0}),se=()=>{let be=[...ae];if(n){const Ze=n.toLowerCase();be=be.filter(In=>In.name.toLowerCase().includes(Ze)||In.email.toLowerCase().includes(Ze)||In.username.toLowerCase().includes(Ze))}return s&&s!=="all"&&(be=be.filter(Ze=>s==="active"?Ze.subscriptionStatus==="active"||Ze.freeAccessGrantedUntil&&new Date(Ze.freeAccessGrantedUntil)>new Date:Ze.subscriptionStatus===s)),a&&a!=="all"&&(be=be.filter(Ze=>Ze.role===a)),be.sort((Ze,In)=>{let bn=Ze[c],Dr=In[c];return(c==="createdAt"||c==="lastLoginAt")&&(bn=new Date(bn||0).getTime(),Dr=new Date(Dr||0).getTime()),typeof bn=="string"&&(bn=bn.toLowerCase(),Dr=(Dr==null?void 0:Dr.toLowerCase())||""),d==="desc"?Dr>bn?1:-1:bn>Dr?1:-1}),be},{data:re=[],isLoading:oe,refetch:ce,error:xe}=Ht({queryKey:R?["demo","users",n,s,a,c,d]:[`/api/admin/users?search=${encodeURIComponent(n)}&status=${s}&role=${a}&sortBy=${c}&sortOrder=${d}`],queryFn:R?()=>Promise.resolve(se()):async({queryKey:be})=>{const Ze=be[0],In=await fetch(Ze,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"application/json"}});if(!In.ok)throw new Error(`HTTP error! status: ${In.status}`);return In.json()},enabled:!0});it.useEffect(()=>{console.log("Admin Dashboard Debug:",{showDemoMode:R,usersLoading:oe,usersLength:re==null?void 0:re.length,usersError:xe,queryKey:R?["demo","users",n,s,a,c,d]:[`/api/admin/users?search=${encodeURIComponent(n)}&status=${s}&role=${a}&sortBy=${c}&sortOrder=${d}`]})},[R,oe,re,xe,n,s,a,c,d]);const{data:Pe=[],isLoading:Ce,refetch:De}=Ht({queryKey:R?["demo","families",n]:[`/api/admin/families?search=${encodeURIComponent(n)}`],queryFn:R?()=>{const be=n?z.filter(Ze=>Ze.name.toLowerCase().includes(n.toLowerCase())):z;return Promise.resolve(be)}:async({queryKey:be})=>{const Ze=be[0],In=await fetch(Ze,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"application/json"}});if(!In.ok)throw new Error(`HTTP error! status: ${In.status}`);return In.json()},enabled:!0}),Ue=On({mutationFn:async({userId:be,months:Ze})=>xr("/api/admin/grant-access","POST",{userId:be,months:Ze}),onSuccess:()=>{t({title:"Success",description:"Free access granted successfully"}),v(!1),ce()},onError:be=>{t({title:"Error",description:be.message||"Failed to grant access",variant:"destructive"})}}),ct=On({mutationFn:async({userId:be,note:Ze})=>xr("/api/admin/add-note","POST",{userId:be,note:Ze}),onSuccess:()=>{t({title:"Success",description:"Note added successfully"}),w(!1),ce()},onError:be=>{t({title:"Error",description:be.message||"Failed to add note",variant:"destructive"})}}),ke=On({mutationFn:async({userId:be,role:Ze})=>xr("/api/admin/update-user-role","PUT",{userId:be,role:Ze}),onSuccess:()=>{t({title:"Success",description:"User role updated successfully"}),C(!1),ce()},onError:be=>{t({title:"Error",description:be.message||"Failed to update role",variant:"destructive"})}}),ne=On({mutationFn:async({userId:be,subscriptionStatus:Ze,subscriptionEndDate:In})=>xr("/api/admin/update-subscription","PUT",{userId:be,subscriptionStatus:Ze,subscriptionEndDate:In}),onSuccess:()=>{t({title:"Success",description:"Subscription updated successfully"}),O(!1),ce()},onError:be=>{t({title:"Error",description:be.message||"Failed to update subscription",variant:"destructive"})}}),gt=On({mutationFn:async({familyId:be,parentData:Ze})=>xr("/api/admin/add-parent","POST",{familyId:be,parentData:Ze}),onSuccess:be=>{t({title:"Success",description:"Parent profile added successfully"}),H(be.parent.id),$(!1),L(!0),De()},onError:be=>{t({title:"Error",description:be.message||"Failed to add parent",variant:"destructive"})}}),ot=On({mutationFn:async({parentId:be,userData:Ze})=>xr("/api/admin/create-user-for-parent","POST",{parentId:be,userData:Ze}),onSuccess:()=>{t({title:"Success",description:"User account created successfully"}),L(!1),H(null),ce(),De()},onError:be=>{t({title:"Error",description:be.message||"Failed to create user account",variant:"destructive"})}}),Oe=On({mutationFn:async be=>xr(`/api/admin/delete-user/${be}`,"DELETE"),onSuccess:()=>{t({title:"Success",description:"User deleted successfully"}),D(!1),p(null),ce()},onError:be=>{t({title:"Error",description:be.message||"Failed to delete user",variant:"destructive"})}}),Ge=On({mutationFn:async({userId:be,paused:Ze})=>xr("/api/admin/pause-user","POST",{userId:be,paused:Ze}),onSuccess:(be,{paused:Ze})=>{t({title:"Success",description:`User ${Ze?"paused":"unpaused"} successfully`}),U(!1),p(null),ce()},onError:be=>{t({title:"Error",description:be.message||"Failed to update user status",variant:"destructive"})}}),et=Fi({resolver:zi(Obe),defaultValues:{months:1}}),Z=Fi({resolver:zi(Fbe),defaultValues:{note:""}}),de=Fi({resolver:zi(zbe),defaultValues:{role:"user"}}),we=Fi({resolver:zi(Bbe),defaultValues:{subscriptionStatus:"free",subscriptionEndDate:""}}),Te=Fi({resolver:zi($be),defaultValues:{name:"",relationship:"",age:"",parentingStyle:"",parentingPhilosophy:"",parentingGoals:"",notes:""}}),ie=Fi({resolver:zi(Ube),defaultValues:{username:"",email:"",name:"",password:""}}),pe=be=>{f&&Ue.mutate({userId:f.id,months:be.months})},_e=be=>{f&&ct.mutate({userId:f.id,note:be.note})},Me=be=>{f&&ke.mutate({userId:f.id,role:be.role})},Ke=be=>{f&&ne.mutate({userId:f.id,subscriptionStatus:be.subscriptionStatus,subscriptionEndDate:be.subscriptionEndDate})},ze=be=>{g&&gt.mutate({familyId:g.id,parentData:be})},Mn=be=>{W&&ot.mutate({parentId:W,userData:be})},_t=be=>be?new Date(be).toLocaleDateString():"Never",Xn=be=>{switch(be){case"active":return"default";case"cancelled":return"destructive";case"past_due":return"secondary";default:return"outline"}},an=be=>{switch(be){case"admin":return"destructive";case"support":return"secondary";default:return"outline"}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 dark:from-neutral-900 dark:to-neutral-800",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Nn,{href:"/",children:o.jsxs(ve,{variant:"outline",size:"sm",children:[o.jsx(ja,{className:"mr-2 h-4 w-4"}),"Back to App"]})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[o.jsx(Yv,{className:"h-8 w-8 text-orange-500"}),"Admin Dashboard",R&&o.jsx(xt,{variant:"default",className:"bg-blue-600 text-white",children:"Demo Mode"})]}),o.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:R?"Viewing demonstration data with fictional users and families":"Manage users, families, and subscriptions"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(ve,{onClick:()=>G(!R),variant:R?"default":"outline",className:R?"bg-blue-600 hover:bg-blue-700 text-white":"","data-testid":"button-demo-mode",children:[o.jsx(Qc,{className:"mr-2 h-4 w-4"}),R?"Exit Demo":"Demo"]}),o.jsxs(xt,{variant:"secondary",className:"px-3 py-1",children:[o.jsx(dQ,{className:"mr-2 h-4 w-4"}),"Administrator"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[o.jsxs(Ye,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Dt,{className:"text-sm font-medium",children:"Total Users"}),o.jsx(Qc,{className:"h-4 w-4 text-orange-500"})]}),o.jsx(Xe,{children:o.jsx("div",{className:"text-2xl font-bold",children:J?"...":(I==null?void 0:I.totalUsers)||0})})]}),o.jsxs(Ye,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Dt,{className:"text-sm font-medium",children:"Active Subscriptions"}),o.jsx(ji,{className:"h-4 w-4 text-green-500"})]}),o.jsx(Xe,{children:o.jsx("div",{className:"text-2xl font-bold",children:J?"...":(I==null?void 0:I.activeSubscriptions)||0})})]}),o.jsxs(Ye,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Dt,{className:"text-sm font-medium",children:"Monthly Revenue"}),o.jsx(hQ,{className:"h-4 w-4 text-green-600"})]}),o.jsx(Xe,{children:o.jsxs("div",{className:"text-2xl font-bold",children:["$",J?"...":((Rt=I==null?void 0:I.monthlyRevenue)==null?void 0:Rt.toFixed(2))||"0.00"]})})]}),o.jsxs(Ye,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Dt,{className:"text-sm font-medium",children:"New Users This Month"}),o.jsx(Kv,{className:"h-4 w-4 text-blue-500"})]}),o.jsx(Xe,{children:o.jsx("div",{className:"text-2xl font-bold",children:J?"...":(I==null?void 0:I.newUsersThisMonth)||0})})]}),o.jsxs(Ye,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Dt,{className:"text-sm font-medium",children:"Churn Rate"}),o.jsx(ji,{className:"h-4 w-4 text-red-500"})]}),o.jsx(Xe,{children:o.jsx("div",{className:"text-2xl font-bold",children:J?"...":`${(I==null?void 0:I.churnRate)||0}%`})})]})]}),o.jsxs(g4,{defaultValue:"users",className:"space-y-6",children:[o.jsxs(Ob,{className:"grid w-full grid-cols-2",children:[o.jsxs(Jc,{value:"users",className:"flex items-center gap-2",children:[o.jsx(Qc,{className:"h-4 w-4"}),"User Management"]}),o.jsxs(Jc,{value:"families",className:"flex items-center gap-2",children:[o.jsx(dC,{className:"h-4 w-4"}),"Family Management"]})]}),o.jsx(uf,{value:"users",className:"space-y-6",children:o.jsxs(Ye,{children:[o.jsxs(Mt,{children:[o.jsx(Dt,{children:"User Management"}),o.jsx(Ml,{children:"Manage user accounts, subscriptions, and permissions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mt-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(nf,{className:"absolute left-3 top-3 h-4 w-4 text-neutral-500"}),o.jsx(Kt,{placeholder:"Search users...",value:n,onChange:be=>r(be.target.value),className:"pl-10","data-testid":"input-user-search"})]}),o.jsxs(vr,{value:s,onValueChange:i,children:[o.jsx(ar,{"data-testid":"select-filter-status",children:o.jsx(br,{placeholder:"Filter by Status"})}),o.jsxs(or,{children:[o.jsx(pt,{value:"all",children:"All Status"}),o.jsx(pt,{value:"active",children:"Active"}),o.jsx(pt,{value:"free",children:"Free"}),o.jsx(pt,{value:"cancelled",children:"Cancelled"}),o.jsx(pt,{value:"past_due",children:"Past Due"})]})]}),o.jsxs(vr,{value:a,onValueChange:l,children:[o.jsx(ar,{"data-testid":"select-filter-role",children:o.jsx(br,{placeholder:"Filter by Role"})}),o.jsxs(or,{children:[o.jsx(pt,{value:"all",children:"All Roles"}),o.jsx(pt,{value:"user",children:"User"}),o.jsx(pt,{value:"admin",children:"Admin"}),o.jsx(pt,{value:"support",children:"Support"})]})]}),o.jsxs(vr,{value:c,onValueChange:u,children:[o.jsx(ar,{"data-testid":"select-sort-by",children:o.jsx(br,{placeholder:"Sort by"})}),o.jsxs(or,{children:[o.jsx(pt,{value:"createdAt",children:"Sign Up Date"}),o.jsx(pt,{value:"name",children:"Name"}),o.jsx(pt,{value:"email",children:"Email"}),o.jsx(pt,{value:"subscriptionStatus",children:"Status"}),o.jsx(pt,{value:"totalEntries",children:"Total Entries"}),o.jsx(pt,{value:"lastLoginAt",children:"Last Login"})]})]}),o.jsxs(vr,{value:d,onValueChange:h,children:[o.jsx(ar,{"data-testid":"select-sort-order",children:o.jsx(br,{placeholder:"Order"})}),o.jsxs(or,{children:[o.jsx(pt,{value:"desc",children:"Newest First"}),o.jsx(pt,{value:"asc",children:"Oldest First"})]})]})]})]}),o.jsx(Xe,{children:oe?o.jsx("div",{className:"text-center py-8",children:"Loading users..."}):o.jsxs("div",{className:"space-y-4",children:[re.map(be=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"font-medium",children:be.name}),o.jsx(xt,{variant:an(be.role),children:be.role}),be.freeAccessGrantedUntil&&new Date(be.freeAccessGrantedUntil)>new Date&&o.jsx(xt,{variant:"secondary",children:"Free Access"})]}),o.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["@",be.username,"  ",be.email]}),o.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-neutral-500",children:[o.jsxs("span",{children:["Joined: ",_t(be.createdAt)]}),o.jsxs("span",{children:["Last Login: ",_t(be.lastLoginAt)]}),o.jsxs("span",{children:["Entries: ",be.totalEntries]}),o.jsx(xt,{variant:Xn(be.subscriptionStatus),children:be.subscriptionStatus})]}),be.adminNotes&&o.jsxs("p",{className:"text-xs text-neutral-500 mt-1 bg-neutral-100 dark:bg-neutral-800 p-2 rounded",children:["Admin Notes: ",be.adminNotes.split(`
`).pop()]})]}),o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:R?o.jsx("div",{className:"text-sm text-neutral-500 italic bg-neutral-100 dark:bg-neutral-800 px-3 py-1 rounded",children:"Demo Mode - Actions Disabled"}):o.jsxs(o.Fragment,{children:[o.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>{p(be),D(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50","data-testid":`button-delete-user-${be.id}`,children:[o.jsx(Gv,{className:"h-4 w-4 mr-1"}),"Delete"]}),o.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>{p(be),U(!0)},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50","data-testid":`button-pause-user-${be.id}`,children:[o.jsx(iv,{className:"h-4 w-4 mr-1"}),"Pause"]}),o.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>{p(be),v(!0)},"data-testid":`button-grant-access-${be.id}`,children:[o.jsx(Cg,{className:"h-4 w-4 mr-1"}),"Grant Access"]}),o.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>{p(be),w(!0)},"data-testid":`button-add-note-${be.id}`,children:[o.jsx(CR,{className:"h-4 w-4 mr-1"}),"Add Note"]}),o.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>{p(be),de.setValue("role",be.role),C(!0)},"data-testid":`button-update-role-${be.id}`,children:[o.jsx(Yv,{className:"h-4 w-4 mr-1"}),"Update Role"]}),o.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>{p(be),we.setValue("subscriptionStatus",be.subscriptionStatus),we.setValue("subscriptionEndDate",be.subscriptionEndDate?new Date(be.subscriptionEndDate).toISOString().split("T")[0]:""),O(!0)},"data-testid":`button-update-subscription-${be.id}`,children:[o.jsx(rs,{className:"h-4 w-4 mr-1"}),"Update Subscription"]})]})})]},be.id)),re.length===0&&o.jsx("div",{className:"text-center py-8 text-neutral-500",children:"No users found matching your search criteria."})]})})]})}),o.jsx(uf,{value:"families",className:"space-y-6",children:o.jsxs(Ye,{children:[o.jsxs(Mt,{children:[o.jsx(Dt,{children:"Family Management"}),o.jsx(Ml,{children:"Manage family structures and add additional parent profiles"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(nf,{className:"absolute left-3 top-3 h-4 w-4 text-neutral-500"}),o.jsx(Kt,{placeholder:"Search families by name...",value:n,onChange:be=>r(be.target.value),className:"pl-10"})]})})]}),o.jsx(Xe,{children:Ce?o.jsx("div",{className:"text-center py-8",children:"Loading families..."}):o.jsxs("div",{className:"space-y-4",children:[Pe.map(be=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(dC,{className:"h-5 w-5 text-orange-500"}),o.jsx("h3",{className:"font-medium",children:be.name})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-neutral-500",children:[o.jsxs("span",{children:["Created: ",_t(be.createdAt)]}),o.jsxs("span",{children:["Parents: ",be.parentCount]}),o.jsxs("span",{children:["Children: ",be.childCount]}),o.jsxs("span",{children:["Users: ",be.userCount]})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>{x(be),Te.reset(),$(!0)},disabled:be.parentCount>=6,children:[o.jsx(Cg,{className:"mr-2 h-4 w-4"}),"Add Parent ",be.parentCount>=6&&"(Max Reached)"]})})]},be.id)),Pe.length===0&&o.jsx("div",{className:"text-center py-8 text-neutral-500",children:"No families found matching your search criteria."})]})})]})})]}),o.jsx(yr,{open:b,onOpenChange:v,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(ir,{children:"Grant Free Access"}),o.jsxs(ps,{children:["Grant free premium access to ",f==null?void 0:f.name," for a specified period."]})]}),o.jsx(Bi,{...et,children:o.jsxs("form",{onSubmit:et.handleSubmit(pe),className:"space-y-4",children:[o.jsx(Wt,{control:et.control,name:"months",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Number of Months"}),o.jsx($t,{children:o.jsx(Kt,{type:"number",min:"1",max:"24",...be,onChange:Ze=>be.onChange(parseInt(Ze.target.value)||1)})}),o.jsx(Ut,{})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ve,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),o.jsx(ve,{type:"submit",disabled:Ue.isPending,children:Ue.isPending?"Granting...":"Grant Access"})]})]})})]})}),o.jsx(yr,{open:y,onOpenChange:w,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(ir,{children:"Add Admin Note"}),o.jsxs(ps,{children:["Add a note for ",f==null?void 0:f.name," that will be visible to administrators."]})]}),o.jsx(Bi,{...Z,children:o.jsxs("form",{onSubmit:Z.handleSubmit(_e),className:"space-y-4",children:[o.jsx(Wt,{control:Z.control,name:"note",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Note"}),o.jsx($t,{children:o.jsx(Xr,{placeholder:"Enter admin note...",...be})}),o.jsx(Ut,{})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ve,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancel"}),o.jsx(ve,{type:"submit",disabled:ct.isPending,children:ct.isPending?"Adding...":"Add Note"})]})]})})]})}),o.jsx(yr,{open:_,onOpenChange:C,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(ir,{children:"Update User Role"}),o.jsxs(ps,{children:["Change the role for ",f==null?void 0:f.name,"."]})]}),o.jsx(Bi,{...de,children:o.jsxs("form",{onSubmit:de.handleSubmit(Me),className:"space-y-4",children:[o.jsx(Wt,{control:de.control,name:"role",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Role"}),o.jsxs(vr,{onValueChange:be.onChange,defaultValue:be.value,children:[o.jsx($t,{children:o.jsx(ar,{children:o.jsx(br,{placeholder:"Select a role"})})}),o.jsxs(or,{children:[o.jsx(pt,{value:"user",children:"User"}),o.jsx(pt,{value:"support",children:"Support"}),o.jsx(pt,{value:"admin",children:"Admin"})]})]}),o.jsx(Ut,{})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ve,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Cancel"}),o.jsx(ve,{type:"submit",disabled:ke.isPending,children:ke.isPending?"Updating...":"Update Role"})]})]})})]})}),o.jsx(yr,{open:E,onOpenChange:O,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(ir,{children:"Update Subscription"}),o.jsxs(ps,{children:["Update subscription status for ",f==null?void 0:f.name,"."]})]}),o.jsx(Bi,{...we,children:o.jsxs("form",{onSubmit:we.handleSubmit(Ke),className:"space-y-4",children:[o.jsx(Wt,{control:we.control,name:"subscriptionStatus",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Subscription Status"}),o.jsxs(vr,{onValueChange:be.onChange,defaultValue:be.value,children:[o.jsx($t,{children:o.jsx(ar,{children:o.jsx(br,{placeholder:"Select status"})})}),o.jsxs(or,{children:[o.jsx(pt,{value:"free",children:"Free"}),o.jsx(pt,{value:"active",children:"Active"}),o.jsx(pt,{value:"cancelled",children:"Cancelled"}),o.jsx(pt,{value:"past_due",children:"Past Due"})]})]}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:we.control,name:"subscriptionEndDate",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Subscription End Date (Optional)"}),o.jsx($t,{children:o.jsx(Kt,{type:"date",...be})}),o.jsx(Ut,{})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ve,{type:"button",variant:"outline",onClick:()=>O(!1),children:"Cancel"}),o.jsx(ve,{type:"submit",disabled:ne.isPending,children:ne.isPending?"Updating...":"Update Subscription"})]})]})})]})}),o.jsx(yr,{open:T,onOpenChange:$,children:o.jsxs(rr,{className:"max-w-2xl",children:[o.jsxs(sr,{children:[o.jsx(ir,{children:"Add Parent to Family"}),o.jsxs(ps,{children:["Add a new parent profile to ",g==null?void 0:g.name,". After creating the profile, you'll be able to create a user account for them."]})]}),o.jsx(Bi,{...Te,children:o.jsxs("form",{onSubmit:Te.handleSubmit(ze),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Wt,{control:Te.control,name:"name",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Name *"}),o.jsx($t,{children:o.jsx(Kt,{placeholder:"Enter parent's name",...be})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:Te.control,name:"relationship",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Relationship *"}),o.jsxs(vr,{onValueChange:be.onChange,defaultValue:be.value,children:[o.jsx($t,{children:o.jsx(ar,{children:o.jsx(br,{placeholder:"Select relationship"})})}),o.jsxs(or,{children:[o.jsx(pt,{value:"Partner",children:"Partner"}),o.jsx(pt,{value:"Co-parent",children:"Co-parent"}),o.jsx(pt,{value:"Step-parent",children:"Step-parent"}),o.jsx(pt,{value:"Guardian",children:"Guardian"}),o.jsx(pt,{value:"Grandparent",children:"Grandparent"}),o.jsx(pt,{value:"Other",children:"Other"})]})]}),o.jsx(Ut,{})]})})]}),o.jsx(Wt,{control:Te.control,name:"age",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Age"}),o.jsx($t,{children:o.jsx(Kt,{placeholder:"Enter age (optional)",...be})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:Te.control,name:"parentingStyle",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Parenting Style"}),o.jsx($t,{children:o.jsx(Kt,{placeholder:"e.g., Authoritative, Permissive, etc.",...be})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:Te.control,name:"parentingPhilosophy",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Parenting Philosophy"}),o.jsx($t,{children:o.jsx(Xr,{placeholder:"Describe their approach to parenting...",...be})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:Te.control,name:"parentingGoals",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Parenting Goals"}),o.jsx($t,{children:o.jsx(Xr,{placeholder:"What they hope to achieve as a parent...",...be})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:Te.control,name:"notes",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Additional Notes"}),o.jsx($t,{children:o.jsx(Xr,{placeholder:"Any additional notes...",...be})}),o.jsx(Ut,{})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ve,{type:"button",variant:"outline",onClick:()=>$(!1),children:"Cancel"}),o.jsx(ve,{type:"submit",disabled:gt.isPending,children:gt.isPending?"Adding...":"Add Parent"})]})]})})]})}),o.jsx(yr,{open:B,onOpenChange:L,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(ir,{children:"Create User Account"}),o.jsx(ps,{children:"Create a user account for the newly added parent profile."})]}),o.jsx(Bi,{...ie,children:o.jsxs("form",{onSubmit:ie.handleSubmit(Mn),className:"space-y-4",children:[o.jsx(Wt,{control:ie.control,name:"username",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Username *"}),o.jsx($t,{children:o.jsx(Kt,{placeholder:"Enter username",...be})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:ie.control,name:"email",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Email *"}),o.jsx($t,{children:o.jsx(Kt,{placeholder:"Enter email address",type:"email",...be})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:ie.control,name:"name",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Full Name *"}),o.jsx($t,{children:o.jsx(Kt,{placeholder:"Enter full name",...be})}),o.jsx(Ut,{})]})}),o.jsx(Wt,{control:ie.control,name:"password",render:({field:be})=>o.jsxs(Bt,{children:[o.jsx(It,{children:"Password *"}),o.jsx($t,{children:o.jsx(Kt,{placeholder:"Enter password",type:"password",...be})}),o.jsx(Ut,{})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ve,{type:"button",variant:"outline",onClick:()=>L(!1),children:"Skip for Now"}),o.jsx(ve,{type:"submit",disabled:ot.isPending,children:ot.isPending?"Creating...":"Create Account"})]})]})})]})}),o.jsx(yr,{open:P,onOpenChange:D,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsxs(ir,{className:"text-red-600 flex items-center gap-2",children:[o.jsx(Gv,{className:"h-5 w-5"}),"Delete User Account"]}),o.jsx(ps,{children:"This action cannot be undone. This will permanently delete the user account and all associated data."})]}),f&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 border rounded-lg bg-red-50 border-red-200",children:[o.jsx("p",{className:"font-medium",children:"User to delete:"}),o.jsxs("p",{className:"text-sm",children:[f.name," (@",f.username,")"]}),o.jsx("p",{className:"text-sm text-neutral-600",children:f.email})]}),o.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[o.jsx(ve,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),o.jsx(ve,{variant:"destructive",onClick:()=>Oe.mutate(f.id),disabled:Oe.isPending,"data-testid":"button-confirm-delete-user",children:Oe.isPending?"Deleting...":"Delete User"})]})]})]})}),o.jsx(yr,{open:F,onOpenChange:U,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsxs(ir,{className:"text-orange-600 flex items-center gap-2",children:[o.jsx(iv,{className:"h-5 w-5"}),"Pause/Unpause User Access"]}),o.jsx(ps,{children:"Temporarily suspend or restore user access to the application."})]}),f&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 border rounded-lg bg-orange-50 border-orange-200",children:[o.jsx("p",{className:"font-medium",children:"User to modify:"}),o.jsxs("p",{className:"text-sm",children:[f.name," (@",f.username,")"]}),o.jsx("p",{className:"text-sm text-neutral-600",children:f.email})]}),o.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[o.jsx(ve,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),o.jsxs(ve,{variant:"default",onClick:()=>Ge.mutate({userId:f.id,paused:!1}),disabled:Ge.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":"button-unpause-user",children:[o.jsx(Yj,{className:"h-4 w-4 mr-1"}),Ge.isPending?"Unpausing...":"Unpause User"]}),o.jsxs(ve,{variant:"default",onClick:()=>Ge.mutate({userId:f.id,paused:!0}),disabled:Ge.isPending,className:"bg-orange-600 hover:bg-orange-700","data-testid":"button-pause-user",children:[o.jsx(iv,{className:"h-4 w-4 mr-1"}),Ge.isPending?"Pausing...":"Pause User"]})]})]})]})})]})})}var Mq={exports:{}},qbe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wbe=qbe,Hbe=Wbe;function Lq(){}function Iq(){}Iq.resetWarningCache=Lq;var Ybe=function(){function e(r,s,i,a,l,c){if(c!==Hbe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Iq,resetWarningCache:Lq};return n.PropTypes=n,n};Mq.exports=Ybe();var Gbe=Mq.exports;const Zn=h0(Gbe);function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(r){Dq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yv(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yv=function(t){return typeof t}:yv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}function Dq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kbe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Qbe(e,t){if(e==null)return{};var n=Kbe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rq(e,t){return Xbe(e)||Jbe(e,t)||Zbe(e,t)||e2e()}function Xbe(e){if(Array.isArray(e))return e}function Jbe(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],s=!0,i=!1,a,l;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function Zbe(e,t){if(e){if(typeof e=="string")return uE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uE(e,t)}}function uE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mi=function(t,n,r){var s=!!r,i=it.useRef(r);it.useEffect(function(){i.current=r},[r]),it.useEffect(function(){if(!s||!t)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return t.on(n,a),function(){t.off(n,a)}},[s,n,t,i])},nS=function(t){var n=it.useRef(t);return it.useEffect(function(){n.current=t},[t]),n.current},Zf=function(t){return t!==null&&yv(t)==="object"},t2e=function(t){return Zf(t)&&typeof t.then=="function"},n2e=function(t){return Zf(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},dE="[object Object]",r2e=function e(t,n){if(!Zf(t)||!Zf(n))return t===n;var r=Array.isArray(t),s=Array.isArray(n);if(r!==s)return!1;var i=Object.prototype.toString.call(t)===dE,a=Object.prototype.toString.call(n)===dE;if(i!==a)return!1;if(!i&&!r)return t===n;var l=Object.keys(t),c=Object.keys(n);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var h=0;h<c.length;h+=1)u[c[h]]=!0;var f=Object.keys(u);if(f.length!==l.length)return!1;var p=t,g=n,x=function(v){return e(p[v],g[v])};return f.every(x)},Oq=function(t,n,r){return Zf(t)?Object.keys(t).reduce(function(s,i){var a=!Zf(n)||!r2e(t[i],n[i]);return r.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):a?cE(cE({},s||{}),{},Dq({},i,t[i])):s},null):null},Fq="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",hE=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fq;if(t===null||n2e(t))return t;throw new Error(n)},s2e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fq;if(t2e(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return hE(s,n)})};var r=hE(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},i2e=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.9.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},e2=it.createContext(null);e2.displayName="ElementsContext";var zq=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},Bq=function(t){var n=t.stripe,r=t.options,s=t.children,i=it.useMemo(function(){return s2e(n)},[n]),a=it.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),l=Rq(a,2),c=l[0],u=l[1];it.useEffect(function(){var f=!0,p=function(x){u(function(b){return b.stripe?b:{stripe:x,elements:x.elements(r)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(g){g&&f&&p(g)}):i.tag==="sync"&&!c.stripe&&p(i.stripe),function(){f=!1}},[i,c,r]);var d=nS(n);it.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=nS(r);return it.useEffect(function(){if(c.elements){var f=Oq(r,h,["clientSecret","fonts"]);f&&c.elements.update(f)}},[r,h,c.elements]),it.useEffect(function(){i2e(c.stripe)},[c.stripe]),it.createElement(e2.Provider,{value:c},s)};Bq.propTypes={stripe:Zn.any,options:Zn.object};var a2e=function(t){var n=it.useContext(e2);return zq(n,t)},o2e=function(){var t=a2e("calls useElements()"),n=t.elements;return n};Zn.func.isRequired;var $q=it.createContext(null);$q.displayName="CheckoutSdkContext";var l2e=function(t,n){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return t},c2e=it.createContext(null);c2e.displayName="CheckoutContext";Zn.any,Zn.shape({fetchClientSecret:Zn.func.isRequired,elementsOptions:Zn.object}).isRequired;var rS=function(t){var n=it.useContext($q),r=it.useContext(e2);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n?l2e(n,t):zq(r,t)},u2e=["mode"],d2e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Lr=function(t,n){var r="".concat(d2e(t),"Element"),s=function(c){var u=c.id,d=c.className,h=c.options,f=h===void 0?{}:h,p=c.onBlur,g=c.onFocus,x=c.onReady,b=c.onChange,v=c.onEscape,y=c.onClick,w=c.onLoadError,_=c.onLoaderStart,C=c.onNetworksChange,E=c.onConfirm,O=c.onCancel,T=c.onShippingAddressChange,$=c.onShippingRateChange,B=rS("mounts <".concat(r,">")),L="elements"in B?B.elements:null,P="checkoutSdk"in B?B.checkoutSdk:null,D=it.useState(null),F=Rq(D,2),U=F[0],W=F[1],H=it.useRef(null),R=it.useRef(null);Mi(U,"blur",p),Mi(U,"focus",g),Mi(U,"escape",v),Mi(U,"click",y),Mi(U,"loaderror",w),Mi(U,"loaderstart",_),Mi(U,"networkschange",C),Mi(U,"confirm",E),Mi(U,"cancel",O),Mi(U,"shippingaddresschange",T),Mi(U,"shippingratechange",$),Mi(U,"change",b);var G;x&&(t==="expressCheckout"?G=x:G=function(){x(U)}),Mi(U,"ready",G),it.useLayoutEffect(function(){if(H.current===null&&R.current!==null&&(L||P)){var ae=null;if(P)switch(t){case"payment":ae=P.createPaymentElement(f);break;case"address":if("mode"in f){var z=f.mode,I=Qbe(f,u2e);if(z==="shipping")ae=P.createShippingAddressElement(I);else if(z==="billing")ae=P.createBillingAddressElement(I);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ae=P.createExpressCheckoutElement(f);break;case"currencySelector":ae=P.createCurrencySelectorElement();break;case"taxId":ae=P.createTaxIdElement(f);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else L&&(ae=L.create(t,f));H.current=ae,W(ae),ae&&ae.mount(R.current)}},[L,P,f]);var M=nS(f);return it.useEffect(function(){if(H.current){var ae=Oq(f,M,["paymentRequest"]);ae&&"update"in H.current&&H.current.update(ae)}},[f,M]),it.useLayoutEffect(function(){return function(){if(H.current&&typeof H.current.destroy=="function")try{H.current.destroy(),H.current=null}catch{}}},[]),it.createElement("div",{id:u,className:d,ref:R})},i=function(c){rS("mounts <".concat(r,">"));var u=c.id,d=c.className;return it.createElement("div",{id:u,className:d})},a=n?i:s;return a.propTypes={id:Zn.string,className:Zn.string,onChange:Zn.func,onBlur:Zn.func,onFocus:Zn.func,onReady:Zn.func,onEscape:Zn.func,onClick:Zn.func,onLoadError:Zn.func,onLoaderStart:Zn.func,onNetworksChange:Zn.func,onConfirm:Zn.func,onCancel:Zn.func,onShippingAddressChange:Zn.func,onShippingRateChange:Zn.func,options:Zn.object},a.displayName=r,a.__elementType=t,a},Ir=typeof window>"u",h2e=it.createContext(null);h2e.displayName="EmbeddedCheckoutProviderContext";var f2e=function(){var t=rS("calls useStripe()"),n=t.stripe;return n};Lr("auBankAccount",Ir);Lr("card",Ir);Lr("cardNumber",Ir);Lr("cardExpiry",Ir);Lr("cardCvc",Ir);Lr("fpxBank",Ir);Lr("iban",Ir);Lr("idealBank",Ir);Lr("p24Bank",Ir);Lr("epsBank",Ir);var p2e=Lr("payment",Ir);Lr("expressCheckout",Ir);Lr("currencySelector",Ir);Lr("paymentRequestButton",Ir);Lr("linkAuthentication",Ir);Lr("address",Ir);Lr("shippingAddress",Ir);Lr("paymentMethodMessaging",Ir);Lr("affirmMessage",Ir);Lr("afterpayClearpayMessage",Ir);Lr("taxId",Ir);var Uq="basil",m2e=function(t){return t===3?"v3":t},Vq="https://js.stripe.com",g2e="".concat(Vq,"/").concat(Uq,"/stripe.js"),x2e=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,y2e=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,fE="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",v2e=function(t){return x2e.test(t)||y2e.test(t)},b2e=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Vq,'"]')),n=0;n<t.length;n++){var r=t[n];if(v2e(r.src))return r}return null},pE=function(t){var n="",r=document.createElement("script");r.src="".concat(g2e).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},w2e=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:n})},fm=null,By=null,$y=null,j2e=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},N2e=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},S2e=function(t){return fm!==null?fm:(fm=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(fE),window.Stripe){n(window.Stripe);return}try{var s=b2e();if(s&&t)console.warn(fE);else if(!s)s=pE(t);else if(s&&$y!==null&&By!==null){var i;s.removeEventListener("load",$y),s.removeEventListener("error",By),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=pE(t)}$y=N2e(n,r),By=j2e(r),s.addEventListener("load",$y),s.addEventListener("error",By)}catch(a){r(a);return}}),fm.catch(function(n){return fm=null,Promise.reject(n)}))},k2e=function(t,n,r){if(t===null)return null;var s=n[0],i=s.match(/^pk_test/),a=m2e(t.version),l=Uq;i&&a!==l&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,n);return w2e(c,r),c},pm,qq=!1,Wq=function(){return pm||(pm=S2e(null).catch(function(t){return pm=null,Promise.reject(t)}),pm)};Promise.resolve().then(function(){return Wq()}).catch(function(e){qq||console.warn(e)});var _2e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];qq=!0;var s=Date.now();return Wq().then(function(i){return k2e(i,n,s)})};const C2e=_2e("pk_test_placeholder"),A2e=()=>{const e=f2e(),t=o2e(),{toast:n}=vs(),[r,s]=N.useState(!1),i=async a=>{if(a.preventDefault(),!e||!t)return;s(!0);const{error:l}=await e.confirmPayment({elements:t,confirmParams:{return_url:window.location.origin}});n(l?{title:"Payment Failed",description:l.message,variant:"destructive"}:{title:"Payment Successful",description:"Thank you for your purchase!"}),s(!1)};return o.jsxs(Ye,{className:"w-full max-w-md mx-auto",children:[o.jsx(Mt,{children:o.jsx(Dt,{children:"Complete Your Payment"})}),o.jsx(Xe,{children:o.jsxs("form",{onSubmit:i,className:"space-y-4",children:[o.jsx(p2e,{}),o.jsx(ve,{type:"submit",disabled:!e||r,className:"w-full",children:r?"Processing...":"Pay Now"})]})})]})};function P2e(){const[e,t]=N.useState(""),[n,r]=N.useState("");return N.useEffect(()=>{xr("POST","/api/create-payment-intent",{amount:9.99}).then(s=>{if(!s.ok)throw new Error("Payment setup failed");return s.json()}).then(s=>{s.clientSecret?t(s.clientSecret):r("Stripe not configured. Please set STRIPE_SECRET_KEY and VITE_STRIPE_PUBLIC_KEY.")}).catch(s=>{console.error("Payment setup error:",s),r("Stripe not configured. Please set STRIPE_SECRET_KEY and VITE_STRIPE_PUBLIC_KEY.")})},[]),n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(Ye,{className:"w-full max-w-md mx-auto",children:o.jsxs(Xe,{className:"p-6 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment Setup Required"}),o.jsx("p",{className:"text-gray-600",children:n})]})})}):e?o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:o.jsx(Bq,{stripe:C2e,options:{clientSecret:e},children:o.jsx(A2e,{})})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})})}function E2e({amount:e,currency:t,intent:n}){const r=async()=>({orderId:(await(await fetch("/paypal/order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:e,currency:t,intent:n})})).json()).id}),s=async u=>await(await fetch(`/paypal/order/${u}/capture`,{method:"POST",headers:{"Content-Type":"application/json"}})).json(),i=async u=>{console.log("onApprove",u);const d=await s(u.orderId);console.log("Capture result",d)},a=async u=>{console.log("onCancel",u)},l=async u=>{console.log("onError",u)};N.useEffect(()=>{(async()=>{try{if(window.paypal)await c();else{const d=document.createElement("script");d.src="https://www.paypal.com/web-sdk/v6/core",d.async=!0,d.onload=()=>c(),document.body.appendChild(d)}}catch(d){console.error("Failed to load PayPal SDK",d)}})()},[]);const c=async()=>{try{const u=await fetch("/paypal/setup").then(g=>g.json()).then(g=>g.clientToken),h=(await window.paypal.createInstance({clientToken:u,components:["paypal-payments"]})).createPayPalOneTimePaymentSession({onApprove:i,onCancel:a,onError:l}),f=async()=>{try{const g=r();await h.start({paymentFlow:"auto"},g)}catch(g){console.error(g)}},p=document.getElementById("paypal-button");return p&&p.addEventListener("click",f),()=>{p&&p.removeEventListener("click",f)}}catch(u){console.error(u)}};return o.jsx("paypal-button",{id:"paypal-button"})}function T2e(){const[,e]=v0(),[t,n]=N.useState(null),r=[{id:"basic",name:"Basic Plan",price:9.99,description:"Perfect for getting started with parenting insights",features:["Unlimited journal entries","Basic AI mood analysis","Weekly progress reports","Mobile-friendly access"]},{id:"premium",name:"Premium Plan",price:19.99,description:"Advanced features for comprehensive parenting support",features:["Everything in Basic","Advanced AI insights & recommendations","Child development tracking","Priority customer support","Detailed analytics dashboard"],popular:!0},{id:"family",name:"Family Plan",price:29.99,description:"Complete solution for the whole family",features:["Everything in Premium","Multiple parent profiles","Family milestone tracking","Community access","Expert consultation sessions"]}],s=i=>{n(i.id),e("/checkout")};return o.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Parenting Journey Plan"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Unlock personalized insights, AI-powered analysis, and comprehensive support for your parenting journey."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:r.map(i=>o.jsxs(Ye,{className:`relative ${i.popular?"ring-2 ring-blue-500":""}`,children:[i.popular&&o.jsx(xt,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500",children:"Most Popular"}),o.jsxs(Mt,{children:[o.jsxs(Dt,{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:i.name}),o.jsxs("div",{className:"text-4xl font-bold text-blue-600 mt-2",children:["$",i.price,o.jsx("span",{className:"text-lg text-gray-500",children:"/month"})]})]}),o.jsx("p",{className:"text-center text-gray-600",children:i.description})]}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsx("ul",{className:"space-y-3",children:i.features.map((a,l)=>o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"text-green-500 mr-2",children:""}),a]},l))}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ve,{onClick:()=>s(i),className:"w-full",variant:i.popular?"default":"outline",children:"Pay with Stripe"}),o.jsx("div",{className:"text-center text-sm text-gray-500 mb-2",children:"or"}),o.jsx("div",{className:"flex justify-center",children:o.jsx(E2e,{amount:i.price.toString(),currency:"USD",intent:"CAPTURE"})})]})]})]},i.id))}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment Configuration Status"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded",children:[o.jsx("h4",{className:"font-medium text-yellow-800",children:"Stripe Integration"}),o.jsx("p",{className:"text-yellow-700",children:"Ready for configuration. Set STRIPE_SECRET_KEY and VITE_STRIPE_PUBLIC_KEY environment variables to enable payments."})]}),o.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded",children:[o.jsx("h4",{className:"font-medium text-yellow-800",children:"PayPal Integration"}),o.jsx("p",{className:"text-yellow-700",children:"Ready for configuration. Set PAYPAL_CLIENT_ID and PAYPAL_CLIENT_SECRET environment variables to enable payments."})]})]})]}),o.jsx("div",{className:"text-sm text-gray-500",children:o.jsx("p",{children:"This is a demo implementation showing both Stripe and PayPal payment options. Your pricing model can be easily configured through environment variables or the admin dashboard once payment credentials are provided."})})]})]})})}const M2e={"self-care":Kn,mindfulness:rn,connection:Kn,reflection:Na,breathing:jw,movement:Vi,gratitude:Kn,rest:jw,"stress-relief":Kn,"quick-reset":jw},L2e={"self-care":"",mindfulness:"",connection:"",reflection:"",breathing:"",movement:"",gratitude:"",rest:"","stress-relief":"","quick-reset":""},I2e={"self-care":"bg-rose-100 text-rose-800 border-rose-200",mindfulness:"bg-purple-100 text-purple-800 border-purple-200",connection:"bg-blue-100 text-blue-800 border-blue-200",reflection:"bg-amber-100 text-amber-800 border-amber-200",breathing:"bg-teal-100 text-teal-800 border-teal-200",movement:"bg-green-100 text-green-800 border-green-200",gratitude:"bg-pink-100 text-pink-800 border-pink-200",rest:"bg-indigo-100 text-indigo-800 border-indigo-200","stress-relief":"bg-emerald-100 text-emerald-800 border-emerald-200","quick-reset":"bg-cyan-100 text-cyan-800 border-cyan-200"};function D2e(){const[e,t]=N.useState(!1),[n,r]=N.useState(null),[s,i]=N.useState(null),a=Bs(),{data:l=[],isLoading:c}=Ht({queryKey:["/api/wellness/suggestions"],queryFn:async()=>(await xr("GET","/api/wellness/suggestions?status=suggested")).json()}),{data:u}=Ht({queryKey:["/api/wellness/progress"],queryFn:async()=>(await xr("GET","/api/wellness/progress")).json()}),d=On({mutationFn:async()=>(await xr("POST","/api/wellness/generate-suggestions")).json(),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/wellness/suggestions"]})}}),h=On({mutationFn:async({id:w,points:_,badge:C})=>(await xr("PATCH",`/api/wellness/suggestions/${w}/complete`,{pointsAwarded:_,badgeAwarded:C})).json(),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/wellness/suggestions"]}),a.invalidateQueries({queryKey:["/api/wellness/progress"]})}}),f=On({mutationFn:async w=>(await xr("PATCH",`/api/wellness/suggestions/${w}/dismiss`)).json(),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/wellness/suggestions"]})}}),p=w=>{const _=v(w),C=y(w,u);h.mutate({id:w.id,points:_,badge:C}),r(w.id)},g=(w,_)=>{i(w),r(null),console.log(`User feedback for ${w}: ${_}`)},x=w=>{f.mutate(w)},b=()=>{d.mutate()},v=w=>({"self-care":15,mindfulness:20,connection:10,reflection:12,breathing:8,movement:10,gratitude:5,rest:15})[w.category]||10,y=(w,_)=>{if(!_)return;const C=_.completedSuggestions.length+1,E=_.currentStreak+1;if(C===1)return"First Steps";if(C===5)return"Wellness Explorer";if(C===10)return"Self-Care Champion";if(E===3)return"Consistency Builder";if(E===7)return"Weekly Warrior";if(w.category==="mindfulness"&&C%3===0)return"Mindful Moment"};return c?o.jsxs(Ye,{className:"w-full max-w-2xl mx-auto",children:[o.jsx(Mt,{children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rn,{className:"h-5 w-5 text-purple-600 animate-pulse"}),o.jsx(Dt,{children:"Wellness Suggestions"})]})}),o.jsx(Xe,{children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]}):o.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[u&&o.jsxs(Ye,{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:[o.jsx(Mt,{className:"cursor-pointer",onClick:()=>t(!e),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Vi,{className:"h-5 w-5 text-purple-600"}),o.jsx(Dt,{className:"text-lg",children:"Wellness Journey"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(xt,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:[u.totalPoints," points"]}),o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsxs(xt,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[u.currentStreak," day streak"]}),o.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"tracking your consistency in caring for yourself"})]})]})]})}),e&&o.jsxs(Xe,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:u.badges.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Badges Earned"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.longestStreak}),o.jsx("div",{className:"text-sm text-gray-600",children:"Longest Streak"})]})]}),u.badges.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Recent Badges:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:u.badges.slice(-3).map((w,_)=>o.jsxs(xt,{variant:"outline",className:"bg-yellow-50 text-yellow-800 border-yellow-200",children:[" ",w]},_))})]})]})]}),o.jsxs(Ye,{children:[o.jsxs(Mt,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rn,{className:"h-5 w-5 text-purple-600"}),o.jsx(Dt,{children:"Gentle Wellness Suggestions"})]}),o.jsx(ve,{onClick:b,disabled:d.isPending,variant:"outline",size:"sm",children:d.isPending?"Generating...":"New Suggestions"})]}),o.jsx(Ml,{children:"Personalized suggestions to support your parenting wellness journey"})]}),o.jsx(Xe,{children:l.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(rn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"No wellness suggestions available right now."}),o.jsx(ve,{onClick:b,disabled:d.isPending,children:d.isPending?"Generating...":"Get Personalized Suggestions"})]}):o.jsx("div",{className:"space-y-4",children:l.map(w=>{const _=M2e[w.category]||Na,C=I2e[w.category]||"bg-gray-100 text-gray-800 border-gray-200";return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(_,{className:"h-5 w-5 text-purple-600"}),o.jsxs(xt,{variant:"outline",className:Je("text-xs flex items-center space-x-1",C),children:[o.jsx("span",{children:L2e[w.category]||""}),o.jsx("span",{children:w.category})]})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[v(w)," points"]})]}),o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:w.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:w.description}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsxs(ve,{onClick:()=>x(w.id),disabled:f.isPending,variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700",children:[o.jsx(Kr,{className:"h-4 w-4 mr-1"}),"Not Now"]}),o.jsxs(ve,{onClick:()=>p(w),disabled:h.isPending,size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[o.jsx(Of,{className:"h-4 w-4 mr-1"}),"Done"]})]}),n===w.id&&o.jsxs("div",{className:"mt-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[o.jsx("h5",{className:"font-medium text-purple-900 mb-2",children:"How do you feel now?"}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsxs(ve,{onClick:()=>g(w.id,"better"),variant:"outline",size:"sm",className:"flex items-center space-x-1 hover:bg-green-50 hover:border-green-200",children:[o.jsx(db,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{children:"Better"})]}),o.jsxs(ve,{onClick:()=>g(w.id,"same"),variant:"outline",size:"sm",className:"flex items-center space-x-1 hover:bg-yellow-50 hover:border-yellow-200",children:[o.jsx(bQ,{className:"h-4 w-4 text-yellow-600"}),o.jsx("span",{children:"Same"})]}),o.jsxs(ve,{onClick:()=>g(w.id,"stressed"),variant:"outline",size:"sm",className:"flex items-center space-x-1 hover:bg-red-50 hover:border-red-200",children:[o.jsx(pQ,{className:"h-4 w-4 text-red-600"}),o.jsx("span",{children:"Still Stressed"})]})]})]}),s===w.id&&o.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Of,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-sm text-green-800",children:"Thank you for your feedback! "})]})})]},w.id)})})})]})]})}function R2e(){return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Bm,{}),o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"mb-6",children:o.jsx(Nn,{href:"/",children:o.jsxs(ve,{variant:"ghost",size:"sm",className:"hover:bg-neutral-100 animate-pop-in hover-scale button-press",children:[o.jsx(ja,{className:"h-4 w-4 mr-2"}),"Back to Main"]})})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[o.jsx(rn,{className:"h-8 w-8 text-purple-600"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Wellness Suggestions"})]}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Personalized wellness suggestions tailored to your parenting journey. Take small steps toward better self-care and emotional well-being."})]}),o.jsx(D2e,{})]})})]})}function O2e(){return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx(Nn,{href:"/",children:o.jsxs(ve,{variant:"outline",className:"hover-scale mb-4","data-testid":"button-back-home",children:[o.jsx(ja,{className:"h-4 w-4 mr-2"}),"Back to Main"]})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Privacy Policy & Terms of Use"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Effective Date: August 1, 2025 | Operated by: Kool Arrow Solutions LLC"})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[o.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[o.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-6",children:"By signing up, you agree to this Privacy Policy and the Terms of Use outlined below."}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"1. Information We Collect"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"We collect the following types of information:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700 dark:text-gray-300",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Account Information:"})," Email, password (hashed), and optional profile data through Google, Facebook, GitHub, or Twitter login."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Journal Entries & Reflections:"})," Written content you submit in the app for personal wellness and parenting insights."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Child Profiles:"})," Information about your children that you provide (e.g., name, age range, personality traits)."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"AI Feedback Context:"})," Mood logs, selected prompts, and recent behavior insights you input for personalized support."]})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"2. How We Use Your Information"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"We use your data to:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700 dark:text-gray-300",children:[o.jsx("li",{children:"Deliver personalized wellness reflections and parenting insights using AI"}),o.jsx("li",{children:"Maintain secure authentication and session management"}),o.jsx("li",{children:"Provide mood tracking, journaling features, and parenting tools"}),o.jsx("li",{children:"Send optional notifications (e.g., reminders or progress reports)"}),o.jsx("li",{children:"Improve user experience and support your parenting journey"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"3. Data Sharing & Third-Party Services"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"We do not sell or share your personal information with advertisers. However, we do share limited data with trusted third parties for functionality:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700 dark:text-gray-300",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"OpenAI API:"})," Journal entries and parenting context are processed via OpenAI's GPT-4o to generate personalized insights. Per OpenAI's policy, API data is not stored long term or used for training."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Brevo (formerly Sendinblue):"})," We use Brevo to send optional email reminders and progress reports."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"OAuth Providers:"})," If you sign in using Google, Facebook, GitHub, or Twitter, we receive only basic profile data (email and name)."]})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"4. Data Security"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"We take strong precautions to protect your data:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700 dark:text-gray-300",children:[o.jsx("li",{children:"All data in transit is encrypted using HTTPS"}),o.jsx("li",{children:"Passwords are hashed using bcrypt"}),o.jsx("li",{children:"Session tokens are securely generated and stored"}),o.jsx("li",{children:"Database encryption and backups are managed by our provider, Neon Database"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"5. Your Control Over Your Data"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"You can:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700 dark:text-gray-300",children:[o.jsx("li",{children:"Delete individual journal entries or child profiles"}),o.jsx("li",{children:"Revoke access or sign out at any time"}),o.jsx("li",{children:"Delete your account"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"6. Children's Privacy"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"This app is intended only for adult parents and caregivers. We do not knowingly collect information directly from children under 18. Any child-related data is provided by the parent or caregiver and used solely to support parenting goals."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"7. Service Availability"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:'We aim to maintain reliable access, but the App may experience occasional downtime due to maintenance, technical issues, or third-party outages. The service is provided "as is" without guarantees of uptime or availability.'})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"8. Accessibility"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"We are committed to accessibility. If you require accommodations or support, please contact us at info@socialworkmagic.com and we will make reasonable efforts to assist you."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"9. Intellectual Property & Content Use"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"All intellectual property within the App is owned by Ernesto Bejarano  Kool Arrow Solutions LLC. No content or code may be reused, modified, or redistributed without express written permission."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"10. Dispute Resolution"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"In the event of a dispute, both parties agree to attempt resolution through good-faith negotiation. If unresolved, the matter will be settled through mediation, and if necessary, binding arbitration under the rules of the American Arbitration Association."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"11. Limitation of Liability"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:'This service is provided "as is" with no warranties of any kind. Ernesto Bejarano  Kool Arrow Solutions LLC shall not be liable for any indirect, incidental, special, or consequential damages resulting from your use of the App. Your sole remedy is to stop using the service.'})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"12. Governing Law"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"These terms are governed by the laws of the State of California, United States, without regard to conflict of law principles."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"13. Updates and Modifications"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"We may update this policy and terms of use from time to time. If changes are material, we will notify users by email or through the App."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"14. Contact Us"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"If you have questions about this Privacy Policy or Terms of Use, contact us at:"}),o.jsxs("div",{className:"mt-3 p-4 bg-blue-50 dark:bg-gray-700 rounded-lg",children:[o.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"Kool Arrow Solutions LLC"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:" info@socialworkmagic.com"})]})]})]}),o.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200 dark:border-gray-600",children:o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"Last updated: August 1, 2025"})})]})]})})}function F2e(){var d,h;const e=GO(),{showSignUpPrompt:t,setShowSignUpPrompt:n,showTour:r,signUpTrigger:s,handleSignUp:i,handleTourComplete:a,triggerSignUpPrompt:l}=e;console.log("AppRouter onboarding context:",e),console.log("AppRouter showTour:",r);const c=Yo();console.log("App auth state:",{isAuthenticated:c.isAuthenticated,isLoading:c.isLoading,user:c.user,hasJustSignedUp:c.hasJustSignedUp,hasJustLoggedIn:c.hasJustLoggedIn});const u=async()=>{console.log("Testing manual login...");try{const f=await fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({identifier:"testuser123",password:"password123"})});console.log("Login response status:",f.status);const p=await f.json();console.log("Login response data:",p);const g=await fetch("/auth/user",{credentials:"include"});console.log("Auth check status:",g.status);const x=await g.json();console.log("Auth check data:",x)}catch(f){console.error("Login test error:",f)}};return window.testLogin=u,window.simulateMobile=()=>{Object.defineProperty(navigator,"userAgent",{value:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0 Mobile/15E148 Safari/604.1",writable:!1}),console.log("Mobile simulation enabled - refresh page to see mobile features")},window.testWelcomeModal=()=>{localStorage.setItem("parentjourney_just_logged_in","true"),console.log("Login flag set - refresh page to see welcome modal"),window.location.reload()},o.jsxs(o.Fragment,{children:[o.jsxs(LG,{children:[o.jsx(Ti,{path:"/",component:()=>o.jsx(cge,{triggerSignUpPrompt:l})}),o.jsx(Ti,{path:"/analytics",component:()=>o.jsx(Yve,{triggerSignUpPrompt:l})}),o.jsx(Ti,{path:"/milestones",component:t1e}),o.jsx(Ti,{path:"/settings",component:()=>o.jsx(L1e,{triggerSignUpPrompt:l})}),o.jsx(Ti,{path:"/child-entries",component:I1e}),o.jsx(Ti,{path:"/journal-history",component:()=>o.jsx(Dbe,{triggerSignUpPrompt:l})}),o.jsx(Ti,{path:"/community",component:Rbe}),o.jsx(Ti,{path:"/wellness",component:R2e}),o.jsx(Ti,{path:"/admin",component:Vbe}),o.jsx(Ti,{path:"/checkout",component:P2e}),o.jsx(Ti,{path:"/payment-demo",component:T2e}),o.jsx(Ti,{path:"/privacy-policy",component:O2e}),o.jsx(Ti,{component:uge})]}),o.jsx(ZZ,{isOpen:t,onClose:()=>n(!1),onSignUp:i,trigger:s}),o.jsx(UO,{isOpen:r,onClose:a}),o.jsx(cee,{isVisible:c.hasJustLoggedIn,onClose:c.clearLoginStatus,userName:((d=c.user)==null?void 0:d.name)||((h=c.user)==null?void 0:h.username)})]})}function z2e(){return o.jsx(ZG,{client:H8,children:o.jsx(BJ,{children:o.jsx(lee,{children:o.jsxs(oee,{children:[o.jsx(mX,{}),o.jsx(F2e,{})]})})})})}tge();b8(document.getElementById("root")).render(o.jsx(z2e,{}));export{En as _,vv as c,h0 as g};
